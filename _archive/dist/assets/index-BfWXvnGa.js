import{u as N,j as e}from"./contexts-fbpOeTmm.js";import{r as l,e as y}from"./react-vendor-CFDIsUAY.js";import{H as k}from"./Helmet-B3bMicap.js";import{H as S,S as w}from"./Sidebar-Q0ML3SY6.js";import{I as i,B as g}from"./index-BPV3rumr.js";import"./services-CdXttHtG.js";import"./supabase-CIvuJI4W.js";import"./charts-vendor-i33Lw0zL.js";import"./ui-vendor-BrXTGbgA.js";const F=()=>{var m;const[n,f]=l.useState(!1),[o,x]=l.useState("general"),d=y(),{user:a,isLoading:c}=N();l.useEffect(()=>{!c&&a&&a.role!=="principal"&&(console.warn("⚠️ Accès refusé : Cette page est réservée au directeur"),alert("Accès refusé : Cette page est réservée au directeur de l'école."),d("/"))},[a,c,d]);const u=()=>{f(!n)},h=[{id:"general",label:"Général",icon:"Settings"},{id:"academic",label:"Académique",icon:"BookOpen"},{id:"security",label:"Sécurité",icon:"Shield"},{id:"notifications",label:"Notifications",icon:"Bell"},{id:"system",label:"Système",icon:"Server"}],[s,b]=l.useState({schoolName:"EduTrack CM",schoolAddress:"Douala, Cameroun",schoolPhone:"+237 6XX XXX XXX",schoolEmail:"info@edutrack.cm",academicYear:"2024-2025",termSystem:"trimester",gradingSystem:"20",passGrade:"10",language:"fr",timezone:"Africa/Douala",autoBackup:!0,emailNotifications:!0,smsNotifications:!1,maxFileSize:"10",sessionTimeout:"60"}),t=(r,j)=>{b(v=>({...v,[r]:j}))},p=()=>{console.log("Saving settings:",s),alert("Paramètres sauvegardés avec succès !")};return e.jsxs(e.Fragment,{children:[e.jsxs(k,{children:[e.jsx("title",{children:"Paramètres École - EduTrack CM"}),e.jsx("meta",{name:"description",content:"Configurer les paramètres de l'école"})]}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(S,{userRole:a==null?void 0:a.role,userName:(a==null?void 0:a.full_name)||((m=a==null?void 0:a.email)==null?void 0:m.split("@")[0])||"Utilisateur",isCollapsed:n,onToggleSidebar:u}),e.jsxs("div",{className:"flex pt-16",children:[e.jsx(w,{userRole:a==null?void 0:a.role,isCollapsed:n,onToggle:u}),e.jsxs("main",{className:`flex-1 transition-all duration-300 ${n?"lg:ml-20":"lg:ml-64"} p-6`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(i,{name:"Settings",size:20,className:"text-primary"})}),e.jsx("h1",{className:"text-2xl font-heading font-heading-bold text-foreground",children:"Paramètres École"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Configurer les paramètres généraux de l'établissement"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-card border border-border rounded-lg p-4 shadow-card",children:e.jsx("nav",{className:"space-y-2",children:h.map(r=>e.jsxs("button",{onClick:()=>x(r.id),className:`w-full flex items-center space-x-3 px-3 py-2 text-left rounded-md transition-colors ${o===r.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[e.jsx(i,{name:r.icon,size:16}),e.jsx("span",{className:"text-sm",children:r.label})]},r.id))})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 shadow-card",children:[o==="general"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-heading-semibold text-card-foreground mb-4",children:"Informations Générales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Nom de l'école"}),e.jsx("input",{type:"text",value:s.schoolName,onChange:r=>t("schoolName",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Adresse"}),e.jsx("input",{type:"text",value:s.schoolAddress,onChange:r=>t("schoolAddress",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Téléphone"}),e.jsx("input",{type:"tel",value:s.schoolPhone,onChange:r=>t("schoolPhone",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email"}),e.jsx("input",{type:"email",value:s.schoolEmail,onChange:r=>t("schoolEmail",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Langue"}),e.jsxs("select",{value:s.language,onChange:r=>t("language",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Fuseau horaire"}),e.jsxs("select",{value:s.timezone,onChange:r=>t("timezone",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"Africa/Douala",children:"Afrique/Douala"}),e.jsx("option",{value:"Africa/Yaounde",children:"Afrique/Yaoundé"})]})]})]})]})}),o==="academic"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-heading-semibold text-card-foreground mb-4",children:"Paramètres Académiques"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Année scolaire"}),e.jsx("input",{type:"text",value:s.academicYear,onChange:r=>t("academicYear",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Système de période"}),e.jsxs("select",{value:s.termSystem,onChange:r=>t("termSystem",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"trimester",children:"Trimestre"}),e.jsx("option",{value:"semester",children:"Semestre"}),e.jsx("option",{value:"quarter",children:"Quadrimestre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Système de notation"}),e.jsxs("select",{value:s.gradingSystem,onChange:r=>t("gradingSystem",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"20",children:"Sur 20"}),e.jsx("option",{value:"100",children:"Sur 100"}),e.jsx("option",{value:"letter",children:"Lettres (A-F)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Note de passage"}),e.jsx("input",{type:"number",value:s.passGrade,onChange:r=>t("passGrade",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]})}),o==="security"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-heading-semibold text-card-foreground mb-4",children:"Paramètres de Sécurité"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Durée de session (minutes)"}),e.jsx("input",{type:"number",value:s.sessionTimeout,onChange:r=>t("sessionTimeout",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Taille max des fichiers (MB)"}),e.jsx("input",{type:"number",value:s.maxFileSize,onChange:r=>t("maxFileSize",r.target.value),className:"w-full p-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Sauvegarde automatique"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sauvegarder automatiquement les données"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.autoBackup,onChange:r=>t("autoBackup",r.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),o==="notifications"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-heading-semibold text-card-foreground mb-4",children:"Paramètres de Notifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Notifications Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir les notifications par email"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.emailNotifications,onChange:r=>t("emailNotifications",r.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Notifications SMS"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir les notifications par SMS"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.smsNotifications,onChange:r=>t("smsNotifications",r.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),o==="system"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-heading-semibold text-card-foreground mb-4",children:"Informations Système"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[e.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Version"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"EduTrack CM v2.1.0"})]}),e.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[e.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Base de données"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"PostgreSQL 14.0"})]}),e.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[e.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Stockage utilisé"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"2.4 GB / 10 GB"})]}),e.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[e.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Dernière sauvegarde"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aujourd'hui à 03:00"})]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-border",children:[e.jsx(g,{variant:"outline",children:"Annuler"}),e.jsxs(g,{onClick:p,children:[e.jsx(i,{name:"Save",size:16,className:"mr-2"}),"Sauvegarder"]})]})]})})]})]})]})]})]})};export{F as default};
//# sourceMappingURL=index-BfWXvnGa.js.map
