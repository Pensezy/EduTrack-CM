{"version":3,"file":"index-eBSYjkoc.js","sources":["../../src/pages/password-recovery/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Icon from '../../components/AppIcon';\r\nimport Button from '../../components/ui/Button';\r\nimport Input from '../../components/ui/Input';\r\n\r\nconst PasswordRecovery = () => {\r\n  const [step, setStep] = useState('email'); // 'email', 'success', 'error'\r\n  const [email, setEmail] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleSendRecoveryEmail = async () => {\r\n    if (!email) {\r\n      alert('Veuillez saisir votre adresse email');\r\n      return;\r\n    }\r\n\r\n    // Validation basique de l'email\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n      alert('Veuillez saisir une adresse email valide');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // Ici, on intégrerait la logique de récupération réelle\r\n      // avec l'API backend (Supabase, etc.)\r\n      \r\n      // Simulation\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      \r\n      // Simuler une réussite\r\n      setStep('success');\r\n      \r\n    } catch (error) {\r\n      console.error('Erreur récupération mot de passe:', error);\r\n      setStep('error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderEmailStep = () => (\r\n    <div className=\"max-w-md mx-auto\">\r\n      <div className=\"text-center mb-8\">\r\n        <div className=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n          <Icon name=\"Lock\" size={24} className=\"text-blue-600\" />\r\n        </div>\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n          Récupération de mot de passe\r\n        </h2>\r\n        <p className=\"text-gray-600\">\r\n          Saisissez votre adresse email pour recevoir un lien de réinitialisation\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg border border-gray-200 shadow-sm p-6\">\r\n        <div className=\"space-y-4\">\r\n          <Input\r\n            label=\"Adresse email\"\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            placeholder=\"votre.email@exemple.com\"\r\n            icon=\"Mail\"\r\n          />\r\n\r\n          <Button\r\n            onClick={handleSendRecoveryEmail}\r\n            loading={isLoading}\r\n            className=\"w-full bg-blue-600 hover:bg-blue-700\"\r\n            disabled={!email}\r\n          >\r\n            <Icon name=\"Send\" size={16} className=\"mr-2\" />\r\n            Envoyer le lien de récupération\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"mt-6 text-center\">\r\n          <Link\r\n            to=\"/login-authentication\"\r\n            className=\"text-sm text-blue-600 hover:text-blue-700 flex items-center justify-center\"\r\n          >\r\n            <Icon name=\"ArrowLeft\" size={16} className=\"mr-2\" />\r\n            Retour à la connexion\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n        <div className=\"flex items-start space-x-3\">\r\n          <Icon name=\"Info\" size={20} className=\"text-blue-600 mt-0.5\" />\r\n          <div>\r\n            <h3 className=\"font-medium text-blue-900\">Comment ça fonctionne ?</h3>\r\n            <ul className=\"text-sm text-blue-700 mt-2 space-y-1\">\r\n              <li>• Nous envoyons un lien sécurisé à votre email</li>\r\n              <li>• Cliquez sur le lien pour créer un nouveau mot de passe</li>\r\n              <li>• Le lien expire après 24 heures</li>\r\n              <li>• Si vous ne recevez pas l'email, vérifiez vos spams</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderSuccessStep = () => (\r\n    <div className=\"max-w-md mx-auto\">\r\n      <div className=\"text-center mb-8\">\r\n        <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n          <Icon name=\"CheckCircle\" size={24} className=\"text-green-600\" />\r\n        </div>\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n          Email envoyé !\r\n        </h2>\r\n        <p className=\"text-gray-600\">\r\n          Nous avons envoyé un lien de récupération à <strong>{email}</strong>\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg border border-gray-200 shadow-sm p-6\">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"text-center\">\r\n            <Icon name=\"Mail\" size={48} className=\"text-blue-600 mx-auto mb-4\" />\r\n            <p className=\"text-gray-700 mb-4\">\r\n              Vérifiez votre boîte email et cliquez sur le lien pour réinitialiser votre mot de passe.\r\n            </p>\r\n            <p className=\"text-sm text-gray-500\">\r\n              Le lien expirera dans 24 heures pour votre sécurité.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"border-t pt-4 space-y-2\">\r\n            <Button\r\n              onClick={() => {\r\n                setStep('email');\r\n                setEmail('');\r\n              }}\r\n              variant=\"outline\"\r\n              className=\"w-full\"\r\n            >\r\n              <Icon name=\"RotateCcw\" size={16} className=\"mr-2\" />\r\n              Renvoyer l'email\r\n            </Button>\r\n            \r\n            {/* Lien de simulation pour la démonstration */}\r\n            <div className=\"text-center mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg\">\r\n              <p className=\"text-xs text-amber-700 mb-2\">\r\n                <strong>Mode démonstration :</strong>\r\n              </p>\r\n              <Link\r\n                to={`/password-reset?token=demo-token-123&email=${email}`}\r\n                className=\"text-sm text-blue-600 hover:text-blue-700 underline\"\r\n              >\r\n                Simuler le clic sur le lien de l'email\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-6 text-center\">\r\n          <Link\r\n            to=\"/login-authentication\"\r\n            className=\"text-sm text-blue-600 hover:text-blue-700 flex items-center justify-center\"\r\n          >\r\n            <Icon name=\"ArrowLeft\" size={16} className=\"mr-2\" />\r\n            Retour à la connexion\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-6 bg-amber-50 border border-amber-200 rounded-lg p-4\">\r\n        <div className=\"flex items-start space-x-3\">\r\n          <Icon name=\"AlertTriangle\" size={20} className=\"text-amber-600 mt-0.5\" />\r\n          <div>\r\n            <h3 className=\"font-medium text-amber-900\">Vous ne recevez pas l'email ?</h3>\r\n            <ul className=\"text-sm text-amber-700 mt-2 space-y-1\">\r\n              <li>• Vérifiez votre dossier spam/courrier indésirable</li>\r\n              <li>• Assurez-vous que l'adresse email est correcte</li>\r\n              <li>• Attendez quelques minutes (délai de livraison)</li>\r\n              <li>• Contactez l'administration si le problème persiste</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderErrorStep = () => (\r\n    <div className=\"max-w-md mx-auto\">\r\n      <div className=\"text-center mb-8\">\r\n        <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n          <Icon name=\"XCircle\" size={24} className=\"text-red-600\" />\r\n        </div>\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n          Erreur de récupération\r\n        </h2>\r\n        <p className=\"text-gray-600\">\r\n          Une erreur s'est produite lors de l'envoi de l'email\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg border border-gray-200 shadow-sm p-6\">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"text-center\">\r\n            <Icon name=\"AlertCircle\" size={48} className=\"text-red-600 mx-auto mb-4\" />\r\n            <p className=\"text-gray-700 mb-4\">\r\n              Impossible d'envoyer l'email de récupération. Cela peut être dû à :\r\n            </p>\r\n            <ul className=\"text-sm text-gray-600 text-left space-y-1 mb-4\">\r\n              <li>• Adresse email non trouvée dans notre système</li>\r\n              <li>• Problème temporaire du service email</li>\r\n              <li>• Connexion internet instable</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"border-t pt-4 space-y-2\">\r\n            <Button\r\n              onClick={() => {\r\n                setStep('email');\r\n              }}\r\n              className=\"w-full bg-blue-600 hover:bg-blue-700\"\r\n            >\r\n              <Icon name=\"RotateCcw\" size={16} className=\"mr-2\" />\r\n              Réessayer\r\n            </Button>\r\n            \r\n            <Button\r\n              onClick={() => {\r\n                setStep('email');\r\n                setEmail('');\r\n              }}\r\n              variant=\"outline\"\r\n              className=\"w-full\"\r\n            >\r\n              <Icon name=\"Edit\" size={16} className=\"mr-2\" />\r\n              Changer d'email\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-6 text-center\">\r\n          <Link\r\n            to=\"/login-authentication\"\r\n            className=\"text-sm text-blue-600 hover:text-blue-700 flex items-center justify-center\"\r\n          >\r\n            <Icon name=\"ArrowLeft\" size={16} className=\"mr-2\" />\r\n            Retour à la connexion\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n        <div className=\"flex items-start space-x-3\">\r\n          <Icon name=\"HelpCircle\" size={20} className=\"text-blue-600 mt-0.5\" />\r\n          <div>\r\n            <h3 className=\"font-medium text-blue-900\">Besoin d'aide ?</h3>\r\n            <p className=\"text-sm text-blue-700 mt-1\">\r\n              Contactez l'administration de votre établissement ou votre administrateur système.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-lg\">\r\n        {step === 'email' && renderEmailStep()}\r\n        {step === 'success' && renderSuccessStep()}\r\n        {step === 'error' && renderErrorStep()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PasswordRecovery;"],"names":["PasswordRecovery","step","setStep","useState","email","setEmail","isLoading","setIsLoading","handleSendRecoveryEmail","resolve","error","renderEmailStep","jsxs","jsx","Icon","Input","e","Button","Link","renderSuccessStep","renderErrorStep"],"mappings":"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"}