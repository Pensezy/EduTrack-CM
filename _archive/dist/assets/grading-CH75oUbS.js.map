{"version":3,"file":"grading-CH75oUbS.js","sources":["../../src/utils/grading.js"],"sourcesContent":["// Utilitaires de calcul de notes et moyennes — Système camerounais\r\n\r\n// ============================================================\r\n// CONFIGURATION DES PALIERS ET MENTIONS PAR TYPE D'ÉTABLISSEMENT\r\n// ============================================================\r\n\r\n/**\r\n * Paliers francophone — École primaire (sur 10)\r\n */\r\nexport const PALIERS_PRIMAIRE_FR = [\r\n  { min: 9, max: 10, mention: 'Très bien', code: 'TB' },\r\n  { min: 8, max: 8.99, mention: 'Bien', code: 'B' },\r\n  { min: 6, max: 7.99, mention: 'Assez bien', code: 'AB' },\r\n  { min: 5, max: 5.99, mention: 'Passable', code: 'P' },\r\n  { min: 0, max: 4.99, mention: 'Échec', code: 'E' }\r\n];\r\n\r\n/**\r\n * Paliers francophone — Secondaire (sur 20)\r\n */\r\nexport const PALIERS_SECONDAIRE_FR = [\r\n  { min: 16, max: 20, mention: 'Très bien', code: 'TB' },\r\n  { min: 14, max: 15.99, mention: 'Bien', code: 'B' },\r\n  { min: 12, max: 13.99, mention: 'Assez bien', code: 'AB' },\r\n  { min: 10, max: 11.99, mention: 'Passable', code: 'P' },\r\n  { min: 0, max: 9.99, mention: 'Échec', code: 'E' }\r\n];\r\n\r\n/**\r\n * Paliers francophone — Université LMD (sur 20)\r\n */\r\nexport const PALIERS_UNIVERSITE_FR = [\r\n  { min: 16, max: 20, mention: 'Très Bien', code: 'A', validated: true },\r\n  { min: 14, max: 15.99, mention: 'Bien', code: 'B', validated: true },\r\n  { min: 12, max: 13.99, mention: 'Assez Bien', code: 'C', validated: true },\r\n  { min: 10, max: 11.99, mention: 'Passable', code: 'D', validated: true },\r\n  { min: 7, max: 9.99, mention: 'Rattrapage', code: 'R', validated: false },\r\n  { min: 0, max: 6.99, mention: 'Non Validé', code: 'NV', validated: false }\r\n];\r\n\r\n/**\r\n * Paliers anglophone — Primary School (pourcentage → lettre)\r\n */\r\nexport const PALIERS_PRIMARY_EN = [\r\n  { min: 80, max: 100, letter: 'A', mention: 'Excellent' },\r\n  { min: 70, max: 79.99, letter: 'B', mention: 'Very Good' },\r\n  { min: 60, max: 69.99, letter: 'C', mention: 'Good' },\r\n  { min: 50, max: 59.99, letter: 'D', mention: 'Fair' },\r\n  { min: 40, max: 49.99, letter: 'E', mention: 'Pass' },\r\n  { min: 0, max: 39.99, letter: 'F', mention: 'Fail' }\r\n];\r\n\r\n/**\r\n * Paliers anglophone — Secondary / GCE O-Level (pourcentage → grade)\r\n */\r\nexport const PALIERS_SECONDARY_EN = [\r\n  { min: 80, max: 100, grade: 'A1', mention: 'Excellent' },\r\n  { min: 70, max: 79.99, grade: 'B2', mention: 'Very Good' },\r\n  { min: 65, max: 69.99, grade: 'B3', mention: 'Good' },\r\n  { min: 60, max: 64.99, grade: 'C4', mention: 'Credit' },\r\n  { min: 55, max: 59.99, grade: 'C5', mention: 'Credit' },\r\n  { min: 50, max: 54.99, grade: 'C6', mention: 'Credit' },\r\n  { min: 45, max: 49.99, grade: 'D7', mention: 'Pass' },\r\n  { min: 40, max: 44.99, grade: 'E8', mention: 'Pass' },\r\n  { min: 0, max: 39.99, grade: 'F9', mention: 'Fail' }\r\n];\r\n\r\n/**\r\n * Paliers anglophone — GCE A-Level\r\n */\r\nexport const PALIERS_GCE_ALEVEL = [\r\n  { min: 90, max: 100, grade: 'A*', ucasPoints: 56 },\r\n  { min: 80, max: 89.99, grade: 'A', ucasPoints: 48 },\r\n  { min: 70, max: 79.99, grade: 'B', ucasPoints: 40 },\r\n  { min: 60, max: 69.99, grade: 'C', ucasPoints: 32 },\r\n  { min: 50, max: 59.99, grade: 'D', ucasPoints: 24 },\r\n  { min: 40, max: 49.99, grade: 'E', ucasPoints: 16 },\r\n  { min: 0, max: 39.99, grade: 'U', ucasPoints: 0 }\r\n];\r\n\r\n/**\r\n * Mentions honorifiques du conseil de classe\r\n */\r\nexport const MENTIONS_HONORIFIQUES = {\r\n  felicitations: { min: 16, label: 'Félicitations du Conseil' },\r\n  encouragements: { min: 14, label: 'Encouragements' },\r\n  tableauHonneur: { min: 12, label: \"Tableau d'Honneur\" },\r\n  avertissementTravail: { max: 8, label: 'Avertissement Travail' },\r\n  avertissementConduite: { conduct: true, label: 'Avertissement Conduite' }\r\n};\r\n\r\n// ============================================================\r\n// FONCTIONS UTILITAIRES\r\n// ============================================================\r\n\r\nexport function toPercent(grade, max = 20) {\r\n  const g = parseFloat(grade);\r\n  const m = parseFloat(max) || 1;\r\n  if (isNaN(g) || isNaN(m) || m === 0) return 0;\r\n  return (g / m) * 100;\r\n}\r\n\r\nexport function percentToScale(percent, scale = 20) {\r\n  return (percent * scale) / 100;\r\n}\r\n\r\n/**\r\n * Détecter le système linguistique (francophone / anglophone)\r\n */\r\nexport function detectLanguageSystem(schoolType) {\r\n  if (!schoolType) return 'francophone';\r\n  const t = String(schoolType).toLowerCase();\r\n  if (t.includes('anglophone') || t.includes('english') || t.includes('gce') || t.includes('bilingual')) {\r\n    return 'anglophone';\r\n  }\r\n  return 'francophone';\r\n}\r\n\r\n/**\r\n * Détecter le niveau scolaire\r\n */\r\nexport function detectSchoolLevel(schoolType) {\r\n  if (!schoolType) return 'secondaire';\r\n  const t = String(schoolType).toLowerCase();\r\n  if (t.includes('maternelle') || t.includes('nursery')) return 'maternelle';\r\n  if (t.includes('primaire') || t.includes('primary')) return 'primaire';\r\n  if (t.includes('college') || t.includes('lycee') || t.includes('lycée') || t.includes('secondary')) return 'secondaire';\r\n  if (t.includes('univers') || t.includes('university') || t.includes('faculte') || t.includes('faculty')) return 'universite';\r\n  return 'secondaire';\r\n}\r\n\r\nfunction detectDefaultScale(schoolType, grades) {\r\n  const level = detectSchoolLevel(schoolType);\r\n  if (level === 'primaire' || level === 'maternelle') return 10;\r\n  if (level === 'universite' || level === 'secondaire') return 20;\r\n\r\n  // Fallback : inspecter max_grade courant\r\n  const mostCommonMax = grades && grades.length > 0\r\n    ? grades.reduce((acc, g) => {\r\n        const k = g.max_grade || 20;\r\n        acc[k] = (acc[k] || 0) + 1;\r\n        return acc;\r\n      }, {})\r\n    : {};\r\n\r\n  const entries = Object.entries(mostCommonMax);\r\n  if (entries.length === 0) return 20;\r\n  const [commonMax] = entries.sort((a, b) => b[1] - a[1])[0];\r\n  const cm = parseInt(commonMax, 10);\r\n  if (cm === 10) return 10;\r\n  return 20;\r\n}\r\n\r\n/**\r\n * Obtenir les paliers appropriés selon le type d'établissement\r\n */\r\nexport function getPaliers(schoolType) {\r\n  const lang = detectLanguageSystem(schoolType);\r\n  const level = detectSchoolLevel(schoolType);\r\n\r\n  if (lang === 'anglophone') {\r\n    if (level === 'primaire' || level === 'maternelle') return PALIERS_PRIMARY_EN;\r\n    return PALIERS_SECONDARY_EN;\r\n  }\r\n\r\n  // Francophone\r\n  if (level === 'primaire' || level === 'maternelle') return PALIERS_PRIMAIRE_FR;\r\n  if (level === 'universite') return PALIERS_UNIVERSITE_FR;\r\n  return PALIERS_SECONDAIRE_FR;\r\n}\r\n\r\n/**\r\n * Obtenir la mention/grade pour une note donnée\r\n * @param {number} score — Note ou pourcentage\r\n * @param {string} schoolType — Type d'établissement\r\n * @returns {{ mention: string, code?: string, letter?: string, grade?: string, validated?: boolean }}\r\n */\r\nexport function getMention(score, schoolType) {\r\n  const paliers = getPaliers(schoolType);\r\n  const lang = detectLanguageSystem(schoolType);\r\n  const level = detectSchoolLevel(schoolType);\r\n\r\n  // Normaliser le score en pourcentage si nécessaire (pour système anglophone)\r\n  let percent = score;\r\n  if (lang === 'francophone') {\r\n    const scale = (level === 'primaire' || level === 'maternelle') ? 10 : 20;\r\n    percent = toPercent(score, scale);\r\n  }\r\n\r\n  for (const p of paliers) {\r\n    if (percent >= p.min && percent <= p.max) {\r\n      return { ...p };\r\n    }\r\n  }\r\n\r\n  return { mention: 'Non classé', code: 'NC' };\r\n}\r\n\r\n/**\r\n * Obtenir la mention honorifique du conseil de classe\r\n */\r\nexport function getMentionHonorifique(average, conductScore = null, schoolType = 'secondaire') {\r\n  const lang = detectLanguageSystem(schoolType);\r\n  const level = detectSchoolLevel(schoolType);\r\n  const scale = (level === 'primaire') ? 10 : 20;\r\n  \r\n  // Normaliser sur 20 pour comparaison\r\n  const avg20 = (scale === 10) ? average * 2 : average;\r\n\r\n  if (avg20 >= MENTIONS_HONORIFIQUES.felicitations.min) {\r\n    return MENTIONS_HONORIFIQUES.felicitations.label;\r\n  }\r\n  if (avg20 >= MENTIONS_HONORIFIQUES.encouragements.min) {\r\n    return MENTIONS_HONORIFIQUES.encouragements.label;\r\n  }\r\n  if (avg20 >= MENTIONS_HONORIFIQUES.tableauHonneur.min) {\r\n    return MENTIONS_HONORIFIQUES.tableauHonneur.label;\r\n  }\r\n  if (avg20 <= MENTIONS_HONORIFIQUES.avertissementTravail.max) {\r\n    return MENTIONS_HONORIFIQUES.avertissementTravail.label;\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * Calculer la moyenne d'une matière à partir d'un tableau de notes\r\n * Chaque note attendue: { grade, max_grade, coefficient }\r\n * Retourne la moyenne sur l'échelle choisie (par défaut 20)\r\n */\r\nexport function computeSubjectAverage(grades = [], options = {}) {\r\n  const { schoolType = null, targetScale = null } = options;\r\n  const scale = targetScale || detectDefaultScale(schoolType, grades);\r\n\r\n  if (!grades || grades.length === 0) return 0;\r\n\r\n  let weightedSum = 0;\r\n  let coefSum = 0;\r\n\r\n  grades.forEach(g => {\r\n    const coef = Number(g.coefficient) || 1;\r\n    const max = Number(g.max_grade) || 20;\r\n    const percent = toPercent(g.grade, max);\r\n    weightedSum += percent * coef;\r\n    coefSum += coef;\r\n  });\r\n\r\n  const avgPercent = coefSum > 0 ? (weightedSum / coefSum) : (weightedSum / grades.length);\r\n\r\n  return parseFloat(percentToScale(avgPercent, scale).toFixed(2));\r\n}\r\n\r\n/**\r\n * Calculer la moyenne générale à partir d'un tableau de matières\r\n * subjects: [{ average, coefficient }]\r\n * Le coefficient ici est le coefficient de la MATIÈRE (pas de l'évaluation)\r\n */\r\nexport function computeOverallAverage(subjects = [], defaultSubjectCoef = 1) {\r\n  if (!subjects || subjects.length === 0) return 0;\r\n\r\n  let sum = 0;\r\n  let coefSum = 0;\r\n  subjects.forEach(s => {\r\n    const coef = Number(s.coefficient) || defaultSubjectCoef || 1;\r\n    const avg = Number(s.average) || 0;\r\n    sum += avg * coef;\r\n    coefSum += coef;\r\n  });\r\n\r\n  return coefSum > 0 ? parseFloat((sum / coefSum).toFixed(2)) : 0;\r\n}\r\n\r\n/**\r\n * Calculer le rang d'un élève dans sa classe\r\n * @param {number} studentAverage — Moyenne de l'élève\r\n * @param {number[]} allAverages — Toutes les moyennes de la classe\r\n * @returns {{ rank: number, total: number, suffix: string }}\r\n */\r\nexport function computeRank(studentAverage, allAverages = []) {\r\n  if (!allAverages || allAverages.length === 0) {\r\n    return { rank: 1, total: 1, suffix: 'er' };\r\n  }\r\n\r\n  // Trier par ordre décroissant\r\n  const sorted = [...allAverages].sort((a, b) => b - a);\r\n  const rank = sorted.findIndex(avg => avg === studentAverage) + 1;\r\n  const total = sorted.length;\r\n  \r\n  // Suffixe français\r\n  const suffix = rank === 1 ? 'er' : 'ème';\r\n\r\n  return { rank, total, suffix };\r\n}\r\n\r\n/**\r\n * Générer un résumé complet pour un élève (bulletin)\r\n */\r\nexport function generateStudentSummary(studentGrades, subjectCoefficients = {}, schoolType = 'secondaire') {\r\n  const level = detectSchoolLevel(schoolType);\r\n  const lang = detectLanguageSystem(schoolType);\r\n  const scale = (level === 'primaire' || level === 'maternelle') ? 10 : 20;\r\n\r\n  // Regrouper les notes par matière\r\n  const bySubject = {};\r\n  (studentGrades || []).forEach(g => {\r\n    const subj = g.subject || g.subject_name || 'Autre';\r\n    if (!bySubject[subj]) bySubject[subj] = [];\r\n    bySubject[subj].push(g);\r\n  });\r\n\r\n  // Calculer moyenne par matière\r\n  const subjectsData = Object.entries(bySubject).map(([name, grades]) => {\r\n    const average = computeSubjectAverage(grades, { schoolType });\r\n    const subjectCoef = subjectCoefficients[name] || 1;\r\n    const mentionInfo = getMention(average, schoolType);\r\n\r\n    return {\r\n      name,\r\n      grades,\r\n      average,\r\n      coefficient: subjectCoef,\r\n      mention: mentionInfo.mention,\r\n      code: mentionInfo.code || mentionInfo.grade || mentionInfo.letter\r\n    };\r\n  });\r\n\r\n  // Moyenne générale pondérée par coefficient matière\r\n  const overallAverage = computeOverallAverage(subjectsData);\r\n  const overallMention = getMention(overallAverage, schoolType);\r\n  const honorMention = getMentionHonorifique(overallAverage, null, schoolType);\r\n\r\n  return {\r\n    subjects: subjectsData,\r\n    overallAverage,\r\n    scale,\r\n    mention: overallMention.mention,\r\n    code: overallMention.code || overallMention.grade || overallMention.letter,\r\n    honorMention,\r\n    languageSystem: lang,\r\n    level\r\n  };\r\n}\r\n\r\nexport default {\r\n  toPercent,\r\n  percentToScale,\r\n  computeSubjectAverage,\r\n  computeOverallAverage,\r\n  computeRank,\r\n  getMention,\r\n  getMentionHonorifique,\r\n  getPaliers,\r\n  generateStudentSummary,\r\n  detectLanguageSystem,\r\n  detectSchoolLevel,\r\n  PALIERS_PRIMAIRE_FR,\r\n  PALIERS_SECONDAIRE_FR,\r\n  PALIERS_UNIVERSITE_FR,\r\n  PALIERS_PRIMARY_EN,\r\n  PALIERS_SECONDARY_EN,\r\n  PALIERS_GCE_ALEVEL,\r\n  MENTIONS_HONORIFIQUES\r\n};\r\n"],"names":["PALIERS_PRIMAIRE_FR","PALIERS_SECONDAIRE_FR","PALIERS_UNIVERSITE_FR","PALIERS_PRIMARY_EN","PALIERS_SECONDARY_EN","MENTIONS_HONORIFIQUES","toPercent","grade","max","g","m","percentToScale","percent","scale","detectLanguageSystem","schoolType","t","detectSchoolLevel","detectDefaultScale","grades","level","mostCommonMax","acc","k","entries","commonMax","a","b","getPaliers","lang","getMention","score","paliers","p","getMentionHonorifique","average","conductScore","avg20","computeSubjectAverage","options","targetScale","weightedSum","coefSum","coef","avgPercent","computeOverallAverage","subjects","defaultSubjectCoef","sum","s","avg","computeRank","studentAverage","allAverages","sorted","rank","total"],"mappings":"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"}