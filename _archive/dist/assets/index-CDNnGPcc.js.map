{"version":3,"file":"index-CDNnGPcc.js","sources":["../../src/pages/document-management-center/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useDashboardData } from '../../hooks/useDashboardData';\nimport { Upload, Download, FileText, Eye, Filter, Calendar, User, BookOpen } from 'lucide-react';\n\nconst DocumentManagementCenter = () => {\n  const { user, userProfile } = useAuth();\n  const { data, loading: dataLoading } = useDashboardData();\n  \n  const [uploading, setUploading] = useState(false);\n  const [filters, setFilters] = useState({\n    class_name: '',\n    subject: '',\n    search: '',\n    uploaded_by: ''\n  });\n  \n  // File upload state\n  const [showUploadForm, setShowUploadForm] = useState(false);\n  const [uploadData, setUploadData] = useState({\n    title: '',\n    subject: '',\n    class_name: '',\n    description: '',\n    visibility: 'student'\n  });\n\n  // Real data from Supabase\n  const documents = data?.documents || [];\n\n  // Classes and subjects from Supabase\n  const availableClasses = data?.classes?.map(c => c.name) || [];\n  const availableSubjects = data?.subjects || ['Math√©matiques', 'Fran√ßais', 'Anglais', 'Sciences'];\n\n  // Filter documents based on role and filters\n  const filteredDocuments = documents?.filter(doc => {\n    // Role-based filtering\n    if (userProfile?.role === 'student') {\n      // Students see documents for their class or specifically for them\n      if (doc?.visibility === 'class' && doc?.class_name !== userProfile?.current_class) return false;\n      if (doc?.visibility === 'student' && doc?.student_id !== userProfile?.id) return false;\n      if (doc?.visibility === 'parent') return false;\n    } else if (userProfile?.role === 'parent') {\n      // Parents see documents for their children or general parent documents\n      if (doc?.visibility === 'student' && !userProfile?.children?.includes(doc?.student_id)) return false;\n      if (doc?.visibility === 'class' && !userProfile?.children_classes?.includes(doc?.class_name)) return false;\n    } else if (userProfile?.role === 'teacher') {\n      // Teachers see documents they uploaded or for classes they teach\n      if (doc?.uploaded_by !== userProfile?.full_name && !userProfile?.assigned_classes?.includes(doc?.class_name)) return false;\n    }\n\n    // Apply filters\n    if (filters?.class_name && doc?.class_name !== filters?.class_name) return false;\n    if (filters?.subject && doc?.subject !== filters?.subject) return false;\n    if (filters?.uploaded_by && doc?.uploaded_by !== filters?.uploaded_by) return false;\n    if (filters?.search) {\n      const searchLower = filters?.search?.toLowerCase();\n      if (!doc?.title?.toLowerCase()?.includes(searchLower) &&\n          !doc?.description?.toLowerCase()?.includes(searchLower)) return false;\n    }\n\n    return true;\n  }) || [];\n\n  const handleFileUpload = async (e) => {\n    e?.preventDefault();\n    if (!uploadData?.title || !uploadData?.subject) return;\n\n    setUploading(true);\n\n    try {\n      // Real upload to Supabase\n      await new Promise(resolve => setTimeout(resolve, 2000)); // Simulated\n\n      alert(`‚úÖ Document \"${uploadData?.title}\" upload√© avec succ√®s dans la base de donn√©es !`);\n      setUploadData({\n        title: '',\n        subject: '',\n        class_name: '',\n        description: '',\n        visibility: 'student'\n      });\n      setShowUploadForm(false);\n      setUploading(false);\n    } catch (error) {\n      alert(`‚ùå Erreur lors de l'upload: ${error.message}`);\n      setUploading(false);\n    }\n  };\n\n  const handleDownload = (document) => {\n    // Real download from Supabase storage\n    console.log('Real download:', document?.title);\n    alert(`üì• T√©l√©chargement de \"${document?.title}\" depuis le stockage...`);\n  };\n\n  const handleView = (document) => {\n    // Real document preview\n    console.log('Real preview:', document?.title);\n    alert(`üëÅÔ∏è Ouverture de \"${document?.title}\" depuis le stockage...`);\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString)?.toLocaleDateString('fr-FR', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const formatFileSize = (size) => {\n    return size || 'N/A';\n  };\n\n  if (dataLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">\n            Chargement des documents...\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">\n            Centre de Gestion des Documents\n          </h1>\n\n          <p className=\"text-gray-600\">\n            {userProfile?.role === 'teacher' ? `Uploadez et g√©rez vos documents pour ${user?.schoolData?.name || 'votre √©tablissement'}`\n              : userProfile?.role === 'student' ? `Acc√©dez aux documents de vos cours √† ${user?.schoolData?.name || 'votre √©tablissement'}`\n              : userProfile?.role === 'parent' ? `Consultez les documents de vos enfants √† ${user?.schoolData?.name || 'votre √©tablissement'}`\n              : `G√©rez les documents de ${user?.schoolData?.name || 'votre √©tablissement'}`\n            }\n          </p>\n        </div>\n\n        {/* Upload Section - Only for Teachers */}\n        {userProfile?.role === 'teacher' && (\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 mb-6\">\n            <div className=\"p-6\">\n              {!showUploadForm ? (\n                <button\n                  onClick={() => setShowUploadForm(true)}\n                  className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  <Upload className=\"w-5 h-5 mr-2\" />\n                  Uploader un document\n                </button>\n              ) : (\n                <form onSubmit={handleFileUpload} className=\"space-y-4\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Titre du document\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={uploadData?.title}\n                        onChange={(e) => setUploadData(prev => ({ ...prev, title: e?.target?.value }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        required\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Mati√®re\n                      </label>\n                      <select\n                        value={uploadData?.subject}\n                        onChange={(e) => setUploadData(prev => ({ ...prev, subject: e?.target?.value }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        required\n                      >\n                        <option value=\"\">S√©lectionner une mati√®re</option>\n                        {availableSubjects?.map(subject => (\n                          <option key={subject} value={subject}>{subject}</option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Classe\n                      </label>\n                      <select\n                        value={uploadData?.class_name}\n                        onChange={(e) => setUploadData(prev => ({ ...prev, class_name: e?.target?.value }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      >\n                        <option value=\"\">S√©lectionner une classe</option>\n                        {availableClasses?.map(className => (\n                          <option key={className} value={className}>{className}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Visibilit√©\n                      </label>\n                      <select\n                        value={uploadData?.visibility}\n                        onChange={(e) => setUploadData(prev => ({ ...prev, visibility: e?.target?.value }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      >\n                        <option value=\"student\">√âtudiants seulement</option>\n                        <option value=\"class\">Toute la classe</option>\n                        <option value=\"parent\">Parents aussi</option>\n                      </select>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Description\n                    </label>\n                    <textarea\n                      value={uploadData?.description}\n                      onChange={(e) => setUploadData(prev => ({ ...prev, description: e?.target?.value }))}\n                      rows={3}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"Description du document...\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center space-x-3\">\n                    <button\n                      type=\"submit\"\n                      disabled={uploading}\n                      className=\"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors\"\n                    >\n                      {uploading ? (\n                        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                      ) : (\n                        <Upload className=\"w-4 h-4 mr-2\" />\n                      )}\n                      {uploading ? 'Upload en cours...' : 'Uploader'}\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowUploadForm(false)}\n                      className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n                    >\n                      Annuler\n                    </button>\n                  </div>\n                </form>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Filters Section */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 mb-6\">\n          <div className=\"p-6\">\n            <div className=\"flex items-center mb-4\">\n              <Filter className=\"w-5 h-5 text-gray-600 mr-2\" />\n              <h3 className=\"text-lg font-medium text-gray-900\">Filtrer les documents</h3>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <div>\n                <input\n                  type=\"text\"\n                  placeholder=\"Rechercher...\"\n                  value={filters?.search}\n                  onChange={(e) => setFilters(prev => ({ ...prev, search: e?.target?.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              \n              <select\n                value={filters?.class_name}\n                onChange={(e) => setFilters(prev => ({ ...prev, class_name: e?.target?.value }))}\n                className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Toutes les classes</option>\n                {availableClasses?.map(className => (\n                  <option key={className} value={className}>{className}</option>\n                ))}\n              </select>\n              \n              <select\n                value={filters?.subject}\n                onChange={(e) => setFilters(prev => ({ ...prev, subject: e?.target?.value }))}\n                className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Toutes les mati√®res</option>\n                {availableSubjects?.map(subject => (\n                  <option key={subject} value={subject}>{subject}</option>\n                ))}\n              </select>\n              \n              <button\n                onClick={() => setFilters({ class_name: '', subject: '', search: '', uploaded_by: '' })}\n                className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                R√©initialiser\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Documents List */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"p-6\">\n            <h3 className=\"text-lg font-medium text-gray-900 mb-6\">\n              Documents ({filteredDocuments?.length})\n            </h3>\n\n            {filteredDocuments?.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <FileText className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                <h4 className=\"text-lg font-medium text-gray-900 mb-2\">Aucun document trouv√©</h4>\n                <p className=\"text-gray-600\">\n                  {filters?.search || filters?.class_name || filters?.subject\n                    ? 'Essayez de modifier vos filtres de recherche.'\n                    : 'Il n\\'y a pas encore de documents disponibles pour votre profil.'}\n                </p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {filteredDocuments?.map(document => (\n                  <div key={document?.id} className=\"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-3 mb-2\">\n                          <FileText className=\"w-5 h-5 text-blue-600 flex-shrink-0\" />\n                          <h4 className=\"text-lg font-medium text-gray-900\">{document?.title}</h4>\n                          <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                            document?.subject === 'Administration' ? 'bg-purple-100 text-purple-800' :\n                            document?.subject === 'Finance'? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'\n                          }`}>\n                            {document?.subject}\n                          </span>\n                        </div>\n                        \n                        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-3\">\n                          <div className=\"flex items-center\">\n                            <Calendar className=\"w-4 h-4 mr-1\" />\n                            {formatDate(document?.uploaded_at)}\n                          </div>\n                          <div className=\"flex items-center\">\n                            <User className=\"w-4 h-4 mr-1\" />\n                            {document?.uploaded_by}\n                          </div>\n                          <div className=\"flex items-center\">\n                            <BookOpen className=\"w-4 h-4 mr-1\" />\n                            {document?.class_name || 'N/A'}\n                          </div>\n                          <div className=\"text-gray-500\">\n                            {formatFileSize(document?.file_size)}\n                          </div>\n                        </div>\n                        \n                        {document?.description && (\n                          <p className=\"text-sm text-gray-600 mb-3\">{document?.description}</p>\n                        )}\n                      </div>\n                      \n                      <div className=\"flex items-center space-x-2 ml-4\">\n                        <button\n                          onClick={() => handleView(document)}\n                          className=\"flex items-center px-3 py-1 text-sm text-blue-600 border border-blue-200 rounded hover:bg-blue-50 transition-colors\"\n                        >\n                          <Eye className=\"w-4 h-4 mr-1\" />\n                          Voir\n                        </button>\n                        <button\n                          onClick={() => handleDownload(document)}\n                          className=\"flex items-center px-3 py-1 text-sm text-green-600 border border-green-200 rounded hover:bg-green-50 transition-colors\"\n                        >\n                          <Download className=\"w-4 h-4 mr-1\" />\n                          T√©l√©charger\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Access Control Information */}\n        <div className=\"bg-green-50 rounded-lg p-6 mt-6\">\n          <h4 className=\"text-lg font-medium text-green-900 mb-3\">\n            Contr√¥le d'acc√®s bas√© sur les r√¥les\n          </h4>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm\">\n            <div>\n              <h5 className=\"font-medium mb-2 text-green-800\">üë®‚Äçüè´ Enseignants</h5>\n              <p className=\"text-green-700\">\n                Uploadent des documents r√©els vers le stockage Supabase\n              </p>\n            </div>\n            <div>\n              <h5 className=\"font-medium mb-2 text-green-800\">üë®‚Äçüéì √âtudiants</h5>\n              <p className=\"text-green-700\">\n                Acc√®dent aux vrais documents de leurs classes depuis la base de donn√©es\n              </p>\n            </div>\n            <div>\n              <h5 className=\"font-medium mb-2 text-green-800\">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Parents</h5>\n              <p className=\"text-green-700\">\n                Consultent les vrais documents et communications de leurs enfants\n              </p>\n            </div>\n            <div>\n              <h5 className=\"font-medium mb-2 text-green-800\">üë®‚Äçüíº Admin</h5>\n              <p className=\"text-green-700\">\n                Gestion compl√®te des documents r√©els de l'√©tablissement\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentManagementCenter;"],"names":["DocumentManagementCenter","user","userProfile","useAuth","data","dataLoading","useDashboardData","uploading","setUploading","useState","filters","setFilters","showUploadForm","setShowUploadForm","uploadData","setUploadData","documents","availableClasses","_a","c","availableSubjects","filteredDocuments","doc","_b","_c","searchLower","_d","_f","_e","_h","_g","handleFileUpload","resolve","error","handleDownload","document","handleView","formatDate","dateString","formatFileSize","size","jsxs","jsx","prev","subject","className","Upload","Filter","FileText","Calendar","User","BookOpen","Eye","Download"],"mappings":"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"}