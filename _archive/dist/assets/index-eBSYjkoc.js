import{j as e}from"./contexts-fbpOeTmm.js";import{r as m,L as a}from"./react-vendor-CFDIsUAY.js";import{I as s,a as p,B as l}from"./index-BPV3rumr.js";import"./services-CdXttHtG.js";import"./supabase-CIvuJI4W.js";import"./ui-vendor-BrXTGbgA.js";const w=()=>{const[i,t]=m.useState("email"),[r,n]=m.useState(""),[x,d]=m.useState(!1),u=async()=>{if(!r){alert("Veuillez saisir votre adresse email");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){alert("Veuillez saisir une adresse email valide");return}d(!0);try{await new Promise(c=>setTimeout(c,2e3)),t("success")}catch(c){console.error("Erreur récupération mot de passe:",c),t("error")}finally{d(!1)}},h=()=>e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(s,{name:"Lock",size:24,className:"text-blue-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Récupération de mot de passe"}),e.jsx("p",{className:"text-gray-600",children:"Saisissez votre adresse email pour recevoir un lien de réinitialisation"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(p,{label:"Adresse email",type:"email",value:r,onChange:o=>n(o.target.value),placeholder:"votre.email@exemple.com",icon:"Mail"}),e.jsxs(l,{onClick:u,loading:x,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:!r,children:[e.jsx(s,{name:"Send",size:16,className:"mr-2"}),"Envoyer le lien de récupération"]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(a,{to:"/login-authentication",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center justify-center",children:[e.jsx(s,{name:"ArrowLeft",size:16,className:"mr-2"}),"Retour à la connexion"]})})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(s,{name:"Info",size:20,className:"text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Comment ça fonctionne ?"}),e.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[e.jsx("li",{children:"• Nous envoyons un lien sécurisé à votre email"}),e.jsx("li",{children:"• Cliquez sur le lien pour créer un nouveau mot de passe"}),e.jsx("li",{children:"• Le lien expire après 24 heures"}),e.jsx("li",{children:"• Si vous ne recevez pas l'email, vérifiez vos spams"})]})]})]})})]}),j=()=>e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(s,{name:"CheckCircle",size:24,className:"text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Email envoyé !"}),e.jsxs("p",{className:"text-gray-600",children:["Nous avons envoyé un lien de récupération à ",e.jsx("strong",{children:r})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(s,{name:"Mail",size:48,className:"text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Vérifiez votre boîte email et cliquez sur le lien pour réinitialiser votre mot de passe."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Le lien expirera dans 24 heures pour votre sécurité."})]}),e.jsxs("div",{className:"border-t pt-4 space-y-2",children:[e.jsxs(l,{onClick:()=>{t("email"),n("")},variant:"outline",className:"w-full",children:[e.jsx(s,{name:"RotateCcw",size:16,className:"mr-2"}),"Renvoyer l'email"]}),e.jsxs("div",{className:"text-center mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx("p",{className:"text-xs text-amber-700 mb-2",children:e.jsx("strong",{children:"Mode démonstration :"})}),e.jsx(a,{to:`/password-reset?token=demo-token-123&email=${r}`,className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"Simuler le clic sur le lien de l'email"})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(a,{to:"/login-authentication",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center justify-center",children:[e.jsx(s,{name:"ArrowLeft",size:16,className:"mr-2"}),"Retour à la connexion"]})})]}),e.jsx("div",{className:"mt-6 bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(s,{name:"AlertTriangle",size:20,className:"text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-amber-900",children:"Vous ne recevez pas l'email ?"}),e.jsxs("ul",{className:"text-sm text-amber-700 mt-2 space-y-1",children:[e.jsx("li",{children:"• Vérifiez votre dossier spam/courrier indésirable"}),e.jsx("li",{children:"• Assurez-vous que l'adresse email est correcte"}),e.jsx("li",{children:"• Attendez quelques minutes (délai de livraison)"}),e.jsx("li",{children:"• Contactez l'administration si le problème persiste"})]})]})]})})]}),b=()=>e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(s,{name:"XCircle",size:24,className:"text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Erreur de récupération"}),e.jsx("p",{className:"text-gray-600",children:"Une erreur s'est produite lors de l'envoi de l'email"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(s,{name:"AlertCircle",size:48,className:"text-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Impossible d'envoyer l'email de récupération. Cela peut être dû à :"}),e.jsxs("ul",{className:"text-sm text-gray-600 text-left space-y-1 mb-4",children:[e.jsx("li",{children:"• Adresse email non trouvée dans notre système"}),e.jsx("li",{children:"• Problème temporaire du service email"}),e.jsx("li",{children:"• Connexion internet instable"})]})]}),e.jsxs("div",{className:"border-t pt-4 space-y-2",children:[e.jsxs(l,{onClick:()=>{t("email")},className:"w-full bg-blue-600 hover:bg-blue-700",children:[e.jsx(s,{name:"RotateCcw",size:16,className:"mr-2"}),"Réessayer"]}),e.jsxs(l,{onClick:()=>{t("email"),n("")},variant:"outline",className:"w-full",children:[e.jsx(s,{name:"Edit",size:16,className:"mr-2"}),"Changer d'email"]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(a,{to:"/login-authentication",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center justify-center",children:[e.jsx(s,{name:"ArrowLeft",size:16,className:"mr-2"}),"Retour à la connexion"]})})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(s,{name:"HelpCircle",size:20,className:"text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Besoin d'aide ?"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Contactez l'administration de votre établissement ou votre administrateur système."})]})]})})]});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-lg",children:[i==="email"&&h(),i==="success"&&j(),i==="error"&&b()]})})};export{w as default};
//# sourceMappingURL=index-eBSYjkoc.js.map
