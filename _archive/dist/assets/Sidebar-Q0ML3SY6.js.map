{"version":3,"file":"Sidebar-Q0ML3SY6.js","sources":["../../src/utils/responsive.js","../../src/components/ui/MobileSidebar.jsx","../../src/components/ui/Header.jsx","../../src/components/ui/Sidebar.jsx"],"sourcesContent":["/**\n * UTILITAIRES DE RESPONSIVIT√â\n *\n * Breakpoints coh√©rents pour toute l'application\n * Bas√©s sur Tailwind CSS defaults\n */\n\nexport const BREAKPOINTS = {\n  xs: 0,      // Mobile portrait\n  sm: 640,    // Mobile landscape\n  md: 768,    // Tablet portrait\n  lg: 1024,   // Tablet landscape / Desktop small\n  xl: 1280,   // Desktop\n  '2xl': 1536 // Desktop large\n};\n\n/**\n * Hook personnalis√© pour d√©tecter la taille d'√©cran\n * Usage: const { isMobile, isTablet, isDesktop } = useResponsive();\n */\nexport const useResponsive = () => {\n  const [screenSize, setScreenSize] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n\n  useEffect(() => {\n    const handleResize = () => {\n      setScreenSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return {\n    isMobile: screenSize.width < BREAKPOINTS.md,\n    isTablet: screenSize.width >= BREAKPOINTS.md && screenSize.width < BREAKPOINTS.lg,\n    isDesktop: screenSize.width >= BREAKPOINTS.lg,\n    isSmallMobile: screenSize.width < BREAKPOINTS.sm,\n    isLargeDesktop: screenSize.width >= BREAKPOINTS.xl,\n    width: screenSize.width,\n    height: screenSize.height\n  };\n};\n\n/**\n * Classes TailwindCSS responsives pr√©-configur√©es\n */\nexport const RESPONSIVE_CLASSES = {\n  // Containers\n  container: 'w-full mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl',\n  containerFluid: 'w-full px-4 sm:px-6 lg:px-8',\n  containerNarrow: 'w-full mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl',\n\n  // Grilles\n  grid2: 'grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6',\n  grid3: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6',\n  grid4: 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-6',\n\n  // Flex\n  flexCol: 'flex flex-col space-y-4',\n  flexRow: 'flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0',\n  flexResponsive: 'flex flex-col lg:flex-row gap-4 lg:gap-6',\n\n  // Cartes\n  card: 'bg-white rounded-lg shadow-card p-4 md:p-6',\n  cardCompact: 'bg-white rounded-lg shadow-card p-3 md:p-4',\n\n  // Textes\n  heading1: 'text-2xl sm:text-3xl lg:text-4xl font-heading font-bold',\n  heading2: 'text-xl sm:text-2xl lg:text-3xl font-heading font-semibold',\n  heading3: 'text-lg sm:text-xl lg:text-2xl font-heading font-semibold',\n  heading4: 'text-base sm:text-lg lg:text-xl font-heading font-semibold',\n  body: 'text-sm sm:text-base',\n  caption: 'text-xs sm:text-sm',\n\n  // Boutons\n  button: 'px-3 py-2 sm:px-4 sm:py-2.5 text-sm sm:text-base',\n  buttonLarge: 'px-4 py-3 sm:px-6 sm:py-4 text-base sm:text-lg',\n  buttonSmall: 'px-2 py-1.5 sm:px-3 sm:py-2 text-xs sm:text-sm',\n\n  // Tables\n  tableWrapper: 'overflow-x-auto -mx-4 sm:mx-0',\n  tableContainer: 'min-w-full inline-block align-middle',\n\n  // Modals\n  modalContainer: 'w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl mx-4',\n  modalPadding: 'p-4 sm:p-6 md:p-8',\n\n  // Sidebar\n  sidebarWidth: 'w-64 lg:w-72',\n  sidebarCollapsedWidth: 'w-16 lg:w-20',\n\n  // Spacing\n  sectionPadding: 'px-4 py-6 sm:px-6 sm:py-8 lg:px-8 lg:py-10',\n  pagePadding: 'p-4 sm:p-6 lg:p-8',\n};\n\n/**\n * Fonction pour combiner des classes conditionnellement\n */\nexport const cn = (...classes) => {\n  return classes.filter(Boolean).join(' ');\n};\n\n/**\n * Fonction pour obtenir la classe responsive selon la taille d'√©cran\n */\nexport const getResponsiveClass = (base, variants = {}) => {\n  return cn(\n    base,\n    variants.sm && `sm:${variants.sm}`,\n    variants.md && `md:${variants.md}`,\n    variants.lg && `lg:${variants.lg}`,\n    variants.xl && `xl:${variants.xl}`\n  );\n};\n\n// Import React pour le hook\nimport { useState, useEffect } from 'react';\n","/**\n * SIDEBAR MOBILE RESPONSIVE\n *\n * - Menu hamburger pour mobile\n * - Drawer anim√© (slide-in)\n * - Overlay avec fermeture au clic\n * - Touch-friendly\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport Icon from '../AppIcon';\nimport { cn } from '../../utils/responsive';\n\nconst MobileSidebar = ({\n  userRole = 'student',\n  userName = 'User',\n  navigationItems = [],\n  quickActions = [],\n  isOpen = false,\n  onClose = () => {}\n}) => {\n  const location = useLocation();\n  const [activeTab, setActiveTab] = useState('navigation');\n\n  // Debug - v√©rifier les props re√ßues\n  useEffect(() => {\n    if (isOpen) {\n      console.log('üì± MobileSidebar ouvert:', {\n        userRole,\n        userName,\n        navigationItems: navigationItems?.length || 0,\n        quickActions: quickActions?.length || 0,\n        activeTab\n      });\n    }\n  }, [isOpen, userRole, userName, navigationItems, quickActions, activeTab]);\n\n  // Fermer au changement de route\n  useEffect(() => {\n    onClose();\n  }, [location.pathname]);\n\n  // Bloquer le scroll du body quand ouvert\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  const isActive = (path) => {\n    if (!path) return false;\n    const cleanPath = path.split('?')[0];\n    return location.pathname === cleanPath || location.pathname.startsWith(cleanPath + '/');\n  };\n\n  return (\n    <>\n      {/* Overlay */}\n      <div\n        className={cn(\n          'fixed inset-0 bg-black/50 z-[9998] transition-opacity duration-300 lg:hidden',\n          isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'\n        )}\n        onClick={onClose}\n        aria-hidden=\"true\"\n      />\n\n      {/* Sidebar Drawer */}\n      <aside\n        className={cn(\n          'fixed top-0 left-0 h-full w-[280px] bg-white shadow-2xl z-[9999] transform transition-transform duration-300 ease-out lg:hidden',\n          'flex flex-col',\n          isOpen ? 'translate-x-0' : '-translate-x-full'\n        )}\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between px-3 py-2 border-b border-gray-200 shrink-0\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-bold text-xs\">\n              {userName.charAt(0).toUpperCase()}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <h3 className=\"font-semibold text-xs text-gray-900 truncate\">{userName}</h3>\n              <p className=\"text-[10px] text-gray-500 capitalize\">{userRole}</p>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-1.5 hover:bg-gray-100 rounded-lg transition-colors\"\n            aria-label=\"Fermer le menu\"\n          >\n            <Icon name=\"X\" size={18} className=\"text-gray-600\" />\n          </button>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"flex border-b border-gray-200 bg-gray-50 shrink-0\">\n          <button\n            type=\"button\"\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              setActiveTab('navigation');\n              console.log('Tab Navigation clicked');\n            }}\n            className={cn(\n              'flex-1 px-3 py-2 text-xs font-medium transition-all duration-200',\n              'active:scale-95 cursor-pointer touch-manipulation',\n              activeTab === 'navigation'\n                ? 'text-primary border-b-2 border-primary bg-white shadow-sm'\n                : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\n            )}\n            aria-label=\"Onglet Navigation\"\n            aria-pressed={activeTab === 'navigation'}\n          >\n            <Icon name=\"Menu\" size={14} className=\"inline mr-1.5\" />\n            Navigation\n          </button>\n          <button\n            type=\"button\"\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              setActiveTab('quick');\n              console.log('Tab Actions clicked');\n            }}\n            className={cn(\n              'flex-1 px-3 py-2 text-xs font-medium transition-all duration-200',\n              'active:scale-95 cursor-pointer touch-manipulation',\n              activeTab === 'quick'\n                ? 'text-primary border-b-2 border-primary bg-white shadow-sm'\n                : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\n            )}\n            aria-label=\"Onglet Actions rapides\"\n            aria-pressed={activeTab === 'quick'}\n          >\n            <Icon name=\"Zap\" size={14} className=\"inline mr-1.5\" />\n            Actions\n          </button>\n        </div>\n\n        {/* Content */}\n        <nav className=\"flex-1 overflow-y-auto overscroll-contain px-2 py-1\">\n          {activeTab === 'navigation' && (\n            <div className=\"space-y-0.5\">\n              {navigationItems && navigationItems.length > 0 ? (\n                navigationItems.map((item, index) => (\n                  <Link\n                    key={index}\n                    to={item.path}\n                    onClick={onClose}\n                    className={cn(\n                      'flex items-center space-x-2 px-3 py-2 rounded-lg transition-all',\n                      'active:scale-95',\n                      isActive(item.path)\n                        ? 'bg-primary/10 text-primary font-semibold'\n                        : 'text-gray-700 hover:bg-gray-100'\n                    )}\n                  >\n                    <Icon name={item.icon} size={16} className=\"flex-shrink-0\" />\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"text-xs font-medium truncate\">{item.label}</div>\n                      {item.description && (\n                        <div className=\"text-[10px] text-gray-500 truncate\">{item.description}</div>\n                      )}\n                    </div>\n                    {isActive(item.path) && (\n                      <div className=\"w-1 h-1 rounded-full bg-primary animate-pulse\" />\n                    )}\n                  </Link>\n                ))\n              ) : (\n                <div className=\"flex flex-col items-center justify-center p-6 text-center\">\n                  <Icon name=\"Menu\" size={36} className=\"text-gray-300 mb-3\" />\n                  <p className=\"text-xs text-gray-500 font-medium\">Aucun √©l√©ment de navigation</p>\n                  <p className=\"text-[10px] text-gray-400 mt-1\">Les liens de navigation appara√Ætront ici</p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'quick' && (\n            <div className=\"space-y-0.5\">\n              {quickActions && quickActions.length > 0 ? (\n                quickActions.map((action, index) => (\n                  <Link\n                    key={index}\n                    to={action.path}\n                    onClick={onClose}\n                    className={cn(\n                      'flex items-center space-x-2 px-3 py-2 rounded-lg',\n                      'text-gray-700 hover:bg-gray-100 transition-all active:scale-95'\n                    )}\n                  >\n                    <div className=\"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0\">\n                      <Icon name={action.icon} size={14} className=\"text-primary\" />\n                    </div>\n                    <span className=\"text-xs font-medium flex-1\">{action.label}</span>\n                    <Icon name=\"ChevronRight\" size={12} className=\"text-gray-400\" />\n                  </Link>\n                ))\n              ) : (\n                <div className=\"flex flex-col items-center justify-center p-6 text-center\">\n                  <Icon name=\"Zap\" size={36} className=\"text-gray-300 mb-3\" />\n                  <p className=\"text-xs text-gray-500 font-medium\">Aucune action rapide</p>\n                  <p className=\"text-[10px] text-gray-400 mt-1\">Les actions rapides appara√Ætront ici</p>\n                </div>\n              )}\n            </div>\n          )}\n        </nav>\n\n        {/* Footer */}\n        <div className=\"px-3 py-2 border-t border-gray-200 bg-gray-50 shrink-0\">\n          <button\n            className=\"w-full flex items-center justify-center space-x-1.5 px-3 py-2 bg-destructive text-white rounded-lg text-xs font-medium hover:bg-destructive/90 transition-colors active:scale-95\"\n            onClick={() => {\n              // Logique de d√©connexion\n              window.location.href = '/login-authentication';\n            }}\n          >\n            <Icon name=\"LogOut\" size={14} />\n            <span>D√©connexion</span>\n          </button>\n        </div>\n      </aside>\n    </>\n  );\n};\n\nexport default MobileSidebar;\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { supabase } from '../../lib/supabase';\r\nimport AppIcon from '../AppIcon';\r\nimport Button from './Button';\r\nimport AccessibilityControls from './AccessibilityControls';\r\nimport MobileSidebar from './MobileSidebar';\r\n\r\nconst Header = ({ userRole = 'student', userName = 'User', isCollapsed = false, onToggleSidebar }) => {\r\n  const [isNotificationOpen, setIsNotificationOpen] = useState(false);\r\n  const [isProfileOpen, setIsProfileOpen] = useState(false);\r\n  const [isMobileSidebarOpen, setIsMobileSidebarOpen] = useState(false);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [loadingNotifications, setLoadingNotifications] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const location = useLocation();\r\n\r\n  // D√©tecter le vrai r√¥le bas√© sur l'URL si userRole n'est pas correct\r\n  const detectRoleFromUrl = () => {\r\n    if (location.pathname.includes('/secretary-dashboard')) return 'secretary';\r\n    if (location.pathname.includes('/principal-dashboard')) return 'principal';\r\n    if (location.pathname.includes('/teacher-dashboard')) return 'teacher';\r\n    if (location.pathname.includes('/student-dashboard')) return 'student';\r\n    if (location.pathname.includes('/parent-dashboard')) return 'parent';\r\n    if (location.pathname.includes('/admin-dashboard')) return 'admin';\r\n    return userRole;\r\n  };\r\n\r\n  const actualUserRole = detectRoleFromUrl();\r\n\r\n  // R√©cup√©rer l'utilisateur connect√© depuis Supabase\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const { data: { user: authUser }, error } = await supabase.auth.getUser();\r\n        if (error) throw error;\r\n        setUser(authUser);\r\n      } catch (error) {\r\n        console.error('Erreur r√©cup√©ration utilisateur:', error);\r\n        setUser(null);\r\n      }\r\n    };\r\n\r\n    getUser();\r\n  }, []);\r\n\r\n  // Charger les notifications\r\n  useEffect(() => {\r\n    const loadNotifications = async () => {\r\n      if (user?.user_metadata?.current_school_id) {\r\n        try {\r\n          setLoadingNotifications(true);\r\n\r\n          const { data: notifs, error } = await supabase\r\n            .from('notifications')\r\n            .select('id, title, message, type, priority, sent_at')\r\n            .eq('school_id', user.user_metadata.current_school_id)\r\n            .order('sent_at', { ascending: false })\r\n            .limit(5);\r\n\r\n          if (error) throw error;\r\n\r\n          // Formater les notifications pour l'affichage\r\n          const formattedNotifs = (notifs || []).map(notif => ({\r\n            id: notif.id,\r\n            title: notif.title,\r\n            message: notif.message,\r\n            type: notif.type || 'info',\r\n            time: formatTimeAgo(notif.sent_at)\r\n          }));\r\n\r\n          setNotifications(formattedNotifs);\r\n        } catch (error) {\r\n          console.error('Erreur chargement notifications:', error);\r\n          setNotifications([]);\r\n        } finally {\r\n          setLoadingNotifications(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    loadNotifications();\r\n  }, [user?.user_metadata?.current_school_id]);\r\n\r\n  // Fonction pour formater le temps relatif\r\n  const formatTimeAgo = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return '√† l\\'instant';\r\n    if (diffMins < 60) return `il y a ${diffMins} min`;\r\n    if (diffHours < 24) return `il y a ${diffHours}h`;\r\n    if (diffDays === 1) return 'hier';\r\n    if (diffDays < 7) return `il y a ${diffDays} jours`;\r\n    return date.toLocaleDateString('fr-FR');\r\n  };\r\n\r\n  const navigationItems = {\r\n    student: [\r\n      { label: 'Tableau de bord', path: '/student-dashboard', icon: 'Home' },\r\n      { label: 'Notes', path: '/student-dashboard?tab=grades', icon: 'BookOpen' },\r\n      { label: 'Devoirs', path: '/student-dashboard?tab=assignments', icon: 'FileText' },\r\n      { label: 'Profil', path: '/student-dashboard?tab=profile', icon: 'User' },\r\n    ],\r\n    parent: [\r\n      { label: 'Dashboard', path: '/parent-dashboard', icon: 'Home' },\r\n      { label: 'Enfants', path: '/parent-dashboard?tab=children', icon: 'Users' },\r\n      { label: 'Notes', path: '/parent-dashboard?tab=grades', icon: 'BookOpen' },\r\n      { label: 'Messages', path: '/parent-dashboard?tab=messages', icon: 'MessageCircle' },\r\n    ],\r\n    teacher: [\r\n      { label: 'Dashboard', path: '/teacher-dashboard', icon: 'Home' },\r\n      { label: 'Classes', path: '/teacher-dashboard?tab=classes', icon: 'Users' },\r\n      { label: 'Notes', path: '/teacher-dashboard?tab=grades', icon: 'BookOpen' },\r\n      { label: 'Compte', path: '/teacher-dashboard?tab=account', icon: 'User' },\r\n    ],\r\n    secretary: [\r\n      { label: 'Dashboard', path: '/secretary-dashboard', icon: 'Home' },\r\n      { label: 'Urgences', path: '/secretary-dashboard?tab=justifications', icon: 'AlertCircle' },\r\n      { label: 'Communications', path: '/secretary-dashboard?tab=communications', icon: 'MessageCircle' },\r\n    ],\r\n    principal: [\r\n      { label: 'Dashboard', path: '/principal-dashboard', icon: 'Home' },\r\n      { label: 'Comptes', path: '/principal-dashboard?tab=accounts', icon: 'UserCheck' },\r\n      { label: 'Validation Ann√©e', path: '/principal-dashboard?tab=school-year', icon: 'Calendar' },\r\n    ],\r\n    admin: [\r\n      { label: 'Dashboard', path: '/admin-dashboard?tab=overview', icon: 'Home' },\r\n      { label: 'Utilisateurs', path: '/admin-dashboard?tab=users', icon: 'Users' },\r\n      { label: '√âtablissements', path: '/admin-dashboard?tab=schools', icon: 'School' },\r\n      { label: 'Finances', path: '/admin-dashboard?tab=finances', icon: 'DollarSign' },\r\n      { label: 'Analytics', path: '/admin-dashboard?tab=analytics', icon: 'TrendingUp' },\r\n      { label: 'S√©curit√©', path: '/admin-dashboard?tab=security', icon: 'Shield' }\r\n    ]\r\n  };\r\n\r\n  const quickActions = {\r\n    student: [\r\n      { label: 'Devoirs en retard', icon: 'AlertCircle', path: '/student-dashboard?tab=assignments' },\r\n      { label: 'Derni√®res notes', icon: 'TrendingUp', path: '/student-dashboard?tab=grades' },\r\n      { label: 'Mes badges', icon: 'Award', path: '/student-dashboard' },\r\n    ],\r\n    teacher: [\r\n      { label: 'Nouvelle note', icon: 'Plus', path: '/teacher-dashboard?tab=grades' },\r\n      { label: 'Prendre pr√©sence', icon: 'CheckSquare', path: '/teacher-dashboard?tab=attendance' },\r\n      { label: 'Voir mes classes', icon: 'Users', path: '/teacher-dashboard?tab=classes' },\r\n    ],\r\n    secretary: [\r\n      { label: 'Nouvel √âl√®ve', icon: 'UserPlus', path: '/secretary-dashboard?tab=students' },\r\n      { label: 'Nouveau Paiement', icon: 'Plus', path: '/secretary-dashboard?tab=payments' },\r\n      { label: 'Envoyer SMS', icon: 'MessageCircle', path: '/secretary-dashboard?tab=communications' }\r\n    ],\r\n    principal: [\r\n      { label: 'Cr√©er compte', icon: 'UserPlus', path: '/principal-dashboard?tab=accounts' },\r\n      { label: 'Nouveau message', icon: 'Mail', path: '/notification-management' },\r\n      { label: 'Sauvegarde', icon: 'Database', path: '/data-backup' },\r\n    ],\r\n    parent: [\r\n      { label: 'Voir les notes', icon: 'BookOpen', path: '/parent-dashboard?tab=grades' },\r\n      { label: 'Consulter pr√©sences', icon: 'Calendar', path: '/parent-dashboard?tab=attendance' },\r\n      { label: 'Effectuer paiement', icon: 'CreditCard', path: '/parent-dashboard?tab=payments' },\r\n    ],\r\n    admin: [\r\n      { label: 'Utilisateurs', icon: 'Users', path: '/admin-dashboard?tab=users' },\r\n      { label: 'Finances', icon: 'DollarSign', path: '/admin-dashboard?tab=finances' },\r\n      { label: 'S√©curit√©', icon: 'Shield', path: '/admin-dashboard?tab=security' }\r\n    ]\r\n  };\r\n\r\n  const currentNavItems = navigationItems?.[actualUserRole] || navigationItems?.student;\r\n  const currentQuickActions = quickActions?.[actualUserRole] || quickActions?.student;\r\n\r\n  // Debug pour identifier les probl√®mes de r√¥le\r\n  useEffect(() => {\r\n    console.log('üîç Header Debug:', {\r\n      userRole,\r\n      actualUserRole,\r\n      pathname: location.pathname,\r\n      userName,\r\n      hasNavItems: !!navigationItems?.[actualUserRole],\r\n      currentNavItems: currentNavItems?.map(item => item.label)\r\n    });\r\n  }, [userRole, userName, currentNavItems]);\r\n\r\n  const handleNotificationClick = () => {\r\n    setIsNotificationOpen(!isNotificationOpen);\r\n    setIsProfileOpen(false);\r\n  };\r\n\r\n  const handleProfileClick = () => {\r\n    setIsProfileOpen(!isProfileOpen);\r\n    setIsNotificationOpen(false);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await supabase.auth.signOut();\r\n    } catch (error) {\r\n      console.log('Erreur lors de la d√©connexion:', error.message);\r\n    }\r\n\r\n    // Rediriger vers school-management\r\n    window.location.href = '/school-management';\r\n  };\r\n\r\n  return (\r\n    <header className=\"fixed top-0 left-0 right-0 bg-gradient-to-r from-white via-blue-50/50 to-indigo-50/50 backdrop-blur-xl border-b border-gray-200/50 z-navigation shadow-sm\">\r\n      <div className=\"flex items-center justify-between h-16 px-4\">\r\n        {/* Left Section - Logo and Navigation */}\r\n        <div className=\"flex items-center space-x-6\">\r\n          {/* Mobile Menu Toggle */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={() => setIsMobileSidebarOpen(true)}\r\n            className=\"lg:hidden hover:bg-blue-100/50 transition-all duration-300\"\r\n            aria-label=\"Ouvrir le menu\"\r\n          >\r\n            <AppIcon name=\"Menu\" size={24} className=\"text-blue-600\" />\r\n          </Button>\r\n\r\n          {/* Logo - Modernis√© */}\r\n          <Link to={currentNavItems?.[0]?.path || '/'} className=\"flex items-center space-x-3 group\">\r\n            <div className=\"w-10 h-10 rounded-xl flex items-center justify-center bg-gradient-to-br from-blue-600 to-indigo-600 shadow-lg group-hover:shadow-xl group-hover:scale-105 transition-all duration-300\">\r\n              <img\r\n                src=\"/assets/images/mon_logo.png\"\r\n                alt=\"Logo EduTrack CM\"\r\n                className=\"w-6 h-6 object-contain filter brightness-0 invert\"\r\n              />\r\n            </div>\r\n            <div className=\"hidden sm:block\">\r\n              <span className=\"font-heading font-heading-bold text-xl bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent\">\r\n                EduTrack CM\r\n              </span>\r\n              <p className=\"text-xs text-gray-500 font-medium\">Gestion Scolaire</p>\r\n            </div>\r\n          </Link>\r\n\r\n          {/* Desktop Navigation - Modernis√© */}\r\n          <nav className=\"hidden lg:flex items-center space-x-2\">\r\n            {currentNavItems?.slice(0, 4)?.map((item) => {\r\n              // Logique pour d√©terminer si le lien est actif\r\n              const isActive = () => {\r\n                if (item?.path?.includes('?')) {\r\n                  // Pour les liens avec param√®tres (ex: /principal-dashboard?tab=analytics)\r\n                  const [pathname, search] = item?.path?.split('?');\r\n                  return location?.pathname === pathname && location?.search === `?${search}`;\r\n                } else {\r\n                  // Pour les liens simples\r\n                  return location?.pathname === item?.path;\r\n                }\r\n              };\r\n\r\n              return (\r\n                <Link\r\n                  key={item?.path}\r\n                  to={item?.path}\r\n                  className={`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-body font-body-semibold transition-all duration-300 ${\r\n                    isActive()\r\n                      ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-md scale-105'\r\n                      : 'text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:scale-102'\r\n                  }`}\r\n                >\r\n                  <AppIcon name={item?.icon} size={16} />\r\n                  <span>{item?.label}</span>\r\n                </Link>\r\n              );\r\n            })}\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Right Section - Actions and Profile */}\r\n        <div className=\"flex items-center space-x-3\">\r\n          {/* Notifications - Modernis√© */}\r\n          {userRole !== 'principal' && (\r\n            <div className=\"relative\">\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={handleNotificationClick}\r\n                className=\"relative hover:bg-blue-50 transition-all duration-300 group\"\r\n              >\r\n                <AppIcon name=\"Bell\" size={20} className=\"text-gray-600 group-hover:text-blue-600 transition-colors\" />\r\n                {notifications?.length > 0 && (\r\n                  <span className=\"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold shadow-md animate-pulse\">\r\n                    {notifications?.length}\r\n                  </span>\r\n                )}\r\n              </Button>\r\n\r\n              {/* Notification Dropdown - Modernis√© */}\r\n              {isNotificationOpen && (\r\n                <div className=\"absolute right-0 top-12 w-80 bg-white border-2 border-gray-200 rounded-2xl shadow-2xl z-notification animate-fadeIn\">\r\n                  <div className=\"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl border-b border-gray-200\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <div className=\"w-8 h-8 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center\">\r\n                          <AppIcon name=\"Bell\" size={16} className=\"text-white\" />\r\n                        </div>\r\n                        <h3 className=\"font-heading font-heading-semibold text-base text-gray-900\">\r\n                          Notifications\r\n                        </h3>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"max-h-64 overflow-y-auto\">\r\n                    {notifications?.length > 0 ? (\r\n                      notifications.map((notification) => (\r\n                        <div\r\n                          key={notification?.id}\r\n                          className=\"p-4 border-b border-gray-100 last:border-b-0 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-300 cursor-pointer group\"\r\n                        >\r\n                          <div className=\"flex items-start space-x-3\">\r\n                            <div className={`w-10 h-10 rounded-xl flex items-center justify-center mt-1 shadow-sm group-hover:scale-110 transition-transform ${\r\n                              notification?.type === 'success' ? 'bg-gradient-to-br from-green-400 to-emerald-500' :\r\n                              notification?.type === 'warning' ? 'bg-gradient-to-br from-amber-400 to-orange-500' : \r\n                              'bg-gradient-to-br from-blue-400 to-indigo-500'\r\n                            }`}>\r\n                              <AppIcon name={\r\n                                notification?.type === 'success' ? 'CheckCircle' :\r\n                                notification?.type === 'warning' ? 'AlertTriangle' : 'Info'\r\n                              } size={18} className=\"text-white\" />\r\n                            </div>\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"font-body font-body-semibold text-sm text-gray-900\">\r\n                                {notification?.title}\r\n                              </p>\r\n                              <p className=\"font-body font-body-normal text-sm text-gray-600 mt-1\">\r\n                                {notification?.message}\r\n                              </p>\r\n                              <p className=\"font-caption font-caption-normal text-xs text-gray-500 mt-1 flex items-center\">\r\n                                <AppIcon name=\"Clock\" size={12} className=\"mr-1\" />\r\n                                {notification?.time}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <div className=\"p-6 text-center\">\r\n                        <AppIcon name=\"Bell\" size={24} className=\"text-muted-foreground mx-auto mb-2\" />\r\n                        <p className=\"text-sm text-muted-foreground\">\r\n                          Aucune notification\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"p-3 border-t border-border\">\r\n                    <Button variant=\"ghost\" size=\"sm\" className=\"w-full\">\r\n                      View all notifications\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* User Profile - Modernis√© */}\r\n          <div className=\"relative\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              onClick={handleProfileClick}\r\n              className=\"flex items-center space-x-3 px-3 py-2 hover:bg-blue-50 rounded-full transition-all duration-300 group\"\r\n            >\r\n              <div className=\"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full flex items-center justify-center shadow-md group-hover:shadow-lg group-hover:scale-105 transition-all duration-300\">\r\n                <AppIcon name=\"User\" size={18} color=\"white\" />\r\n              </div>\r\n              <div className=\"hidden md:block text-left\">\r\n                <span className=\"font-body font-body-semibold text-sm text-gray-900 block\">\r\n                  {userName || \"Utilisateur\"}\r\n                </span>\r\n                <span className=\"font-caption text-xs text-gray-500\">\r\n                  {actualUserRole === 'secretary' ? 'Secr√©taire' : \r\n                   actualUserRole === 'principal' ? 'Directeur' :\r\n                   actualUserRole === 'teacher' ? 'Enseignant' :\r\n                   actualUserRole === 'student' ? '√âl√®ve' :\r\n                   actualUserRole === 'parent' ? 'Parent' :\r\n                   actualUserRole === 'admin' ? 'Admin' : actualUserRole}\r\n                </span>\r\n              </div>\r\n              <AppIcon name=\"ChevronDown\" size={16} className=\"hidden md:block text-gray-500 group-hover:text-blue-600 transition-colors\" />\r\n            </Button>\r\n\r\n            {/* Profile Dropdown - Modernis√© */}\r\n            {isProfileOpen && (\r\n              <div className=\"absolute right-0 top-14 w-64 bg-white border-2 border-gray-200 rounded-2xl shadow-2xl z-50 animate-fadeIn\">\r\n                <div className=\"p-4\">\r\n                  <div className=\"px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl mb-3\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <div className=\"w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full flex items-center justify-center shadow-md\">\r\n                        <AppIcon name=\"User\" size={20} color=\"white\" />\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"font-heading font-heading-semibold text-sm text-gray-900\">\r\n                          {userName}\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-600 capitalize flex items-center\">\r\n                          <span className=\"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse\"></span>\r\n                          {actualUserRole === 'secretary' ? 'Secr√©taire' : \r\n                           actualUserRole === 'principal' ? 'Directeur' :\r\n                           actualUserRole === 'teacher' ? 'Enseignant' :\r\n                           actualUserRole === 'student' ? '√âl√®ve' :\r\n                           actualUserRole === 'parent' ? 'Parent' :\r\n                           actualUserRole === 'admin' ? 'Administrateur' : actualUserRole}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Lien vers param√®tres de profil */}\r\n                  <Link\r\n                    to=\"/profile-settings\"\r\n                    className=\"flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-xl transition-all duration-300 group\"\r\n                    onClick={() => setIsProfileOpen(false)}\r\n                  >\r\n                    <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors\">\r\n                      <AppIcon name=\"Settings\" size={16} className=\"text-blue-600\" />\r\n                    </div>\r\n                    <span className=\"font-body font-body-medium\">Mon profil</span>\r\n                  </Link>\r\n\r\n                  {/* Lien Aide */}\r\n                  <Link\r\n                    to=\"/help\"\r\n                    className=\"flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-purple-50 rounded-xl transition-all duration-300 group\"\r\n                    onClick={() => setIsProfileOpen(false)}\r\n                  >\r\n                    <div className=\"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors\">\r\n                      <AppIcon name=\"HelpCircle\" size={16} className=\"text-purple-600\" />\r\n                    </div>\r\n                    <span className=\"font-body font-body-medium\">Aide</span>\r\n                  </Link>\r\n\r\n                  <div className=\"border-t border-gray-200 mt-3 pt-3\">\r\n                    <button\r\n                      onClick={handleLogout}\r\n                      className=\"flex items-center space-x-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 rounded-xl transition-all duration-300 w-full text-left group\"\r\n                    >\r\n                      <div className=\"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-200 transition-colors\">\r\n                        <AppIcon name=\"LogOut\" size={16} className=\"text-red-600\" />\r\n                      </div>\r\n                      <span className=\"font-body font-body-semibold\">Se d√©connecter</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Sidebar */}\r\n      <MobileSidebar\r\n        isOpen={isMobileSidebarOpen}\r\n        onClose={() => setIsMobileSidebarOpen(false)}\r\n        userRole={actualUserRole}\r\n        userName={userName}\r\n        navigationItems={currentNavItems}\r\n        quickActions={currentQuickActions}\r\n      />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import React, { useState, useEffect } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport Icon from '../AppIcon';\r\nimport Button from './Button';\r\n\r\nconst Sidebar = ({ userRole = 'student', isCollapsed = false, onToggle }) => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  // D√©tecter le vrai r√¥le bas√© sur l'URL si userRole n'est pas correct\r\n  const detectRoleFromUrl = () => {\r\n    if (location.pathname.includes('/secretary-dashboard')) return 'secretary';\r\n    if (location.pathname.includes('/principal-dashboard')) return 'principal';\r\n    if (location.pathname.includes('/teacher-dashboard')) return 'teacher';\r\n    if (location.pathname.includes('/student-dashboard')) return 'student';\r\n    if (location.pathname.includes('/parent-dashboard')) return 'parent';\r\n    if (location.pathname.includes('/admin-dashboard')) return 'admin';\r\n    return userRole;\r\n  };\r\n\r\n  const actualUserRole = detectRoleFromUrl();\r\n\r\n  const navigationItems = {\r\n    student: [\r\n      { label: 'Tableau de bord', path: '/student-dashboard', icon: 'Home', description: 'Vue d\\'ensemble' },\r\n      { label: 'Mes Notes', path: '/student-dashboard?tab=grades', icon: 'BookOpen', description: 'Performance acad√©mique' },\r\n      { label: 'Mes Devoirs', path: '/student-dashboard?tab=assignments', icon: 'FileText', description: 'Travaux √† rendre' },\r\n      { label: 'Pr√©sences', path: '/student-dashboard?tab=attendance', icon: 'Calendar', description: 'Historique de pr√©sence' },\r\n      { label: 'Emploi du temps', path: '/student-dashboard?tab=schedule', icon: 'Clock', description: 'Planning hebdomadaire' },\r\n      { label: 'Mon Profil', path: '/student-dashboard?tab=profile', icon: 'User', description: 'Informations personnelles' },\r\n      { label: 'Aide', path: '/help', icon: 'HelpCircle', description: 'Centre d\\'aide' }\r\n    ],\r\n    teacher: [\r\n      { label: 'Dashboard', path: '/teacher-dashboard', icon: 'Home', description: 'Aper√ßu des classes' },\r\n      { label: 'Mes Classes', path: '/teacher-dashboard?tab=classes', icon: 'Users', description: 'Gestion des classes' },\r\n      { label: 'Notes', path: '/teacher-dashboard?tab=grades', icon: 'BookOpen', description: 'Saisie des notes' },\r\n      { label: 'Pr√©sences', path: '/teacher-dashboard?tab=attendance', icon: 'Calendar', description: 'Prise de pr√©sence' },\r\n      { label: 'Documents', path: '/teacher-dashboard?tab=documents', icon: 'Files', description: 'Ressources p√©dagogiques' },\r\n      { label: 'Mon Compte', path: '/teacher-dashboard?tab=account', icon: 'User', description: 'Gestion du compte' },\r\n      { label: 'Aide', path: '/help', icon: 'HelpCircle', description: 'Centre d\\'aide' }\r\n    ],\r\n    secretary: [\r\n      { label: 'Dashboard', path: '/secretary-dashboard', icon: 'Home', description: 'Retour √† l\\'accueil' },\r\n      { label: 'Transferts', path: '/secretary-dashboard?tab=transfers', icon: 'ArrowRightLeft', description: 'Changements d\\'√©cole' },\r\n      { label: 'Documents', path: '/secretary-dashboard?tab=documents', icon: 'FileText', description: 'Certificats & attestations' },\r\n      { label: 'Ann√©e Scolaire', path: '/secretary-dashboard?tab=schoolyear', icon: 'RotateCcw', description: 'Transition d\\'ann√©e' },\r\n      { label: 'Aide', path: '/help', icon: 'HelpCircle', description: 'Centre d\\'aide' }\r\n    ],\r\n    principal: [\r\n      { label: 'Dashboard', path: '/principal-dashboard', icon: 'Home', description: 'Dashboard principal' },\r\n      { label: 'Comptes', path: '/principal-dashboard?tab=accounts', icon: 'UserCheck', description: 'Gestion des comptes' },\r\n      { label: 'Syst√®me', path: '/principal-dashboard?tab=system', icon: 'Settings', description: 'Configuration avanc√©e' },\r\n      { label: 'Aide', path: '/help', icon: 'HelpCircle', description: 'Centre d\\'aide' }\r\n    ],\r\n    parent: [\r\n      { label: 'Dashboard', path: '/parent-dashboard', icon: 'Home', description: 'Vue d\\'ensemble' },\r\n      { label: 'Mes Enfants', path: '/parent-dashboard?tab=children', icon: 'Users', description: 'Suivi des enfants' },\r\n      { label: 'Notes', path: '/parent-dashboard?tab=grades', icon: 'BookOpen', description: 'R√©sultats scolaires' },\r\n      { label: 'Pr√©sences', path: '/parent-dashboard?tab=attendance', icon: 'Calendar', description: 'Assiduit√©' },\r\n      { label: 'Paiements', path: '/parent-dashboard?tab=payments', icon: 'CreditCard', description: 'Frais scolaires' },\r\n      { label: 'Messages', path: '/parent-dashboard?tab=messages', icon: 'MessageCircle', description: 'Communications' },\r\n      { label: 'Aide', path: '/help', icon: 'HelpCircle', description: 'Centre d\\'aide' }\r\n    ],\r\n    admin: [\r\n      { label: 'Dashboard', path: '/admin-dashboard?tab=overview', icon: 'Home', description: 'Aper√ßu syst√®me' },\r\n      { label: 'Utilisateurs', path: '/admin-dashboard?tab=users', icon: 'Users', description: 'Gestion utilisateurs' },\r\n      { label: '√âtablissements', path: '/admin-dashboard?tab=schools', icon: 'School', description: 'Gestion √©tablissements' },\r\n      { label: 'Finances', path: '/admin-dashboard?tab=finances', icon: 'DollarSign', description: 'Gestion financi√®re' },\r\n      { label: 'Analytics', path: '/admin-dashboard?tab=analytics', icon: 'BarChart3', description: 'Statistiques' },\r\n      { label: 'S√©curit√©', path: '/admin-dashboard?tab=security', icon: 'Shield', description: 'S√©curit√© syst√®me' },\r\n      { label: 'Aide', path: '/help', icon: 'HelpCircle', description: 'Centre d\\'aide' }\r\n    ]\r\n  };\r\n\r\n  const quickActions = {\r\n    student: [\r\n      { label: 'Devoirs en retard', icon: 'AlertCircle', path: '/student-dashboard?tab=assignments' },\r\n      { label: 'Derni√®res notes', icon: 'TrendingUp', path: '/student-dashboard?tab=grades' },\r\n      { label: 'Mes badges', icon: 'Award', path: '/student-dashboard' },\r\n      { label: 'Messages non lus', icon: 'Mail', path: '/student-dashboard?tab=messages' },\r\n    ],\r\n    teacher: [\r\n      { label: 'Nouvelle note', icon: 'Plus', path: '/teacher-dashboard?tab=grades' },\r\n      { label: 'Prendre pr√©sence', icon: 'CheckSquare', path: '/teacher-dashboard?tab=attendance' },\r\n      { label: 'Mes documents', icon: 'FileText', path: '/teacher-dashboard?tab=documents' },\r\n      { label: 'Voir mes classes', icon: 'Users', path: '/teacher-dashboard?tab=classes' },\r\n    ],\r\n    secretary: [\r\n      { label: 'Nouvel √âl√®ve', icon: 'UserPlus', path: '/secretary-dashboard?tab=students' },\r\n      { label: 'Nouveau Paiement', icon: 'Plus', path: '/secretary-dashboard?tab=payments' },\r\n      { label: 'Imprimer Cartes', icon: 'Printer', path: '/secretary-dashboard?tab=cards' },\r\n      { label: 'Planifier RDV', icon: 'Calendar', path: '/secretary-dashboard?tab=planning' },\r\n      { label: 'Envoyer SMS', icon: 'MessageCircle', path: '/secretary-dashboard?tab=communications' }\r\n    ],\r\n    principal: [\r\n      { label: 'Cr√©er compte personnel', icon: 'UserPlus', path: '/principal-dashboard?tab=accounts&subtab=create' },\r\n      { label: 'Nouveau message', icon: 'Mail', path: '/notification-management' },\r\n      { label: 'Cr√©er rapport', icon: 'FileBarChart', path: '/report-generation' },\r\n      { label: 'Sauvegarde', icon: 'Database', path: '/data-backup' },\r\n    ],\r\n    parent: [\r\n      { label: 'Voir les notes', icon: 'BookOpen', path: '/parent-dashboard?tab=grades' },\r\n      { label: 'Consulter pr√©sences', icon: 'Calendar', path: '/parent-dashboard?tab=attendance' },\r\n      { label: 'Effectuer paiement', icon: 'CreditCard', path: '/parent-dashboard?tab=payments' },\r\n      { label: 'Messages enseignants', icon: 'Mail', path: '/parent-dashboard?tab=messages' },\r\n    ],\r\n    admin: [\r\n      { label: 'Utilisateurs', icon: 'Users', path: '/admin-dashboard?tab=users' },\r\n      { label: 'Finances', icon: 'DollarSign', path: '/admin-dashboard?tab=finances' },\r\n      { label: 'Analytics', icon: 'TrendingUp', path: '/admin-dashboard?tab=analytics' },\r\n      { label: 'S√©curit√©', icon: 'Shield', path: '/admin-dashboard?tab=security' }\r\n    ]\r\n  };\r\n\r\n  const currentNavItems = navigationItems?.[actualUserRole] || navigationItems?.student;\r\n  const currentQuickActions = quickActions?.[actualUserRole] || quickActions?.student;\r\n\r\n  // Debug pour v√©rifier la d√©tection du r√¥le\r\n  console.log('üîç Sidebar Debug:', { \r\n    userRole, \r\n    actualUserRole,\r\n    pathname: location.pathname,\r\n    navItemsCount: currentNavItems?.length,\r\n    quickActionsCount: currentQuickActions?.length \r\n  });\r\n\r\n  // Ajouter le CSS pour la scrollbar personnalis√©e\r\n  useEffect(() => {\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      .sidebar-scroll::-webkit-scrollbar {\r\n        width: 6px;\r\n      }\r\n      .sidebar-scroll::-webkit-scrollbar-track {\r\n        background: #f1f5f9;\r\n        border-radius: 3px;\r\n      }\r\n      .sidebar-scroll::-webkit-scrollbar-thumb {\r\n        background: #cbd5e1;\r\n        border-radius: 3px;\r\n      }\r\n      .sidebar-scroll::-webkit-scrollbar-thumb:hover {\r\n        background: #94a3b8;\r\n      }\r\n      .sidebar-scroll {\r\n        scrollbar-width: thin;\r\n        scrollbar-color: #cbd5e1 #f1f5f9;\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n    \r\n    return () => {\r\n      document.head.removeChild(style);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <aside className={`hidden lg:block lg:fixed left-0 top-16 h-[calc(100vh-4rem)] bg-gradient-to-b from-white via-blue-50/30 to-indigo-50/30 backdrop-blur-xl border-r border-gray-200/50 z-navigation transition-all duration-300 shadow-lg ${\r\n      isCollapsed ? 'w-16' : 'w-64'\r\n    }`}>\r\n      <div className=\"flex flex-col h-full\">\r\n        {/* Toggle Button - Modernis√© */}\r\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200/50 bg-gradient-to-r from-blue-50/50 to-indigo-50/50\">\r\n          {!isCollapsed && (\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"w-8 h-8 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center shadow-md\">\r\n                <Icon name=\"Compass\" size={16} className=\"text-white\" />\r\n              </div>\r\n              <h2 className=\"font-heading font-heading-semibold text-lg bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent\">\r\n                Navigation\r\n              </h2>\r\n            </div>\r\n          )}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={onToggle}\r\n            className=\"hidden lg:flex hover:bg-blue-100 rounded-lg transition-all duration-300 group\"\r\n          >\r\n            <Icon name={isCollapsed ? \"ChevronRight\" : \"ChevronLeft\"} size={20} className=\"text-blue-600 group-hover:scale-110 transition-transform\" />\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Navigation Items - Scrollable & Modernis√©e */}\r\n        <nav \r\n          className=\"flex-1 overflow-y-auto overflow-x-hidden sidebar-scroll\" \r\n          style={{\r\n            scrollbarWidth: 'thin',\r\n            scrollbarColor: '#cbd5e1 #f1f5f9'\r\n          }}\r\n        >\r\n          <div className=\"p-4 space-y-2\">\r\n            <div className=\"space-y-1\">\r\n            {!isCollapsed && (\r\n              <div className=\"flex items-center space-x-2 mb-4\">\r\n                <div className=\"h-px flex-1 bg-gradient-to-r from-transparent via-blue-300 to-transparent\"></div>\r\n                <h3 className=\"font-caption font-caption-semibold text-xs text-blue-600 uppercase tracking-wider px-2 bg-blue-50 rounded-full py-1\">\r\n                  Menu Principal\r\n                </h3>\r\n                <div className=\"h-px flex-1 bg-gradient-to-r from-transparent via-blue-300 to-transparent\"></div>\r\n              </div>\r\n            )}\r\n            {currentNavItems?.map((item) => (\r\n              <Link\r\n                key={item?.path}\r\n                to={item?.path}\r\n                className={`flex items-center ${!isCollapsed ? 'space-x-3' : 'justify-center'} px-3 py-3 rounded-xl text-sm font-body transition-all duration-300 group ${\r\n                  ((location?.pathname || '') + (location?.search || '')) === item?.path\r\n                    ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg scale-105'\r\n                    : 'text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:scale-102 hover:shadow-md'\r\n                }`}\r\n                title={isCollapsed ? item?.label : ''}\r\n              >\r\n                <div className={`w-10 h-10 rounded-lg flex items-center justify-center transition-all ${\r\n                  ((location?.pathname || '') + (location?.search || '')) === item?.path \r\n                    ? 'bg-white/20 backdrop-blur-sm' \r\n                    : 'bg-blue-100 group-hover:bg-blue-200'\r\n                }`}>\r\n                  <Icon \r\n                    name={item?.icon} \r\n                    size={20} \r\n                    className={`flex-shrink-0 ${\r\n                      ((location?.pathname || '') + (location?.search || '')) === item?.path ? 'text-white' : 'text-blue-600'\r\n                    }`}\r\n                  />\r\n                </div>\r\n                {!isCollapsed && (\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className={`font-body font-body-semibold ${\r\n                      ((location?.pathname || '') + (location?.search || '')) === item?.path ? 'text-white' : 'text-gray-900'\r\n                    }`}>{item?.label}</div>\r\n                    <div className={`font-caption font-caption-normal text-xs ${\r\n                      ((location?.pathname || '') + (location?.search || '')) === item?.path ? 'text-blue-100' : 'text-gray-500 group-hover:text-blue-600'\r\n                    }`}>\r\n                      {item?.description}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </Link>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Quick Actions - Modernis√©es */}\r\n          <div className=\"pt-6 mt-6 border-t border-gray-200/50\">\r\n            {!isCollapsed && (\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex items-center space-x-2 mb-2\">\r\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg flex items-center justify-center shadow-md\">\r\n                    <Icon name=\"Zap\" size={16} className=\"text-white\" />\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-sm font-bold text-gray-900\">\r\n                      Actions Rapides\r\n                    </h3>\r\n                    <p className=\"text-xs text-gray-500\">Outils essentiels</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            <div className=\"space-y-2\">\r\n              {currentQuickActions?.map((action, index) => {\r\n                // D√©finir des couleurs sp√©cifiques pour chaque type d'action\r\n                const getActionStyle = (actionLabel) => {\r\n                  if (actionLabel?.includes('Nouvel')) {\r\n                    return 'bg-gradient-to-br from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 text-green-700 border border-green-200 hover:border-green-400 hover:shadow-lg';\r\n                  }\r\n                  if (actionLabel?.includes('message') || actionLabel?.includes('SMS')) {\r\n                    return 'bg-gradient-to-br from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 text-blue-700 border border-blue-200 hover:border-blue-400 hover:shadow-lg';\r\n                  }\r\n                  if (actionLabel?.includes('rapport') || actionLabel?.includes('Planifier')) {\r\n                    return 'bg-gradient-to-br from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 text-purple-700 border border-purple-200 hover:border-purple-400 hover:shadow-lg';\r\n                  }\r\n                  if (actionLabel?.includes('Sauvegarde') || actionLabel?.includes('Imprimer')) {\r\n                    return 'bg-gradient-to-br from-orange-50 to-red-50 hover:from-orange-100 hover:to-red-100 text-orange-700 border border-orange-200 hover:border-orange-400 hover:shadow-lg';\r\n                  }\r\n                  return 'bg-gradient-to-br from-gray-50 to-slate-50 hover:from-blue-50 hover:to-indigo-50 text-gray-700 hover:text-blue-700 border border-gray-200 hover:border-blue-300 hover:shadow-lg';\r\n                };\r\n\r\n                return (\r\n                  <Link\r\n                    key={index}\r\n                    to={action?.path}\r\n                    className={`flex items-center ${!isCollapsed ? 'space-x-3' : 'justify-center'} px-3 py-3 rounded-xl text-sm font-semibold transition-all duration-300 group ${getActionStyle(action?.label)}`}\r\n                    title={isCollapsed ? action?.label : ''}\r\n                  >\r\n                    <div className=\"w-9 h-9 bg-white/60 rounded-lg flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform\">\r\n                      <Icon name={action?.icon} size={18} className=\"flex-shrink-0\" />\r\n                    </div>\r\n                    {!isCollapsed && <span className=\"font-body font-body-semibold\">{action?.label}</span>}\r\n                  </Link>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          </div>\r\n        </nav>\r\n\r\n        {/* Bottom Section */}\r\n\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Sidebar;"],"names":["cn","classes","MobileSidebar","userRole","userName","navigationItems","quickActions","isOpen","onClose","location","useLocation","activeTab","setActiveTab","useState","useEffect","isActive","path","cleanPath","jsxs","Fragment","jsx","Icon","e","item","index","Link","action","Header","isCollapsed","onToggleSidebar","isNotificationOpen","setIsNotificationOpen","isProfileOpen","setIsProfileOpen","isMobileSidebarOpen","setIsMobileSidebarOpen","notifications","setNotifications","loadingNotifications","setLoadingNotifications","user","setUser","actualUserRole","authUser","error","supabase","_a","notifs","formattedNotifs","notif","formatTimeAgo","dateString","date","diffMs","diffMins","diffHours","diffDays","currentNavItems","currentQuickActions","handleNotificationClick","handleProfileClick","handleLogout","Button","AppIcon","_b","_c","pathname","search","notification","Sidebar","onToggle","useNavigate","style","getActionStyle","actionLabel"],"mappings":"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"}