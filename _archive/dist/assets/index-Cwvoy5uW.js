import{u as S,j as e}from"./contexts-fbpOeTmm.js";import{r as l}from"./react-vendor-CFDIsUAY.js";import{H as M}from"./Helmet-B3bMicap.js";import{H as F,S as R}from"./Sidebar-Q0ML3SY6.js";import{I as t,B as a}from"./index-BPV3rumr.js";import{g as E}from"./services-CdXttHtG.js";import"./charts-vendor-i33Lw0zL.js";import"./ui-vendor-BrXTGbgA.js";import"./supabase-CIvuJI4W.js";const U=()=>{var p;const[i,j]=l.useState(!1),[A,T]=l.useState(new Date),[o,d]=l.useState("month"),[c,m]=l.useState(new Date),{user:n}=S(),x=E(),h=()=>{j(!i)},b=[{id:1,title:"Rentrée scolaire",date:"2025-09-01",type:"academic",description:`Début de l'année scolaire ${x}`,color:"bg-blue-500"},{id:2,title:"Réunion parents d'élèves",date:"2025-09-28",type:"meeting",description:"Réunion trimestrielle avec les parents",color:"bg-green-500"},{id:3,title:"Fête nationale",date:"2025-05-20",type:"holiday",description:"Fête nationale - école fermée",color:"bg-red-500"},{id:4,title:"Examens du 1er trimestre",date:"2025-12-10",type:"exam",description:"Début des examens trimestriels",color:"bg-orange-500"},{id:5,title:"Formation des enseignants",date:"2025-10-15",type:"training",description:"Session de formation pédagogique",color:"bg-purple-500"}],g=[{id:"academic",label:"Académique",color:"bg-blue-500"},{id:"meeting",label:"Réunions",color:"bg-green-500"},{id:"holiday",label:"Vacances",color:"bg-red-500"},{id:"exam",label:"Examens",color:"bg-orange-500"},{id:"training",label:"Formations",color:"bg-purple-500"},{id:"event",label:"Événements",color:"bg-pink-500"}],f=b.filter(s=>new Date(s.date)>=new Date).sort((s,r)=>new Date(s.date)-new Date(r.date)).slice(0,5),v=s=>new Date(s).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),N=s=>{var r;return((r=g.find(k=>k.id===s))==null?void 0:r.color)||"bg-gray-500"},w=()=>{const s=new Date(c);s.setMonth(s.getMonth()-1),m(s)},y=()=>{const s=new Date(c);s.setMonth(s.getMonth()+1),m(s)},C=()=>{m(new Date)},z=()=>c.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),u=()=>{alert("Fonctionnalité en développement : Ajouter un événement")},D=()=>{alert("Fonctionnalité en développement : Exporter le calendrier")};return e.jsxs(e.Fragment,{children:[e.jsxs(M,{children:[e.jsx("title",{children:"Calendrier Scolaire - EduTrack CM"}),e.jsx("meta",{name:"description",content:"Gérer le calendrier et les événements scolaires"})]}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(F,{userRole:n==null?void 0:n.role,userName:(n==null?void 0:n.full_name)||((p=n==null?void 0:n.email)==null?void 0:p.split("@")[0])||"Utilisateur",isCollapsed:i,onToggleSidebar:h}),e.jsxs("div",{className:"flex pt-16",children:[e.jsx(R,{userRole:n==null?void 0:n.role,isCollapsed:i,onToggle:h}),e.jsxs("main",{className:`flex-1 transition-all duration-300 ${i?"lg:ml-20":"lg:ml-64"} p-6`,children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(t,{name:"Calendar",size:20,className:"text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-heading font-heading-bold text-foreground",children:"Calendrier Scolaire"}),e.jsxs("p",{className:"text-muted-foreground",children:["Année académique ",x]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(a,{variant:"outline",onClick:D,children:[e.jsx(t,{name:"Download",size:16,className:"mr-2"}),"Exporter"]}),((n==null?void 0:n.role)==="principal"||(n==null?void 0:n.role)==="secretary")&&e.jsxs(a,{onClick:u,children:[e.jsx(t,{name:"Plus",size:16,className:"mr-2"}),"Nouvel événement"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-xl font-heading font-heading-semibold text-card-foreground capitalize",children:z()}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(a,{variant:"ghost",size:"sm",onClick:w,children:e.jsx(t,{name:"ChevronLeft",size:16})}),e.jsx(a,{variant:"ghost",size:"sm",onClick:C,children:"Aujourd'hui"}),e.jsx(a,{variant:"ghost",size:"sm",onClick:y,children:e.jsx(t,{name:"ChevronRight",size:16})})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(a,{variant:o==="month"?"default":"outline",size:"sm",onClick:()=>d("month"),children:"Mois"}),e.jsx(a,{variant:o==="week"?"default":"outline",size:"sm",onClick:()=>d("week"),children:"Semaine"}),e.jsx(a,{variant:o==="day"?"default":"outline",size:"sm",onClick:()=>d("day"),children:"Jour"})]})]}),e.jsxs("div",{className:"border border-border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-7 bg-muted/50",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(s=>e.jsx("div",{className:"p-3 text-center text-sm font-medium text-muted-foreground border-r border-border last:border-r-0",children:s},s))}),e.jsx("div",{className:"grid grid-cols-7 min-h-[400px]",children:Array.from({length:35},(s,r)=>e.jsxs("div",{className:"border-r border-b border-border last:border-r-0 p-2 min-h-[100px] relative",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:r+1<=30?r+1:""}),r===1&&e.jsx("div",{className:"mt-1",children:e.jsx("div",{className:"bg-blue-500 text-white text-xs p-1 rounded mb-1",children:"Rentrée"})}),r===27&&e.jsx("div",{className:"mt-1",children:e.jsx("div",{className:"bg-green-500 text-white text-xs p-1 rounded mb-1",children:"Réunion"})})]},r))})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-card",children:[e.jsx("h3",{className:"text-lg font-heading font-heading-semibold text-card-foreground mb-4",children:"Événements à venir"}),e.jsx("div",{className:"space-y-3",children:f.map(s=>e.jsx("div",{className:"p-3 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-3 h-3 ${N(s.type)} rounded-full mt-1.5 flex-shrink-0`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-foreground text-sm",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:v(s.date)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.description})]})]})},s.id))})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-card",children:[e.jsx("h3",{className:"text-lg font-heading font-heading-semibold text-card-foreground mb-4",children:"Types d'événements"}),e.jsx("div",{className:"space-y-2",children:g.map(s=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 ${s.color} rounded-full`}),e.jsx("span",{className:"text-sm text-foreground",children:s.label})]},s.id))})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-card",children:[e.jsx("h3",{className:"text-lg font-heading font-heading-semibold text-card-foreground mb-4",children:"Actions rapides"}),e.jsxs("div",{className:"space-y-2",children:[((n==null?void 0:n.role)==="principal"||(n==null?void 0:n.role)==="secretary")&&e.jsxs(e.Fragment,{children:[e.jsxs(a,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:u,children:[e.jsx(t,{name:"Plus",size:14,className:"mr-2"}),"Ajouter événement"]}),e.jsxs(a,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>alert("Fonctionnalité en développement"),children:[e.jsx(t,{name:"Calendar",size:14,className:"mr-2"}),"Programmer vacances"]}),e.jsxs(a,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>alert("Fonctionnalité en développement"),children:[e.jsx(t,{name:"Users",size:14,className:"mr-2"}),"Réunion parents"]}),e.jsxs(a,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>alert("Fonctionnalité en développement"),children:[e.jsx(t,{name:"BookOpen",size:14,className:"mr-2"}),"Planifier examens"]})]}),(n==null?void 0:n.role)==="teacher"&&e.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted/30 rounded-lg",children:[e.jsx(t,{name:"Info",size:14,className:"inline mr-2"}),"Consultation uniquement"]})]})]})]})]})]})]})]})]})};export{U as default};
//# sourceMappingURL=index-Cwvoy5uW.js.map
