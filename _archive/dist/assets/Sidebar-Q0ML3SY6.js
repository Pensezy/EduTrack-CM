import{j as e}from"./contexts-fbpOeTmm.js";import{u as E,r as c,L as k,e as Z}from"./react-vendor-CFDIsUAY.js";import{s as A}from"./services-CdXttHtG.js";import{I as t,B as D}from"./index-BPV3rumr.js";const z=(...h)=>h.filter(Boolean).join(" "),W=({userRole:h="student",userName:l="User",navigationItems:y=[],quickActions:r=[],isOpen:v=!1,onClose:p=()=>{}})=>{const b=E(),[d,m]=c.useState("navigation");c.useEffect(()=>{v&&console.log("ðŸ“± MobileSidebar ouvert:",{userRole:h,userName:l,navigationItems:(y==null?void 0:y.length)||0,quickActions:(r==null?void 0:r.length)||0,activeTab:d})},[v,h,l,y,r,d]),c.useEffect(()=>{p()},[b.pathname]),c.useEffect(()=>(v?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[v]);const u=a=>{if(!a)return!1;const x=a.split("?")[0];return b.pathname===x||b.pathname.startsWith(x+"/")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:z("fixed inset-0 bg-black/50 z-[9998] transition-opacity duration-300 lg:hidden",v?"opacity-100":"opacity-0 pointer-events-none"),onClick:p,"aria-hidden":"true"}),e.jsxs("aside",{className:z("fixed top-0 left-0 h-full w-[280px] bg-white shadow-2xl z-[9999] transform transition-transform duration-300 ease-out lg:hidden","flex flex-col",v?"translate-x-0":"-translate-x-full"),children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-200 shrink-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-bold text-xs",children:l.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:l}),e.jsx("p",{className:"text-[10px] text-gray-500 capitalize",children:h})]})]}),e.jsx("button",{onClick:p,className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Fermer le menu",children:e.jsx(t,{name:"X",size:18,className:"text-gray-600"})})]}),e.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50 shrink-0",children:[e.jsxs("button",{type:"button",onClick:a=>{a.preventDefault(),a.stopPropagation(),m("navigation"),console.log("Tab Navigation clicked")},className:z("flex-1 px-3 py-2 text-xs font-medium transition-all duration-200","active:scale-95 cursor-pointer touch-manipulation",d==="navigation"?"text-primary border-b-2 border-primary bg-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),"aria-label":"Onglet Navigation","aria-pressed":d==="navigation",children:[e.jsx(t,{name:"Menu",size:14,className:"inline mr-1.5"}),"Navigation"]}),e.jsxs("button",{type:"button",onClick:a=>{a.preventDefault(),a.stopPropagation(),m("quick"),console.log("Tab Actions clicked")},className:z("flex-1 px-3 py-2 text-xs font-medium transition-all duration-200","active:scale-95 cursor-pointer touch-manipulation",d==="quick"?"text-primary border-b-2 border-primary bg-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),"aria-label":"Onglet Actions rapides","aria-pressed":d==="quick",children:[e.jsx(t,{name:"Zap",size:14,className:"inline mr-1.5"}),"Actions"]})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto overscroll-contain px-2 py-1",children:[d==="navigation"&&e.jsx("div",{className:"space-y-0.5",children:y&&y.length>0?y.map((a,x)=>e.jsxs(k,{to:a.path,onClick:p,className:z("flex items-center space-x-2 px-3 py-2 rounded-lg transition-all","active:scale-95",u(a.path)?"bg-primary/10 text-primary font-semibold":"text-gray-700 hover:bg-gray-100"),children:[e.jsx(t,{name:a.icon,size:16,className:"flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-medium truncate",children:a.label}),a.description&&e.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:a.description})]}),u(a.path)&&e.jsx("div",{className:"w-1 h-1 rounded-full bg-primary animate-pulse"})]},x)):e.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center",children:[e.jsx(t,{name:"Menu",size:36,className:"text-gray-300 mb-3"}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Aucun Ã©lÃ©ment de navigation"}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Les liens de navigation apparaÃ®tront ici"})]})}),d==="quick"&&e.jsx("div",{className:"space-y-0.5",children:r&&r.length>0?r.map((a,x)=>e.jsxs(k,{to:a.path,onClick:p,className:z("flex items-center space-x-2 px-3 py-2 rounded-lg","text-gray-700 hover:bg-gray-100 transition-all active:scale-95"),children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(t,{name:a.icon,size:14,className:"text-primary"})}),e.jsx("span",{className:"text-xs font-medium flex-1",children:a.label}),e.jsx(t,{name:"ChevronRight",size:12,className:"text-gray-400"})]},x)):e.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center",children:[e.jsx(t,{name:"Zap",size:36,className:"text-gray-300 mb-3"}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Aucune action rapide"}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Les actions rapides apparaÃ®tront ici"})]})})]}),e.jsx("div",{className:"px-3 py-2 border-t border-gray-200 bg-gray-50 shrink-0",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-1.5 px-3 py-2 bg-destructive text-white rounded-lg text-xs font-medium hover:bg-destructive/90 transition-colors active:scale-95",onClick:()=>{window.location.href="/login-authentication"},children:[e.jsx(t,{name:"LogOut",size:14}),e.jsx("span",{children:"DÃ©connexion"})]})})]})]})},Q=({userRole:h="student",userName:l="User",isCollapsed:y=!1,onToggleSidebar:r})=>{var F,O,B;const[v,p]=c.useState(!1),[b,d]=c.useState(!1),[m,u]=c.useState(!1),[a,x]=c.useState([]),[H,n]=c.useState(!1),[S,T]=c.useState(null),i=E(),o=i.pathname.includes("/secretary-dashboard")?"secretary":i.pathname.includes("/principal-dashboard")?"principal":i.pathname.includes("/teacher-dashboard")?"teacher":i.pathname.includes("/student-dashboard")?"student":i.pathname.includes("/parent-dashboard")?"parent":i.pathname.includes("/admin-dashboard")?"admin":h;c.useEffect(()=>{(async()=>{try{const{data:{user:f},error:j}=await A.auth.getUser();if(j)throw j;T(f)}catch(f){console.error("Erreur rÃ©cupÃ©ration utilisateur:",f),T(null)}})()},[]),c.useEffect(()=>{(async()=>{var f;if((f=S==null?void 0:S.user_metadata)!=null&&f.current_school_id)try{n(!0);const{data:j,error:C}=await A.from("notifications").select("id, title, message, type, priority, sent_at").eq("school_id",S.user_metadata.current_school_id).order("sent_at",{ascending:!1}).limit(5);if(C)throw C;const U=(j||[]).map(N=>({id:N.id,title:N.title,message:N.message,type:N.type||"info",time:$(N.sent_at)}));x(U)}catch(j){console.error("Erreur chargement notifications:",j),x([])}finally{n(!1)}})()},[(F=S==null?void 0:S.user_metadata)==null?void 0:F.current_school_id]);const $=s=>{const f=new Date(s),C=new Date-f,U=Math.floor(C/6e4),N=Math.floor(C/36e5),P=Math.floor(C/864e5);return U<1?"Ã  l'instant":U<60?`il y a ${U} min`:N<24?`il y a ${N}h`:P===1?"hier":P<7?`il y a ${P} jours`:f.toLocaleDateString("fr-FR")},w={student:[{label:"Tableau de bord",path:"/student-dashboard",icon:"Home"},{label:"Notes",path:"/student-dashboard?tab=grades",icon:"BookOpen"},{label:"Devoirs",path:"/student-dashboard?tab=assignments",icon:"FileText"},{label:"Profil",path:"/student-dashboard?tab=profile",icon:"User"}],parent:[{label:"Dashboard",path:"/parent-dashboard",icon:"Home"},{label:"Enfants",path:"/parent-dashboard?tab=children",icon:"Users"},{label:"Notes",path:"/parent-dashboard?tab=grades",icon:"BookOpen"},{label:"Messages",path:"/parent-dashboard?tab=messages",icon:"MessageCircle"}],teacher:[{label:"Dashboard",path:"/teacher-dashboard",icon:"Home"},{label:"Classes",path:"/teacher-dashboard?tab=classes",icon:"Users"},{label:"Notes",path:"/teacher-dashboard?tab=grades",icon:"BookOpen"},{label:"Compte",path:"/teacher-dashboard?tab=account",icon:"User"}],secretary:[{label:"Dashboard",path:"/secretary-dashboard",icon:"Home"},{label:"Urgences",path:"/secretary-dashboard?tab=justifications",icon:"AlertCircle"},{label:"Communications",path:"/secretary-dashboard?tab=communications",icon:"MessageCircle"}],principal:[{label:"Dashboard",path:"/principal-dashboard",icon:"Home"},{label:"Comptes",path:"/principal-dashboard?tab=accounts",icon:"UserCheck"},{label:"Validation AnnÃ©e",path:"/principal-dashboard?tab=school-year",icon:"Calendar"}],admin:[{label:"Dashboard",path:"/admin-dashboard?tab=overview",icon:"Home"},{label:"Utilisateurs",path:"/admin-dashboard?tab=users",icon:"Users"},{label:"Ã‰tablissements",path:"/admin-dashboard?tab=schools",icon:"School"},{label:"Finances",path:"/admin-dashboard?tab=finances",icon:"DollarSign"},{label:"Analytics",path:"/admin-dashboard?tab=analytics",icon:"TrendingUp"},{label:"SÃ©curitÃ©",path:"/admin-dashboard?tab=security",icon:"Shield"}]},M={student:[{label:"Devoirs en retard",icon:"AlertCircle",path:"/student-dashboard?tab=assignments"},{label:"DerniÃ¨res notes",icon:"TrendingUp",path:"/student-dashboard?tab=grades"},{label:"Mes badges",icon:"Award",path:"/student-dashboard"}],teacher:[{label:"Nouvelle note",icon:"Plus",path:"/teacher-dashboard?tab=grades"},{label:"Prendre prÃ©sence",icon:"CheckSquare",path:"/teacher-dashboard?tab=attendance"},{label:"Voir mes classes",icon:"Users",path:"/teacher-dashboard?tab=classes"}],secretary:[{label:"Nouvel Ã‰lÃ¨ve",icon:"UserPlus",path:"/secretary-dashboard?tab=students"},{label:"Nouveau Paiement",icon:"Plus",path:"/secretary-dashboard?tab=payments"},{label:"Envoyer SMS",icon:"MessageCircle",path:"/secretary-dashboard?tab=communications"}],principal:[{label:"CrÃ©er compte",icon:"UserPlus",path:"/principal-dashboard?tab=accounts"},{label:"Nouveau message",icon:"Mail",path:"/notification-management"},{label:"Sauvegarde",icon:"Database",path:"/data-backup"}],parent:[{label:"Voir les notes",icon:"BookOpen",path:"/parent-dashboard?tab=grades"},{label:"Consulter prÃ©sences",icon:"Calendar",path:"/parent-dashboard?tab=attendance"},{label:"Effectuer paiement",icon:"CreditCard",path:"/parent-dashboard?tab=payments"}],admin:[{label:"Utilisateurs",icon:"Users",path:"/admin-dashboard?tab=users"},{label:"Finances",icon:"DollarSign",path:"/admin-dashboard?tab=finances"},{label:"SÃ©curitÃ©",icon:"Shield",path:"/admin-dashboard?tab=security"}]},g=(w==null?void 0:w[o])||(w==null?void 0:w.student),_=(M==null?void 0:M[o])||(M==null?void 0:M.student);c.useEffect(()=>{console.log("ðŸ” Header Debug:",{userRole:h,actualUserRole:o,pathname:i.pathname,userName:l,hasNavItems:!!(w!=null&&w[o]),currentNavItems:g==null?void 0:g.map(s=>s.label)})},[h,l,g]);const R=()=>{p(!v),d(!1)},V=()=>{d(!b),p(!1)},G=async()=>{try{await A.auth.signOut()}catch(s){console.log("Erreur lors de la dÃ©connexion:",s.message)}window.location.href="/school-management"};return e.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-gradient-to-r from-white via-blue-50/50 to-indigo-50/50 backdrop-blur-xl border-b border-gray-200/50 z-navigation shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(D,{variant:"ghost",size:"icon",onClick:()=>u(!0),className:"lg:hidden hover:bg-blue-100/50 transition-all duration-300","aria-label":"Ouvrir le menu",children:e.jsx(t,{name:"Menu",size:24,className:"text-blue-600"})}),e.jsxs(k,{to:((O=g==null?void 0:g[0])==null?void 0:O.path)||"/",className:"flex items-center space-x-3 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-gradient-to-br from-blue-600 to-indigo-600 shadow-lg group-hover:shadow-xl group-hover:scale-105 transition-all duration-300",children:e.jsx("img",{src:"/assets/images/mon_logo.png",alt:"Logo EduTrack CM",className:"w-6 h-6 object-contain filter brightness-0 invert"})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("span",{className:"font-heading font-heading-bold text-xl bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"EduTrack CM"}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Gestion Scolaire"})]})]}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-2",children:(B=g==null?void 0:g.slice(0,4))==null?void 0:B.map(s=>{const f=()=>{var j,C;if((j=s==null?void 0:s.path)!=null&&j.includes("?")){const[U,N]=(C=s==null?void 0:s.path)==null?void 0:C.split("?");return(i==null?void 0:i.pathname)===U&&(i==null?void 0:i.search)===`?${N}`}else return(i==null?void 0:i.pathname)===(s==null?void 0:s.path)};return e.jsxs(k,{to:s==null?void 0:s.path,className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-body font-body-semibold transition-all duration-300 ${f()?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-md scale-105":"text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:scale-102"}`,children:[e.jsx(t,{name:s==null?void 0:s.icon,size:16}),e.jsx("span",{children:s==null?void 0:s.label})]},s==null?void 0:s.path)})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[h!=="principal"&&e.jsxs("div",{className:"relative",children:[e.jsxs(D,{variant:"ghost",size:"icon",onClick:R,className:"relative hover:bg-blue-50 transition-all duration-300 group",children:[e.jsx(t,{name:"Bell",size:20,className:"text-gray-600 group-hover:text-blue-600 transition-colors"}),(a==null?void 0:a.length)>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold shadow-md animate-pulse",children:a==null?void 0:a.length})]}),v&&e.jsxs("div",{className:"absolute right-0 top-12 w-80 bg-white border-2 border-gray-200 rounded-2xl shadow-2xl z-notification animate-fadeIn",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl border-b border-gray-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(t,{name:"Bell",size:16,className:"text-white"})}),e.jsx("h3",{className:"font-heading font-heading-semibold text-base text-gray-900",children:"Notifications"})]})})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:(a==null?void 0:a.length)>0?a.map(s=>e.jsx("div",{className:"p-4 border-b border-gray-100 last:border-b-0 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-300 cursor-pointer group",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mt-1 shadow-sm group-hover:scale-110 transition-transform ${(s==null?void 0:s.type)==="success"?"bg-gradient-to-br from-green-400 to-emerald-500":(s==null?void 0:s.type)==="warning"?"bg-gradient-to-br from-amber-400 to-orange-500":"bg-gradient-to-br from-blue-400 to-indigo-500"}`,children:e.jsx(t,{name:(s==null?void 0:s.type)==="success"?"CheckCircle":(s==null?void 0:s.type)==="warning"?"AlertTriangle":"Info",size:18,className:"text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-body font-body-semibold text-sm text-gray-900",children:s==null?void 0:s.title}),e.jsx("p",{className:"font-body font-body-normal text-sm text-gray-600 mt-1",children:s==null?void 0:s.message}),e.jsxs("p",{className:"font-caption font-caption-normal text-xs text-gray-500 mt-1 flex items-center",children:[e.jsx(t,{name:"Clock",size:12,className:"mr-1"}),s==null?void 0:s.time]})]})]})},s==null?void 0:s.id)):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(t,{name:"Bell",size:24,className:"text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune notification"})]})}),e.jsx("div",{className:"p-3 border-t border-border",children:e.jsx(D,{variant:"ghost",size:"sm",className:"w-full",children:"View all notifications"})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(D,{variant:"ghost",onClick:V,className:"flex items-center space-x-3 px-3 py-2 hover:bg-blue-50 rounded-full transition-all duration-300 group",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full flex items-center justify-center shadow-md group-hover:shadow-lg group-hover:scale-105 transition-all duration-300",children:e.jsx(t,{name:"User",size:18,color:"white"})}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsx("span",{className:"font-body font-body-semibold text-sm text-gray-900 block",children:l||"Utilisateur"}),e.jsx("span",{className:"font-caption text-xs text-gray-500",children:o==="secretary"?"SecrÃ©taire":o==="principal"?"Directeur":o==="teacher"?"Enseignant":o==="student"?"Ã‰lÃ¨ve":o==="parent"?"Parent":o==="admin"?"Admin":o})]}),e.jsx(t,{name:"ChevronDown",size:16,className:"hidden md:block text-gray-500 group-hover:text-blue-600 transition-colors"})]}),b&&e.jsx("div",{className:"absolute right-0 top-14 w-64 bg-white border-2 border-gray-200 rounded-2xl shadow-2xl z-50 animate-fadeIn",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl mb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full flex items-center justify-center shadow-md",children:e.jsx(t,{name:"User",size:20,color:"white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-heading font-heading-semibold text-sm text-gray-900",children:l}),e.jsxs("p",{className:"text-xs text-gray-600 capitalize flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),o==="secretary"?"SecrÃ©taire":o==="principal"?"Directeur":o==="teacher"?"Enseignant":o==="student"?"Ã‰lÃ¨ve":o==="parent"?"Parent":o==="admin"?"Administrateur":o]})]})]})}),e.jsxs(k,{to:"/profile-settings",className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-xl transition-all duration-300 group",onClick:()=>d(!1),children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:e.jsx(t,{name:"Settings",size:16,className:"text-blue-600"})}),e.jsx("span",{className:"font-body font-body-medium",children:"Mon profil"})]}),e.jsxs(k,{to:"/help",className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-purple-50 rounded-xl transition-all duration-300 group",onClick:()=>d(!1),children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:e.jsx(t,{name:"HelpCircle",size:16,className:"text-purple-600"})}),e.jsx("span",{className:"font-body font-body-medium",children:"Aide"})]}),e.jsx("div",{className:"border-t border-gray-200 mt-3 pt-3",children:e.jsxs("button",{onClick:G,className:"flex items-center space-x-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 rounded-xl transition-all duration-300 w-full text-left group",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-200 transition-colors",children:e.jsx(t,{name:"LogOut",size:16,className:"text-red-600"})}),e.jsx("span",{className:"font-body font-body-semibold",children:"Se dÃ©connecter"})]})})]})})]})]})]}),e.jsx(W,{isOpen:m,onClose:()=>u(!1),userRole:o,userName:l,navigationItems:g,quickActions:_})]})},I=({userRole:h="student",isCollapsed:l=!1,onToggle:y})=>{const r=E();Z();const p=r.pathname.includes("/secretary-dashboard")?"secretary":r.pathname.includes("/principal-dashboard")?"principal":r.pathname.includes("/teacher-dashboard")?"teacher":r.pathname.includes("/student-dashboard")?"student":r.pathname.includes("/parent-dashboard")?"parent":r.pathname.includes("/admin-dashboard")?"admin":h,b={student:[{label:"Tableau de bord",path:"/student-dashboard",icon:"Home",description:"Vue d'ensemble"},{label:"Mes Notes",path:"/student-dashboard?tab=grades",icon:"BookOpen",description:"Performance acadÃ©mique"},{label:"Mes Devoirs",path:"/student-dashboard?tab=assignments",icon:"FileText",description:"Travaux Ã  rendre"},{label:"PrÃ©sences",path:"/student-dashboard?tab=attendance",icon:"Calendar",description:"Historique de prÃ©sence"},{label:"Emploi du temps",path:"/student-dashboard?tab=schedule",icon:"Clock",description:"Planning hebdomadaire"},{label:"Mon Profil",path:"/student-dashboard?tab=profile",icon:"User",description:"Informations personnelles"},{label:"Aide",path:"/help",icon:"HelpCircle",description:"Centre d'aide"}],teacher:[{label:"Dashboard",path:"/teacher-dashboard",icon:"Home",description:"AperÃ§u des classes"},{label:"Mes Classes",path:"/teacher-dashboard?tab=classes",icon:"Users",description:"Gestion des classes"},{label:"Notes",path:"/teacher-dashboard?tab=grades",icon:"BookOpen",description:"Saisie des notes"},{label:"PrÃ©sences",path:"/teacher-dashboard?tab=attendance",icon:"Calendar",description:"Prise de prÃ©sence"},{label:"Documents",path:"/teacher-dashboard?tab=documents",icon:"Files",description:"Ressources pÃ©dagogiques"},{label:"Mon Compte",path:"/teacher-dashboard?tab=account",icon:"User",description:"Gestion du compte"},{label:"Aide",path:"/help",icon:"HelpCircle",description:"Centre d'aide"}],secretary:[{label:"Dashboard",path:"/secretary-dashboard",icon:"Home",description:"Retour Ã  l'accueil"},{label:"Transferts",path:"/secretary-dashboard?tab=transfers",icon:"ArrowRightLeft",description:"Changements d'Ã©cole"},{label:"Documents",path:"/secretary-dashboard?tab=documents",icon:"FileText",description:"Certificats & attestations"},{label:"AnnÃ©e Scolaire",path:"/secretary-dashboard?tab=schoolyear",icon:"RotateCcw",description:"Transition d'annÃ©e"},{label:"Aide",path:"/help",icon:"HelpCircle",description:"Centre d'aide"}],principal:[{label:"Dashboard",path:"/principal-dashboard",icon:"Home",description:"Dashboard principal"},{label:"Comptes",path:"/principal-dashboard?tab=accounts",icon:"UserCheck",description:"Gestion des comptes"},{label:"SystÃ¨me",path:"/principal-dashboard?tab=system",icon:"Settings",description:"Configuration avancÃ©e"},{label:"Aide",path:"/help",icon:"HelpCircle",description:"Centre d'aide"}],parent:[{label:"Dashboard",path:"/parent-dashboard",icon:"Home",description:"Vue d'ensemble"},{label:"Mes Enfants",path:"/parent-dashboard?tab=children",icon:"Users",description:"Suivi des enfants"},{label:"Notes",path:"/parent-dashboard?tab=grades",icon:"BookOpen",description:"RÃ©sultats scolaires"},{label:"PrÃ©sences",path:"/parent-dashboard?tab=attendance",icon:"Calendar",description:"AssiduitÃ©"},{label:"Paiements",path:"/parent-dashboard?tab=payments",icon:"CreditCard",description:"Frais scolaires"},{label:"Messages",path:"/parent-dashboard?tab=messages",icon:"MessageCircle",description:"Communications"},{label:"Aide",path:"/help",icon:"HelpCircle",description:"Centre d'aide"}],admin:[{label:"Dashboard",path:"/admin-dashboard?tab=overview",icon:"Home",description:"AperÃ§u systÃ¨me"},{label:"Utilisateurs",path:"/admin-dashboard?tab=users",icon:"Users",description:"Gestion utilisateurs"},{label:"Ã‰tablissements",path:"/admin-dashboard?tab=schools",icon:"School",description:"Gestion Ã©tablissements"},{label:"Finances",path:"/admin-dashboard?tab=finances",icon:"DollarSign",description:"Gestion financiÃ¨re"},{label:"Analytics",path:"/admin-dashboard?tab=analytics",icon:"BarChart3",description:"Statistiques"},{label:"SÃ©curitÃ©",path:"/admin-dashboard?tab=security",icon:"Shield",description:"SÃ©curitÃ© systÃ¨me"},{label:"Aide",path:"/help",icon:"HelpCircle",description:"Centre d'aide"}]},d={student:[{label:"Devoirs en retard",icon:"AlertCircle",path:"/student-dashboard?tab=assignments"},{label:"DerniÃ¨res notes",icon:"TrendingUp",path:"/student-dashboard?tab=grades"},{label:"Mes badges",icon:"Award",path:"/student-dashboard"},{label:"Messages non lus",icon:"Mail",path:"/student-dashboard?tab=messages"}],teacher:[{label:"Nouvelle note",icon:"Plus",path:"/teacher-dashboard?tab=grades"},{label:"Prendre prÃ©sence",icon:"CheckSquare",path:"/teacher-dashboard?tab=attendance"},{label:"Mes documents",icon:"FileText",path:"/teacher-dashboard?tab=documents"},{label:"Voir mes classes",icon:"Users",path:"/teacher-dashboard?tab=classes"}],secretary:[{label:"Nouvel Ã‰lÃ¨ve",icon:"UserPlus",path:"/secretary-dashboard?tab=students"},{label:"Nouveau Paiement",icon:"Plus",path:"/secretary-dashboard?tab=payments"},{label:"Imprimer Cartes",icon:"Printer",path:"/secretary-dashboard?tab=cards"},{label:"Planifier RDV",icon:"Calendar",path:"/secretary-dashboard?tab=planning"},{label:"Envoyer SMS",icon:"MessageCircle",path:"/secretary-dashboard?tab=communications"}],principal:[{label:"CrÃ©er compte personnel",icon:"UserPlus",path:"/principal-dashboard?tab=accounts&subtab=create"},{label:"Nouveau message",icon:"Mail",path:"/notification-management"},{label:"CrÃ©er rapport",icon:"FileBarChart",path:"/report-generation"},{label:"Sauvegarde",icon:"Database",path:"/data-backup"}],parent:[{label:"Voir les notes",icon:"BookOpen",path:"/parent-dashboard?tab=grades"},{label:"Consulter prÃ©sences",icon:"Calendar",path:"/parent-dashboard?tab=attendance"},{label:"Effectuer paiement",icon:"CreditCard",path:"/parent-dashboard?tab=payments"},{label:"Messages enseignants",icon:"Mail",path:"/parent-dashboard?tab=messages"}],admin:[{label:"Utilisateurs",icon:"Users",path:"/admin-dashboard?tab=users"},{label:"Finances",icon:"DollarSign",path:"/admin-dashboard?tab=finances"},{label:"Analytics",icon:"TrendingUp",path:"/admin-dashboard?tab=analytics"},{label:"SÃ©curitÃ©",icon:"Shield",path:"/admin-dashboard?tab=security"}]},m=(b==null?void 0:b[p])||(b==null?void 0:b.student),u=(d==null?void 0:d[p])||(d==null?void 0:d.student);return console.log("ðŸ” Sidebar Debug:",{userRole:h,actualUserRole:p,pathname:r.pathname,navItemsCount:m==null?void 0:m.length,quickActionsCount:u==null?void 0:u.length}),c.useEffect(()=>{const a=document.createElement("style");return a.textContent=`
      .sidebar-scroll::-webkit-scrollbar {
        width: 6px;
      }
      .sidebar-scroll::-webkit-scrollbar-track {
        background: #f1f5f9;
        border-radius: 3px;
      }
      .sidebar-scroll::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 3px;
      }
      .sidebar-scroll::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }
      .sidebar-scroll {
        scrollbar-width: thin;
        scrollbar-color: #cbd5e1 #f1f5f9;
      }
    `,document.head.appendChild(a),()=>{document.head.removeChild(a)}},[]),e.jsx("aside",{className:`hidden lg:block lg:fixed left-0 top-16 h-[calc(100vh-4rem)] bg-gradient-to-b from-white via-blue-50/30 to-indigo-50/30 backdrop-blur-xl border-r border-gray-200/50 z-navigation transition-all duration-300 shadow-lg ${l?"w-16":"w-64"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200/50 bg-gradient-to-r from-blue-50/50 to-indigo-50/50",children:[!l&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx(t,{name:"Compass",size:16,className:"text-white"})}),e.jsx("h2",{className:"font-heading font-heading-semibold text-lg bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Navigation"})]}),e.jsx(D,{variant:"ghost",size:"icon",onClick:y,className:"hidden lg:flex hover:bg-blue-100 rounded-lg transition-all duration-300 group",children:e.jsx(t,{name:l?"ChevronRight":"ChevronLeft",size:20,className:"text-blue-600 group-hover:scale-110 transition-transform"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto overflow-x-hidden sidebar-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#cbd5e1 #f1f5f9"},children:e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsxs("div",{className:"space-y-1",children:[!l&&e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-blue-300 to-transparent"}),e.jsx("h3",{className:"font-caption font-caption-semibold text-xs text-blue-600 uppercase tracking-wider px-2 bg-blue-50 rounded-full py-1",children:"Menu Principal"}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-blue-300 to-transparent"})]}),m==null?void 0:m.map(a=>e.jsxs(k,{to:a==null?void 0:a.path,className:`flex items-center ${l?"justify-center":"space-x-3"} px-3 py-3 rounded-xl text-sm font-body transition-all duration-300 group ${((r==null?void 0:r.pathname)||"")+((r==null?void 0:r.search)||"")===(a==null?void 0:a.path)?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg scale-105":"text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:scale-102 hover:shadow-md"}`,title:l?a==null?void 0:a.label:"",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all ${((r==null?void 0:r.pathname)||"")+((r==null?void 0:r.search)||"")===(a==null?void 0:a.path)?"bg-white/20 backdrop-blur-sm":"bg-blue-100 group-hover:bg-blue-200"}`,children:e.jsx(t,{name:a==null?void 0:a.icon,size:20,className:`flex-shrink-0 ${((r==null?void 0:r.pathname)||"")+((r==null?void 0:r.search)||"")===(a==null?void 0:a.path)?"text-white":"text-blue-600"}`})}),!l&&e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`font-body font-body-semibold ${((r==null?void 0:r.pathname)||"")+((r==null?void 0:r.search)||"")===(a==null?void 0:a.path)?"text-white":"text-gray-900"}`,children:a==null?void 0:a.label}),e.jsx("div",{className:`font-caption font-caption-normal text-xs ${((r==null?void 0:r.pathname)||"")+((r==null?void 0:r.search)||"")===(a==null?void 0:a.path)?"text-blue-100":"text-gray-500 group-hover:text-blue-600"}`,children:a==null?void 0:a.description})]})]},a==null?void 0:a.path))]}),e.jsxs("div",{className:"pt-6 mt-6 border-t border-gray-200/50",children:[!l&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg flex items-center justify-center shadow-md",children:e.jsx(t,{name:"Zap",size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Actions Rapides"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Outils essentiels"})]})]})}),e.jsx("div",{className:"space-y-2",children:u==null?void 0:u.map((a,x)=>{const H=n=>n!=null&&n.includes("Nouvel")?"bg-gradient-to-br from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 text-green-700 border border-green-200 hover:border-green-400 hover:shadow-lg":n!=null&&n.includes("message")||n!=null&&n.includes("SMS")?"bg-gradient-to-br from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 text-blue-700 border border-blue-200 hover:border-blue-400 hover:shadow-lg":n!=null&&n.includes("rapport")||n!=null&&n.includes("Planifier")?"bg-gradient-to-br from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 text-purple-700 border border-purple-200 hover:border-purple-400 hover:shadow-lg":n!=null&&n.includes("Sauvegarde")||n!=null&&n.includes("Imprimer")?"bg-gradient-to-br from-orange-50 to-red-50 hover:from-orange-100 hover:to-red-100 text-orange-700 border border-orange-200 hover:border-orange-400 hover:shadow-lg":"bg-gradient-to-br from-gray-50 to-slate-50 hover:from-blue-50 hover:to-indigo-50 text-gray-700 hover:text-blue-700 border border-gray-200 hover:border-blue-300 hover:shadow-lg";return e.jsxs(k,{to:a==null?void 0:a.path,className:`flex items-center ${l?"justify-center":"space-x-3"} px-3 py-3 rounded-xl text-sm font-semibold transition-all duration-300 group ${H(a==null?void 0:a.label)}`,title:l?a==null?void 0:a.label:"",children:[e.jsx("div",{className:"w-9 h-9 bg-white/60 rounded-lg flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:e.jsx(t,{name:a==null?void 0:a.icon,size:18,className:"flex-shrink-0"})}),!l&&e.jsx("span",{className:"font-body font-body-semibold",children:a==null?void 0:a.label})]},x)})})]})]})})]})})};export{Q as H,I as S};
//# sourceMappingURL=Sidebar-Q0ML3SY6.js.map
