import{r}from"./react-vendor-CFDIsUAY.js";const f=s=>{const[c,t]=r.useState(null),[g,a]=r.useState(!0),[S,i]=r.useState(null);return r.useEffect(()=>{(()=>{try{const o=`edutrack-session-${s}`,n=localStorage.getItem(o);if(n){const e=JSON.parse(n);console.log(`âœ… Session ${s} trouvÃ©e:`,e.email),t(e),a(!1);return}const u=localStorage.getItem("edutrack-user");if(u){const e=JSON.parse(u);e.role===s?(console.log(`âœ… Session globale utilisÃ©e pour ${s}:`,e.email),t(e)):(console.warn(`âš ï¸ RÃ´le incompatible. Attendu: ${s}, TrouvÃ©: ${e.role}`),i(`Session incompatible. Veuillez vous connecter en tant que ${s}.`))}else console.log(`â„¹ï¸ Aucune session trouvÃ©e pour ${s}`),i("Aucune session active");a(!1)}catch(o){console.error("âŒ Erreur chargement session:",o),i("Erreur de chargement de session"),a(!1)}})();const l=o=>{var n;((n=o.detail)==null?void 0:n.role)===s&&(console.log(`ðŸ”„ Mise Ã  jour session ${s}`),t(o.detail.user))};return window.addEventListener("edutrack-user-changed",l),()=>window.removeEventListener("edutrack-user-changed",l)},[s]),{user:c,loading:g,error:S}};export{f as u};
//# sourceMappingURL=useRoleSession-CjNGQy2C.js.map
