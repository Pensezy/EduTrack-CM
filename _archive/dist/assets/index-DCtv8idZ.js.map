{"version":3,"file":"index-DCtv8idZ.js","sources":["../../src/components/ui/AccessibilityControls.jsx","../../src/components/ui/NotificationCenter.jsx","../../src/pages/grade-management-system/components/GradeEntryModal.jsx","../../src/pages/grade-management-system/components/StudentGradeCard.jsx","../../src/pages/grade-management-system/components/AssignmentManager.jsx","../../src/pages/grade-management-system/components/GradeAnalytics.jsx","../../src/pages/grade-management-system/components/BulkGradeEntry.jsx","../../src/pages/grade-management-system/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Icon from '../AppIcon';\r\nimport Button from './Button';\r\n\r\nconst AccessibilityControls = ({ className = '' }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [settings, setSettings] = useState({\r\n    theme: 'light',\r\n    largeText: false\r\n  });\r\n\r\n  // Load settings from localStorage on mount\r\n  useEffect(() => {\r\n    const savedSettings = localStorage.getItem('accessibility-settings');\r\n    if (savedSettings) {\r\n      const parsed = JSON.parse(savedSettings);\r\n      setSettings(parsed);\r\n      applySettings(parsed);\r\n    }\r\n  }, []);\r\n\r\n  // Save settings to localStorage and apply them\r\n  const updateSetting = (key, value) => {\r\n    const newSettings = { ...settings, [key]: value };\r\n    setSettings(newSettings);\r\n    localStorage.setItem('accessibility-settings', JSON.stringify(newSettings));\r\n    applySettings(newSettings);\r\n  };\r\n\r\n  const applySettings = (settingsToApply) => {\r\n    const root = document.documentElement;\r\n    \r\n    // Theme - Mode Jour/Nuit\r\n    if (settingsToApply?.theme === 'dark') {\r\n      root.classList?.add('dark');\r\n      root.setAttribute('data-theme', 'dark');\r\n      // Appliquer les couleurs du mode sombre avec meilleur contraste\r\n      root.style.setProperty('--color-background', '#0f172a');\r\n      root.style.setProperty('--color-foreground', '#f8fafc');\r\n      root.style.setProperty('--color-card', '#1e293b');\r\n      root.style.setProperty('--color-border', '#475569');\r\n      root.style.setProperty('--color-muted', '#334155');\r\n      root.style.setProperty('--color-muted-foreground', '#e2e8f0');\r\n      root.style.setProperty('--color-primary', '#3b82f6');\r\n      root.style.setProperty('--color-primary-foreground', '#f8fafc');\r\n      console.log('üåô Mode Nuit activ√© avec contraste am√©lior√©');\r\n    } else {\r\n      root.classList?.remove('dark');\r\n      root.setAttribute('data-theme', 'light');\r\n      // R√©initialiser les couleurs\r\n      root.style.removeProperty('--color-background');\r\n      root.style.removeProperty('--color-foreground');\r\n      root.style.removeProperty('--color-card');\r\n      root.style.removeProperty('--color-border');\r\n      root.style.removeProperty('--color-muted');\r\n      root.style.removeProperty('--color-muted-foreground');\r\n      root.style.removeProperty('--color-primary');\r\n      root.style.removeProperty('--color-primary-foreground');\r\n      console.log('‚òÄÔ∏è Mode Jour activ√©');\r\n    }\r\n\r\n    // Large text\r\n    if (settingsToApply?.largeText) {\r\n      root.classList?.add('large-text');\r\n      root.style.fontSize = '118%';\r\n      console.log('üî§ Texte agrandi activ√©');\r\n    } else {\r\n      root.classList?.remove('large-text');\r\n      root.style.fontSize = '';\r\n    }\r\n  };\r\n\r\n  const resetSettings = () => {\r\n    const defaultSettings = {\r\n      theme: 'light',\r\n      largeText: false\r\n    };\r\n    setSettings(defaultSettings);\r\n    localStorage.setItem('accessibility-settings', JSON.stringify(defaultSettings));\r\n    applySettings(defaultSettings);\r\n  };\r\n\r\n  const accessibilityOptions = [\r\n    {\r\n      key: 'theme',\r\n      label: 'Mode Nuit/Jour',\r\n      description: 'Basculer entre le th√®me clair et sombre',\r\n      icon: 'Moon',\r\n      type: 'select',\r\n      options: [\r\n        { value: 'light', label: '‚òÄÔ∏è Jour' },\r\n        { value: 'dark', label: 'üåô Nuit' }\r\n      ]\r\n    },\r\n    {\r\n      key: 'largeText',\r\n      label: 'Texte Agrandi',\r\n      description: 'Augmente la taille du texte pour une meilleure lisibilit√©',\r\n      icon: 'Type',\r\n      type: 'toggle'\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div className={`relative ${className}`}>\r\n      {/* Accessibility Button */}\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"relative\"\r\n        title=\"Accessibility Options\"\r\n      >\r\n        <Icon name=\"Accessibility\" size={20} />\r\n        {(settings?.largeText || settings?.theme === 'dark') && (\r\n          <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-accent rounded-full\" />\r\n        )}\r\n      </Button>\r\n      {/* Accessibility Panel */}\r\n      {isOpen && (\r\n        <>\r\n          {/* Backdrop */}\r\n          <div \r\n            className=\"fixed inset-0 z-accessibility\" \r\n            onClick={() => setIsOpen(false)}\r\n          />\r\n          \r\n          {/* Settings Panel */}\r\n          <div className=\"absolute right-0 top-12 w-80 bg-popover border border-border rounded-lg shadow-modal z-accessibility\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between p-4 border-b border-border\">\r\n              <h3 className=\"font-heading font-heading-semibold text-sm text-popover-foreground\">\r\n                Accessibility Settings\r\n              </h3>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={resetSettings}\r\n                className=\"text-xs\"\r\n              >\r\n                Reset\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Settings List */}\r\n            <div className=\"p-4 space-y-4 max-h-80 overflow-y-auto\">\r\n              {accessibilityOptions?.map((option) => (\r\n                <div key={option?.key} className=\"space-y-2\">\r\n                  <div className=\"flex items-start space-x-3\">\r\n                    <div className=\"flex-shrink-0 mt-1 text-primary\">\r\n                      <Icon name={option?.icon} size={16} />\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <label className=\"font-body font-body-semibold text-sm text-popover-foreground\">\r\n                          {option?.label}\r\n                        </label>\r\n                        {option?.type === 'toggle' && (\r\n                          <button\r\n                            onClick={() => updateSetting(option?.key, !settings?.[option?.key])}\r\n                            className={`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ${\r\n                              settings?.[option?.key] ? 'bg-primary' : 'bg-muted'\r\n                            }`}\r\n                          >\r\n                            <span\r\n                              className={`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${\r\n                                settings?.[option?.key] ? 'translate-x-5' : 'translate-x-1'\r\n                              }`}\r\n                            />\r\n                          </button>\r\n                        )}\r\n                        {option?.type === 'select' && (\r\n                          <select\r\n                            value={settings?.[option?.key]}\r\n                            onChange={(e) => updateSetting(option?.key, e?.target?.value)}\r\n                            className=\"text-sm border border-border rounded px-2 py-1 bg-input text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                          >\r\n                            {option?.options?.map((opt) => (\r\n                              <option key={opt?.value} value={opt?.value}>\r\n                                {opt?.label}\r\n                              </option>\r\n                            ))}\r\n                          </select>\r\n                        )}\r\n                      </div>\r\n                      <p className=\"font-body font-body-normal text-xs text-muted-foreground mt-1\">\r\n                        {option?.description}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"p-4 border-t border-border\">\r\n              <div className=\"flex items-center space-x-2 text-muted-foreground\">\r\n                <Icon name=\"Info\" size={14} />\r\n                <p className=\"font-caption font-caption-normal text-xs\">\r\n                  Settings are saved automatically and persist across sessions.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n      {/* CSS for accessibility classes */}\r\n      <style jsx global>{`\r\n        /* Dark Theme - Mode Nuit Am√©lior√© */\r\n        .dark {\r\n          background-color: #0f172a !important;\r\n          color: #f8fafc !important;\r\n        }\r\n        \r\n        /* Backgrounds */\r\n        .dark .bg-white,\r\n        .dark .bg-gray-50 {\r\n          background-color: #1e293b !important;\r\n          color: #f8fafc !important;\r\n        }\r\n        \r\n        .dark .bg-gray-100 {\r\n          background-color: #334155 !important;\r\n          color: #f8fafc !important;\r\n        }\r\n        \r\n        .dark .bg-gray-200 {\r\n          background-color: #475569 !important;\r\n          color: #f8fafc !important;\r\n        }\r\n        \r\n        .dark .bg-blue-50 {\r\n          background-color: #1e3a5f !important;\r\n          color: #dbeafe !important;\r\n        }\r\n        \r\n        .dark .bg-green-50 {\r\n          background-color: #1a4d2e !important;\r\n          color: #d1fae5 !important;\r\n        }\r\n        \r\n        .dark .bg-purple-50 {\r\n          background-color: #3b2a4f !important;\r\n          color: #e9d5ff !important;\r\n        }\r\n        \r\n        .dark .bg-orange-50 {\r\n          background-color: #4a2c1b !important;\r\n          color: #fed7aa !important;\r\n        }\r\n        \r\n        .dark .bg-yellow-50 {\r\n          background-color: #4a4218 !important;\r\n          color: #fef3c7 !important;\r\n        }\r\n        \r\n        /* Text Colors - Contraste Am√©lior√© */\r\n        .dark .text-gray-900,\r\n        .dark .text-gray-800,\r\n        .dark .text-gray-700,\r\n        .dark .text-gray-600 {\r\n          color: #f8fafc !important;\r\n        }\r\n        \r\n        .dark .text-gray-500 {\r\n          color: #e2e8f0 !important;\r\n        }\r\n        \r\n        .dark .text-gray-400 {\r\n          color: #cbd5e1 !important;\r\n        }\r\n        \r\n        .dark .text-gray-300 {\r\n          color: #94a3b8 !important;\r\n        }\r\n        \r\n        /* Text Colors Color√©s */\r\n        .dark .text-blue-600,\r\n        .dark .text-blue-700,\r\n        .dark .text-blue-800,\r\n        .dark .text-blue-900 {\r\n          color: #93c5fd !important;\r\n        }\r\n        \r\n        .dark .text-green-600,\r\n        .dark .text-green-700,\r\n        .dark .text-green-800,\r\n        .dark .text-green-900 {\r\n          color: #86efac !important;\r\n        }\r\n        \r\n        .dark .text-red-600,\r\n        .dark .text-red-700,\r\n        .dark .text-red-800,\r\n        .dark .text-red-900 {\r\n          color: #fca5a5 !important;\r\n        }\r\n        \r\n        .dark .text-orange-600,\r\n        .dark .text-orange-700,\r\n        .dark .text-orange-800,\r\n        .dark .text-orange-900 {\r\n          color: #fdba74 !important;\r\n        }\r\n        \r\n        .dark .text-purple-600,\r\n        .dark .text-purple-700,\r\n        .dark .text-purple-800,\r\n        .dark .text-purple-900 {\r\n          color: #c4b5fd !important;\r\n        }\r\n        \r\n        .dark .text-yellow-600,\r\n        .dark .text-yellow-700,\r\n        .dark .text-yellow-800,\r\n        .dark .text-yellow-900 {\r\n          color: #fde047 !important;\r\n        }\r\n        \r\n        /* Borders */\r\n        .dark .border-gray-200,\r\n        .dark .border-gray-300 {\r\n          border-color: #475569 !important;\r\n        }\r\n        \r\n        .dark .border-gray-100 {\r\n          border-color: #334155 !important;\r\n        }\r\n        \r\n        .dark .border-blue-200 {\r\n          border-color: #3b82f6 !important;\r\n        }\r\n        \r\n        .dark .border-green-200 {\r\n          border-color: #22c55e !important;\r\n        }\r\n        \r\n        /* Shadows */\r\n        .dark .shadow-sm,\r\n        .dark .shadow {\r\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.6) !important;\r\n        }\r\n        \r\n        .dark .shadow-lg {\r\n          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.7) !important;\r\n        }\r\n        \r\n        /* Cards et Conteneurs */\r\n        .dark .bg-card {\r\n          background-color: #1e293b !important;\r\n          color: #f8fafc !important;\r\n        }\r\n        \r\n        /* Boutons */\r\n        .dark button {\r\n          color: #f8fafc !important;\r\n        }\r\n        \r\n        .dark .bg-blue-600 {\r\n          background-color: #2563eb !important;\r\n        }\r\n        \r\n        .dark .bg-green-600 {\r\n          background-color: #16a34a !important;\r\n        }\r\n        \r\n        /* Inputs */\r\n        .dark input,\r\n        .dark select,\r\n        .dark textarea {\r\n          background-color: #334155 !important;\r\n          color: #f8fafc !important;\r\n          border-color: #475569 !important;\r\n        }\r\n        \r\n        .dark input::placeholder {\r\n          color: #94a3b8 !important;\r\n        }\r\n        \r\n        /* Tables */\r\n        .dark table {\r\n          color: #f8fafc !important;\r\n        }\r\n        \r\n        .dark thead {\r\n          background-color: #334155 !important;\r\n        }\r\n        \r\n        .dark tbody tr {\r\n          border-color: #475569 !important;\r\n        }\r\n        \r\n        .dark tbody tr:hover {\r\n          background-color: #334155 !important;\r\n        }\r\n        \r\n        /* Large Text Mode */\r\n        .large-text {\r\n          font-size: 118% !important;\r\n        }\r\n        \r\n        .large-text * {\r\n          line-height: 1.6 !important;\r\n        }\r\n        \r\n        .large-text h1 { font-size: 2.75rem !important; }\r\n        .large-text h2 { font-size: 2.25rem !important; }\r\n        .large-text h3 { font-size: 1.875rem !important; }\r\n        .large-text h4 { font-size: 1.5rem !important; }\r\n        .large-text h5 { font-size: 1.25rem !important; }\r\n        .large-text h6 { font-size: 1.125rem !important; }\r\n        .large-text p, \r\n        .large-text span, \r\n        .large-text div { \r\n          font-size: 1.125rem !important; \r\n        }\r\n        .large-text button { \r\n          font-size: 1.125rem !important; \r\n          padding: 0.75rem 1.5rem !important; \r\n        }\r\n        .large-text input, \r\n        .large-text select, \r\n        .large-text textarea { \r\n          font-size: 1.125rem !important; \r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccessibilityControls;","import React, { useState, useEffect } from 'react';\nimport Icon from '../AppIcon';\nimport Button from './Button';\n\nconst NotificationCenter = ({ userRole = 'student', className = '' }) => {\n  const [notifications, setNotifications] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [unreadCount, setUnreadCount] = useState(0);\n\n  useEffect(() => {\n    // Fetch notifications from Supabase\n    // TODO: Implement Supabase integration to fetch real notifications\n    setNotifications([]);\n    setUnreadCount(0);\n  }, [userRole]);\n\n  const handleNotificationClick = (notificationId) => {\n    setNotifications(prev => \n      prev?.map(notification => \n        notification?.id === notificationId \n          ? { ...notification, read: true }\n          : notification\n      )\n    );\n    setUnreadCount(prev => Math.max(0, prev - 1));\n  };\n\n  const markAllAsRead = () => {\n    setNotifications(prev => prev?.map(n => ({ ...n, read: true })));\n    setUnreadCount(0);\n  };\n\n  const getNotificationIcon = (type) => {\n    switch (type) {\n      case 'success':\n        return 'CheckCircle';\n      case 'warning':\n        return 'AlertTriangle';\n      case 'error':\n        return 'XCircle';\n      default:\n        return 'Info';\n    }\n  };\n\n  const getNotificationColor = (type) => {\n    switch (type) {\n      case 'success':\n        return 'text-success';\n      case 'warning':\n        return 'text-warning';\n      case 'error':\n        return 'text-error';\n      default:\n        return 'text-primary';\n    }\n  };\n\n  return (\n    <div className={`relative ${className}`}>\n      {/* Notification Bell */}\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"relative\"\n      >\n        <Icon name=\"Bell\" size={20} />\n        {unreadCount > 0 && (\n          <span className=\"absolute -top-1 -right-1 bg-accent text-accent-foreground text-xs rounded-full w-5 h-5 flex items-center justify-center font-caption font-caption-normal animate-pulse\">\n            {unreadCount > 9 ? '9+' : unreadCount}\n          </span>\n        )}\n      </Button>\n      {/* Notification Dropdown */}\n      {isOpen && (\n        <>\n          {/* Backdrop */}\n          <div \n            className=\"fixed inset-0 z-notification\" \n            onClick={() => setIsOpen(false)}\n          />\n          \n          {/* Notification Panel */}\n          <div className=\"absolute right-0 top-12 w-80 bg-popover border border-border rounded-lg shadow-modal z-notification\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-4 border-b border-border\">\n              <h3 className=\"font-heading font-heading-semibold text-sm text-popover-foreground\">\n                Notifications\n              </h3>\n              {unreadCount > 0 && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={markAllAsRead}\n                  className=\"text-xs\"\n                >\n                  Mark all read\n                </Button>\n              )}\n            </div>\n\n            {/* Notifications List */}\n            <div className=\"max-h-80 overflow-y-auto\">\n              {notifications?.length === 0 ? (\n                <div className=\"p-8 text-center\">\n                  <Icon name=\"Bell\" size={32} className=\"text-muted-foreground mx-auto mb-2\" />\n                  <p className=\"font-body font-body-normal text-sm text-muted-foreground\">\n                    No notifications yet\n                  </p>\n                </div>\n              ) : (\n                notifications?.map((notification) => (\n                  <div\n                    key={notification?.id}\n                    onClick={() => handleNotificationClick(notification?.id)}\n                    className={`p-4 border-b border-border last:border-b-0 hover:bg-muted transition-micro cursor-pointer ${\n                      !notification?.read ? 'bg-accent/5' : ''\n                    }`}\n                  >\n                    <div className=\"flex items-start space-x-3\">\n                      <div className={`flex-shrink-0 mt-1 ${getNotificationColor(notification?.type)}`}>\n                        <Icon name={getNotificationIcon(notification?.type)} size={16} />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center space-x-2\">\n                          <p className=\"font-body font-body-semibold text-sm text-popover-foreground\">\n                            {notification?.title}\n                          </p>\n                          {!notification?.read && (\n                            <div className=\"w-2 h-2 bg-accent rounded-full flex-shrink-0\" />\n                          )}\n                        </div>\n                        <p className=\"font-body font-body-normal text-sm text-muted-foreground mt-1 line-clamp-2\">\n                          {notification?.message}\n                        </p>\n                        <div className=\"flex items-center justify-between mt-2\">\n                          <p className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                            {notification?.time}\n                          </p>\n                          <span className=\"font-caption font-caption-normal text-xs text-primary bg-primary/10 px-2 py-1 rounded-full\">\n                            {notification?.category}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n\n            {/* Footer */}\n            {notifications?.length > 0 && (\n              <div className=\"p-3 border-t border-border\">\n                <Button variant=\"ghost\" size=\"sm\" className=\"w-full\">\n                  <Icon name=\"ExternalLink\" size={14} className=\"mr-2\" />\n                  View all notifications\n                </Button>\n              </div>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default NotificationCenter;","import React, { useState, useEffect } from 'react';\nimport Icon from '../../../components/AppIcon';\nimport Button from '../../../components/ui/Button';\nimport Input from '../../../components/ui/Input';\nimport Select from '../../../components/ui/Select';\n\nconst GradeEntryModal = ({ isOpen, onClose, student, assignment, onSave }) => {\n  const [gradeData, setGradeData] = useState({\n    score: '',\n    maxScore: '',\n    letterGrade: '',\n    comments: '',\n    gradeType: 'numerical'\n  });\n  const [errors, setErrors] = useState({});\n\n  const gradeTypeOptions = [\n    { value: 'numerical', label: 'Score num√©rique' },\n    { value: 'letter', label: 'Note alphab√©tique' },\n    { value: 'competency', label: '√âvaluation par comp√©tences' }\n  ];\n\n  const letterGradeOptions = [\n    { value: 'A+', label: 'A+ (Excellent)' },\n    { value: 'A', label: 'A (Tr√®s bien)' },\n    { value: 'B+', label: 'B+ (Bien+)' },\n    { value: 'B', label: 'B (Bien)' },\n    { value: 'C+', label: 'C+ (Assez bien+)' },\n    { value: 'C', label: 'C (Assez bien)' },\n    { value: 'D', label: 'D (Passable)' },\n    { value: 'F', label: 'F (Insuffisant)' }\n  ];\n\n  const competencyOptions = [\n    { value: 'exceeds', label: 'D√©passe les attentes' },\n    { value: 'meets', label: 'R√©pond aux attentes' },\n    { value: 'approaching', label: 'Approche les attentes' },\n    { value: 'below', label: 'En dessous des attentes' }\n  ];\n\n  useEffect(() => {\n    if (isOpen && assignment) {\n      setGradeData({\n        score: assignment?.currentGrade?.score || '',\n        maxScore: assignment?.maxScore || '100',\n        letterGrade: assignment?.currentGrade?.letterGrade || '',\n        comments: assignment?.currentGrade?.comments || '',\n        gradeType: assignment?.gradeType || 'numerical'\n      });\n      setErrors({});\n    }\n  }, [isOpen, assignment]);\n\n  const validateGrade = () => {\n    const newErrors = {};\n\n    if (gradeData?.gradeType === 'numerical') {\n      if (!gradeData?.score) {\n        newErrors.score = 'Le score est requis';\n      } else if (parseFloat(gradeData?.score) > parseFloat(gradeData?.maxScore)) {\n        newErrors.score = 'Le score ne peut pas d√©passer le score maximum';\n      } else if (parseFloat(gradeData?.score) < 0) {\n        newErrors.score = 'Le score ne peut pas √™tre n√©gatif';\n      }\n\n      if (!gradeData?.maxScore) {\n        newErrors.maxScore = 'Le score maximum est requis';\n      }\n    } else if (gradeData?.gradeType === 'letter' && !gradeData?.letterGrade) {\n      newErrors.letterGrade = 'La note alphab√©tique est requise';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors)?.length === 0;\n  };\n\n  const calculateLetterGrade = (score, maxScore) => {\n    const percentage = (parseFloat(score) / parseFloat(maxScore)) * 100;\n    if (percentage >= 97) return 'A+';\n    if (percentage >= 93) return 'A';\n    if (percentage >= 90) return 'B+';\n    if (percentage >= 87) return 'B';\n    if (percentage >= 83) return 'C+';\n    if (percentage >= 80) return 'C';\n    if (percentage >= 70) return 'D';\n    return 'F';\n  };\n\n  const handleSave = () => {\n    if (!validateGrade()) return;\n\n    let finalGrade = { ...gradeData };\n\n    // Auto-calculate letter grade for numerical scores\n    if (gradeData?.gradeType === 'numerical' && gradeData?.score && gradeData?.maxScore) {\n      finalGrade.letterGrade = calculateLetterGrade(gradeData?.score, gradeData?.maxScore);\n      finalGrade.percentage = ((parseFloat(gradeData?.score) / parseFloat(gradeData?.maxScore)) * 100)?.toFixed(1);\n    }\n\n    onSave({\n      studentId: student?.id,\n      assignmentId: assignment?.id,\n      grade: finalGrade,\n      timestamp: new Date()?.toISOString()\n    });\n\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-surface rounded-lg shadow-modal w-full max-w-md mx-4\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-border\">\n          <div>\n            <h3 className=\"font-heading font-heading-semibold text-lg text-text-primary\">\n              Saisie de note\n            </h3>\n            <p className=\"font-body font-body-normal text-sm text-text-secondary mt-1\">\n              {student?.name} - {assignment?.title}\n            </p>\n          </div>\n          <Button variant=\"ghost\" size=\"icon\" onClick={onClose}>\n            <Icon name=\"X\" size={20} />\n          </Button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 space-y-4\">\n          {/* Grade Type Selection */}\n          <Select\n            label=\"Type d'√©valuation\"\n            options={gradeTypeOptions}\n            value={gradeData?.gradeType}\n            onChange={(value) => setGradeData(prev => ({ ...prev, gradeType: value }))}\n          />\n\n          {/* Numerical Grade Input */}\n          {gradeData?.gradeType === 'numerical' && (\n            <div className=\"grid grid-cols-2 gap-4\">\n              <Input\n                label=\"Score obtenu\"\n                type=\"number\"\n                placeholder=\"0\"\n                value={gradeData?.score}\n                onChange={(e) => setGradeData(prev => ({ ...prev, score: e?.target?.value }))}\n                error={errors?.score}\n                min=\"0\"\n                step=\"0.1\"\n              />\n              <Input\n                label=\"Score maximum\"\n                type=\"number\"\n                placeholder=\"100\"\n                value={gradeData?.maxScore}\n                onChange={(e) => setGradeData(prev => ({ ...prev, maxScore: e?.target?.value }))}\n                error={errors?.maxScore}\n                min=\"1\"\n                step=\"0.1\"\n              />\n            </div>\n          )}\n\n          {/* Letter Grade Selection */}\n          {gradeData?.gradeType === 'letter' && (\n            <Select\n              label=\"Note alphab√©tique\"\n              options={letterGradeOptions}\n              value={gradeData?.letterGrade}\n              onChange={(value) => setGradeData(prev => ({ ...prev, letterGrade: value }))}\n              error={errors?.letterGrade}\n            />\n          )}\n\n          {/* Competency Grade Selection */}\n          {gradeData?.gradeType === 'competency' && (\n            <Select\n              label=\"Niveau de comp√©tence\"\n              options={competencyOptions}\n              value={gradeData?.letterGrade}\n              onChange={(value) => setGradeData(prev => ({ ...prev, letterGrade: value }))}\n            />\n          )}\n\n          {/* Comments */}\n          <div>\n            <label className=\"block font-body font-body-semibold text-sm text-text-primary mb-2\">\n              Commentaires (optionnel)\n            </label>\n            <textarea\n              className=\"w-full px-3 py-2 border border-border rounded-md bg-input text-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none\"\n              rows=\"3\"\n              placeholder=\"Commentaires sur la performance de l'√©l√®ve...\"\n              value={gradeData?.comments}\n              onChange={(e) => setGradeData(prev => ({ ...prev, comments: e?.target?.value }))}\n            />\n          </div>\n\n          {/* Grade Preview */}\n          {gradeData?.gradeType === 'numerical' && gradeData?.score && gradeData?.maxScore && (\n            <div className=\"bg-muted rounded-lg p-4\">\n              <h4 className=\"font-body font-body-semibold text-sm text-text-primary mb-2\">\n                Aper√ßu de la note\n              </h4>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"font-body font-body-normal text-sm text-text-secondary\">\n                  Pourcentage:\n                </span>\n                <span className=\"font-heading font-heading-semibold text-lg text-primary\">\n                  {((parseFloat(gradeData?.score) / parseFloat(gradeData?.maxScore)) * 100)?.toFixed(1)}%\n                </span>\n              </div>\n              <div className=\"flex items-center justify-between mt-1\">\n                <span className=\"font-body font-body-normal text-sm text-text-secondary\">\n                  Note alphab√©tique:\n                </span>\n                <span className=\"font-heading font-heading-semibold text-lg text-primary\">\n                  {calculateLetterGrade(gradeData?.score, gradeData?.maxScore)}\n                </span>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex items-center justify-end space-x-3 p-6 border-t border-border\">\n          <Button variant=\"outline\" onClick={onClose}>\n            Annuler\n          </Button>\n          <Button variant=\"default\" onClick={handleSave}>\n            <Icon name=\"Save\" size={16} className=\"mr-2\" />\n            Enregistrer\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GradeEntryModal;","import React, { useState } from 'react';\nimport Icon from '../../../components/AppIcon';\nimport Button from '../../../components/ui/Button';\nimport Image from '../../../components/AppImage';\n\nconst StudentGradeCard = ({ student, assignments, onGradeEdit, onViewDetails }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const calculateOverallAverage = () => {\n    const gradedAssignments = assignments?.filter(a => a?.currentGrade);\n    if (gradedAssignments?.length === 0) return null;\n\n    const totalWeightedScore = gradedAssignments?.reduce((sum, assignment) => {\n      const percentage = assignment?.currentGrade?.percentage || 0;\n      const weight = assignment?.weight || 1;\n      return sum + (percentage * weight);\n    }, 0);\n\n    const totalWeight = gradedAssignments?.reduce((sum, assignment) => {\n      return sum + (assignment?.weight || 1);\n    }, 0);\n\n    return (totalWeightedScore / totalWeight)?.toFixed(1);\n  };\n\n  const getGradeColor = (percentage) => {\n    if (percentage >= 90) return 'text-success';\n    if (percentage >= 80) return 'text-primary';\n    if (percentage >= 70) return 'text-warning';\n    return 'text-error';\n  };\n\n  const getGradeBadgeColor = (percentage) => {\n    if (percentage >= 90) return 'bg-success/10 text-success border-success/20';\n    if (percentage >= 80) return 'bg-primary/10 text-primary border-primary/20';\n    if (percentage >= 70) return 'bg-warning/10 text-warning border-warning/20';\n    return 'bg-error/10 text-error border-error/20';\n  };\n\n  const overallAverage = calculateOverallAverage();\n  const completedAssignments = assignments?.filter(a => a?.currentGrade)?.length;\n  const totalAssignments = assignments?.length;\n\n  return (\n    <div className=\"bg-card border border-border rounded-lg shadow-card hover:shadow-modal transition-state\">\n      {/* Student Header */}\n      <div className=\"p-4 border-b border-border\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"relative\">\n              <Image\n                src={student?.avatar}\n                alt={student?.name}\n                className=\"w-12 h-12 rounded-full object-cover\"\n              />\n              {student?.status === 'absent' && (\n                <div className=\"absolute -top-1 -right-1 w-4 h-4 bg-error rounded-full border-2 border-card\" />\n              )}\n            </div>\n            <div>\n              <h3 className=\"font-heading font-heading-semibold text-base text-card-foreground\">\n                {student?.name}\n              </h3>\n              <div className=\"flex items-center space-x-4 mt-1\">\n                <span className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                  ID: {student?.id}\n                </span>\n                <span className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                  Classe: {student?.class}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-3\">\n            {/* Overall Average */}\n            {overallAverage && (\n              <div className={`px-3 py-1 rounded-full border ${getGradeBadgeColor(parseFloat(overallAverage))}`}>\n                <span className=\"font-heading font-heading-semibold text-sm\">\n                  {overallAverage}%\n                </span>\n              </div>\n            )}\n\n            {/* Progress Indicator */}\n            <div className=\"text-center\">\n              <div className=\"font-heading font-heading-semibold text-sm text-card-foreground\">\n                {completedAssignments}/{totalAssignments}\n              </div>\n              <div className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                √âvaluations\n              </div>\n            </div>\n\n            {/* Expand Button */}\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={() => setIsExpanded(!isExpanded)}\n            >\n              <Icon name={isExpanded ? \"ChevronUp\" : \"ChevronDown\"} size={20} />\n            </Button>\n          </div>\n        </div>\n\n        {/* Quick Stats */}\n        <div className=\"flex items-center justify-between mt-3 pt-3 border-t border-border\">\n          <div className=\"flex items-center space-x-6\">\n            <div className=\"text-center\">\n              <div className=\"font-heading font-heading-semibold text-sm text-success\">\n                {assignments?.filter(a => a?.currentGrade && parseFloat(a?.currentGrade?.percentage) >= 80)?.length}\n              </div>\n              <div className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                Bonnes notes\n              </div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"font-heading font-heading-semibold text-sm text-warning\">\n                {assignments?.filter(a => !a?.currentGrade && new Date(a.dueDate) < new Date())?.length}\n              </div>\n              <div className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                En retard\n              </div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"font-heading font-heading-semibold text-sm text-primary\">\n                {assignments?.filter(a => !a?.currentGrade && new Date(a.dueDate) >= new Date())?.length}\n              </div>\n              <div className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                √Ä √©valuer\n              </div>\n            </div>\n          </div>\n\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => onViewDetails(student)}\n          >\n            <Icon name=\"Eye\" size={14} className=\"mr-2\" />\n            D√©tails\n          </Button>\n        </div>\n      </div>\n      {/* Expanded Assignment List */}\n      {isExpanded && (\n        <div className=\"p-4\">\n          <div className=\"space-y-3\">\n            {assignments?.map((assignment) => (\n              <div\n                key={assignment?.id}\n                className=\"flex items-center justify-between p-3 bg-muted rounded-lg hover:bg-muted/80 transition-micro\"\n              >\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className={`w-2 h-2 rounded-full ${\n                      assignment?.currentGrade \n                        ? getGradeColor(parseFloat(assignment?.currentGrade?.percentage))?.replace('text-', 'bg-')\n                        : 'bg-muted-foreground'\n                    }`} />\n                    <div>\n                      <h4 className=\"font-body font-body-semibold text-sm text-card-foreground\">\n                        {assignment?.title}\n                      </h4>\n                      <div className=\"flex items-center space-x-4 mt-1\">\n                        <span className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                          {assignment?.category}\n                        </span>\n                        <span className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                          Poids: {assignment?.weight}%\n                        </span>\n                        <span className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                          √âch√©ance: {new Date(assignment.dueDate)?.toLocaleDateString('fr-FR')}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center space-x-3\">\n                  {assignment?.currentGrade ? (\n                    <div className=\"text-right\">\n                      <div className={`font-heading font-heading-semibold text-sm ${getGradeColor(parseFloat(assignment?.currentGrade?.percentage))}`}>\n                        {assignment?.currentGrade?.score}/{assignment?.maxScore}\n                      </div>\n                      <div className={`font-caption font-caption-normal text-xs ${getGradeColor(parseFloat(assignment?.currentGrade?.percentage))}`}>\n                        {assignment?.currentGrade?.percentage}% ({assignment?.currentGrade?.letterGrade})\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"text-right\">\n                      <div className=\"font-body font-body-normal text-sm text-muted-foreground\">\n                        Non √©valu√©\n                      </div>\n                      <div className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                        /{assignment?.maxScore}\n                      </div>\n                    </div>\n                  )}\n\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => onGradeEdit(student, assignment)}\n                  >\n                    <Icon name={assignment?.currentGrade ? \"Edit\" : \"Plus\"} size={14} />\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default StudentGradeCard;","import React, { useState } from 'react';\nimport Icon from '../../../components/AppIcon';\nimport Button from '../../../components/ui/Button';\nimport Input from '../../../components/ui/Input';\nimport Select from '../../../components/ui/Select';\n\nconst AssignmentManager = ({ assignments, onAssignmentCreate, onAssignmentUpdate, onAssignmentDelete }) => {\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [editingAssignment, setEditingAssignment] = useState(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    category: '',\n    maxScore: '100',\n    weight: '10',\n    dueDate: '',\n    gradeType: 'numerical'\n  });\n  const [errors, setErrors] = useState({});\n\n  const categoryOptions = [\n    { value: 'test', label: 'Contr√¥le' },\n    { value: 'homework', label: 'Devoir' },\n    { value: 'project', label: 'Projet' },\n    { value: 'participation', label: 'Participation' },\n    { value: 'quiz', label: 'Quiz' },\n    { value: 'presentation', label: 'Pr√©sentation' }\n  ];\n\n  const gradeTypeOptions = [\n    { value: 'numerical', label: 'Score num√©rique' },\n    { value: 'letter', label: 'Note alphab√©tique' },\n    { value: 'competency', label: '√âvaluation par comp√©tences' }\n  ];\n\n  const resetForm = () => {\n    setFormData({\n      title: '',\n      description: '',\n      category: '',\n      maxScore: '100',\n      weight: '10',\n      dueDate: '',\n      gradeType: 'numerical'\n    });\n    setErrors({});\n    setEditingAssignment(null);\n  };\n\n  const openCreateModal = () => {\n    resetForm();\n    setIsCreateModalOpen(true);\n  };\n\n  const openEditModal = (assignment) => {\n    setFormData({\n      title: assignment?.title,\n      description: assignment?.description,\n      category: assignment?.category,\n      maxScore: assignment?.maxScore?.toString(),\n      weight: assignment?.weight?.toString(),\n      dueDate: assignment?.dueDate?.split('T')?.[0],\n      gradeType: assignment?.gradeType\n    });\n    setEditingAssignment(assignment);\n    setIsCreateModalOpen(true);\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!formData?.title?.trim()) {\n      newErrors.title = 'Le titre est requis';\n    }\n\n    if (!formData?.category) {\n      newErrors.category = 'La cat√©gorie est requise';\n    }\n\n    if (!formData?.maxScore || parseFloat(formData?.maxScore) <= 0) {\n      newErrors.maxScore = 'Le score maximum doit √™tre sup√©rieur √† 0';\n    }\n\n    if (!formData?.weight || parseFloat(formData?.weight) <= 0) {\n      newErrors.weight = 'Le poids doit √™tre sup√©rieur √† 0';\n    }\n\n    if (!formData?.dueDate) {\n      newErrors.dueDate = 'La date d\\'√©ch√©ance est requise';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors)?.length === 0;\n  };\n\n  const handleSubmit = () => {\n    if (!validateForm()) return;\n\n    const assignmentData = {\n      ...formData,\n      maxScore: parseFloat(formData?.maxScore),\n      weight: parseFloat(formData?.weight),\n      dueDate: new Date(formData.dueDate)?.toISOString(),\n      id: editingAssignment?.id || `assignment_${Date.now()}`,\n      createdAt: editingAssignment?.createdAt || new Date()?.toISOString(),\n      updatedAt: new Date()?.toISOString()\n    };\n\n    if (editingAssignment) {\n      onAssignmentUpdate(assignmentData);\n    } else {\n      onAssignmentCreate(assignmentData);\n    }\n\n    setIsCreateModalOpen(false);\n    resetForm();\n  };\n\n  const getCategoryIcon = (category) => {\n    switch (category) {\n      case 'test': return 'FileText';\n      case 'homework': return 'BookOpen';\n      case 'project': return 'Folder';\n      case 'participation': return 'Users';\n      case 'quiz': return 'HelpCircle';\n      case 'presentation': return 'Presentation';\n      default: return 'File';\n    }\n  };\n\n  const getCategoryColor = (category) => {\n    switch (category) {\n      case 'test': return 'text-error bg-error/10';\n      case 'homework': return 'text-primary bg-primary/10';\n      case 'project': return 'text-success bg-success/10';\n      case 'participation': return 'text-warning bg-warning/10';\n      case 'quiz': return 'text-accent bg-accent/10';\n      case 'presentation': return 'text-secondary bg-secondary/10';\n      default: return 'text-muted-foreground bg-muted';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"font-heading font-heading-semibold text-xl text-text-primary\">\n            Gestion des √©valuations\n          </h2>\n          <p className=\"font-body font-body-normal text-sm text-text-secondary mt-1\">\n            Cr√©er et g√©rer les √©valuations pour la classe\n          </p>\n        </div>\n        <Button variant=\"default\" onClick={openCreateModal}>\n          <Icon name=\"Plus\" size={16} className=\"mr-2\" />\n          Nouvelle √©valuation\n        </Button>\n      </div>\n      {/* Assignments List */}\n      <div className=\"grid gap-4\">\n        {assignments?.map((assignment) => (\n          <div\n            key={assignment?.id}\n            className=\"bg-card border border-border rounded-lg p-4 hover:shadow-card transition-state\"\n          >\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-4\">\n                <div className={`p-2 rounded-lg ${getCategoryColor(assignment?.category)}`}>\n                  <Icon name={getCategoryIcon(assignment?.category)} size={20} />\n                </div>\n                <div>\n                  <h3 className=\"font-heading font-heading-semibold text-base text-card-foreground\">\n                    {assignment?.title}\n                  </h3>\n                  <div className=\"flex items-center space-x-4 mt-1\">\n                    <span className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                      {categoryOptions?.find(c => c?.value === assignment?.category)?.label}\n                    </span>\n                    <span className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                      Max: {assignment?.maxScore} points\n                    </span>\n                    <span className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                      Poids: {assignment?.weight}%\n                    </span>\n                    <span className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                      √âch√©ance: {new Date(assignment.dueDate)?.toLocaleDateString('fr-FR')}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex items-center space-x-2\">\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => openEditModal(assignment)}\n                >\n                  <Icon name=\"Edit\" size={14} />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => onAssignmentDelete(assignment?.id)}\n                >\n                  <Icon name=\"Trash2\" size={14} />\n                </Button>\n              </div>\n            </div>\n\n            {assignment?.description && (\n              <p className=\"font-body font-body-normal text-sm text-muted-foreground mt-3 pl-12\">\n                {assignment?.description}\n              </p>\n            )}\n          </div>\n        ))}\n\n        {assignments?.length === 0 && (\n          <div className=\"text-center py-12\">\n            <Icon name=\"FileText\" size={48} className=\"text-muted-foreground mx-auto mb-4\" />\n            <h3 className=\"font-heading font-heading-semibold text-lg text-text-primary mb-2\">\n              Aucune √©valuation\n            </h3>\n            <p className=\"font-body font-body-normal text-sm text-text-secondary mb-4\">\n              Commencez par cr√©er votre premi√®re √©valuation\n            </p>\n            <Button variant=\"default\" onClick={openCreateModal}>\n              <Icon name=\"Plus\" size={16} className=\"mr-2\" />\n              Cr√©er une √©valuation\n            </Button>\n          </div>\n        )}\n      </div>\n      {/* Create/Edit Modal */}\n      {isCreateModalOpen && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-surface rounded-lg shadow-modal w-full max-w-lg mx-4\">\n            <div className=\"flex items-center justify-between p-6 border-b border-border\">\n              <h3 className=\"font-heading font-heading-semibold text-lg text-text-primary\">\n                {editingAssignment ? 'Modifier l\\'√©valuation' : 'Nouvelle √©valuation'}\n              </h3>\n              <Button variant=\"ghost\" size=\"icon\" onClick={() => setIsCreateModalOpen(false)}>\n                <Icon name=\"X\" size={20} />\n              </Button>\n            </div>\n\n            <div className=\"p-6 space-y-4\">\n              <Input\n                label=\"Titre de l'√©valuation\"\n                placeholder=\"Ex: Contr√¥le de math√©matiques\"\n                value={formData?.title}\n                onChange={(e) => setFormData(prev => ({ ...prev, title: e?.target?.value }))}\n                error={errors?.title}\n                required\n              />\n\n              <div>\n                <label className=\"block font-body font-body-semibold text-sm text-text-primary mb-2\">\n                  Description (optionnel)\n                </label>\n                <textarea\n                  className=\"w-full px-3 py-2 border border-border rounded-md bg-input text-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none\"\n                  rows=\"3\"\n                  placeholder=\"Description de l'√©valuation...\"\n                  value={formData?.description}\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e?.target?.value }))}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <Select\n                  label=\"Cat√©gorie\"\n                  options={categoryOptions}\n                  value={formData?.category}\n                  onChange={(value) => setFormData(prev => ({ ...prev, category: value }))}\n                  error={errors?.category}\n                  required\n                />\n\n                <Select\n                  label=\"Type d'√©valuation\"\n                  options={gradeTypeOptions}\n                  value={formData?.gradeType}\n                  onChange={(value) => setFormData(prev => ({ ...prev, gradeType: value }))}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <Input\n                  label=\"Score maximum\"\n                  type=\"number\"\n                  placeholder=\"100\"\n                  value={formData?.maxScore}\n                  onChange={(e) => setFormData(prev => ({ ...prev, maxScore: e?.target?.value }))}\n                  error={errors?.maxScore}\n                  min=\"1\"\n                  step=\"0.1\"\n                  required\n                />\n\n                <Input\n                  label=\"Poids (%)\"\n                  type=\"number\"\n                  placeholder=\"10\"\n                  value={formData?.weight}\n                  onChange={(e) => setFormData(prev => ({ ...prev, weight: e?.target?.value }))}\n                  error={errors?.weight}\n                  min=\"0.1\"\n                  step=\"0.1\"\n                  required\n                />\n              </div>\n\n              <Input\n                label=\"Date d'√©ch√©ance\"\n                type=\"date\"\n                value={formData?.dueDate}\n                onChange={(e) => setFormData(prev => ({ ...prev, dueDate: e?.target?.value }))}\n                error={errors?.dueDate}\n                required\n              />\n            </div>\n\n            <div className=\"flex items-center justify-end space-x-3 p-6 border-t border-border\">\n              <Button variant=\"outline\" onClick={() => setIsCreateModalOpen(false)}>\n                Annuler\n              </Button>\n              <Button variant=\"default\" onClick={handleSubmit}>\n                <Icon name=\"Save\" size={16} className=\"mr-2\" />\n                {editingAssignment ? 'Modifier' : 'Cr√©er'}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AssignmentManager;","import React, { useState, useMemo } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, LineChart, Line, PieChart, Pie, Cell } from 'recharts';\nimport Icon from '../../../components/AppIcon';\n\nimport Select from '../../../components/ui/Select';\n\nconst GradeAnalytics = ({ students, assignments }) => {\n  const [selectedPeriod, setSelectedPeriod] = useState('all');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [viewType, setViewType] = useState('overview');\n\n  const periodOptions = [\n    { value: 'all', label: 'Toute l\\'ann√©e' },\n    { value: 'current', label: 'P√©riode actuelle' },\n    { value: 'last30', label: '30 derniers jours' },\n    { value: 'last7', label: '7 derniers jours' }\n  ];\n\n  const categoryOptions = [\n    { value: 'all', label: 'Toutes cat√©gories' },\n    { value: 'test', label: 'Contr√¥les' },\n    { value: 'homework', label: 'Devoirs' },\n    { value: 'project', label: 'Projets' },\n    { value: 'participation', label: 'Participation' }\n  ];\n\n  const viewTypeOptions = [\n    { value: 'overview', label: 'Vue d\\'ensemble' },\n    { value: 'trends', label: 'Tendances' },\n    { value: 'distribution', label: 'Distribution' }\n  ];\n\n  // Calculate analytics data\n  const analyticsData = useMemo(() => {\n    const filteredAssignments = assignments?.filter(assignment => {\n      if (selectedCategory !== 'all' && assignment?.category !== selectedCategory) {\n        return false;\n      }\n\n      if (selectedPeriod !== 'all') {\n        const assignmentDate = new Date(assignment.dueDate);\n        const now = new Date();\n        \n        switch (selectedPeriod) {\n          case 'current':\n            return assignmentDate?.getMonth() === now?.getMonth();\n          case 'last30':\n            return (now - assignmentDate) <= (30 * 24 * 60 * 60 * 1000);\n          case 'last7':\n            return (now - assignmentDate) <= (7 * 24 * 60 * 60 * 1000);\n          default:\n            return true;\n        }\n      }\n\n      return true;\n    });\n\n    // Class average by assignment\n    const classAverages = filteredAssignments?.map(assignment => {\n      const grades = students?.map(student => assignment?.currentGrade?.percentage)?.filter(grade => grade !== undefined);\n      \n      const average = grades?.length > 0 \n        ? grades?.reduce((sum, grade) => sum + parseFloat(grade), 0) / grades?.length\n        : 0;\n\n      return {\n        name: assignment?.title?.substring(0, 15) + (assignment?.title?.length > 15 ? '...' : ''),\n        average: parseFloat(average?.toFixed(1)),\n        category: assignment?.category,\n        totalStudents: students?.length,\n        gradedStudents: grades?.length\n      };\n    });\n\n    // Grade distribution\n    const gradeRanges = [\n      { range: 'A (90-100%)', min: 90, max: 100, count: 0, color: '#27AE60' },\n      { range: 'B (80-89%)', min: 80, max: 89, count: 0, color: '#2A5CAA' },\n      { range: 'C (70-79%)', min: 70, max: 79, count: 0, color: '#F4C430' },\n      { range: 'D (60-69%)', min: 60, max: 69, count: 0, color: '#F39C12' },\n      { range: 'F (<60%)', min: 0, max: 59, count: 0, color: '#E74C3C' }\n    ];\n\n    filteredAssignments?.forEach(assignment => {\n      students?.forEach(student => {\n        const grade = assignment?.currentGrade?.percentage;\n        if (grade !== undefined) {\n          const percentage = parseFloat(grade);\n          gradeRanges?.forEach(range => {\n            if (percentage >= range?.min && percentage <= range?.max) {\n              range.count++;\n            }\n          });\n        }\n      });\n    });\n\n    // Student performance trends\n    const studentTrends = students?.map(student => {\n      const studentGrades = filteredAssignments?.filter(assignment => assignment?.currentGrade?.percentage)?.map(assignment => ({\n          assignment: assignment?.title,\n          grade: parseFloat(assignment?.currentGrade?.percentage),\n          date: assignment?.dueDate\n        }))?.sort((a, b) => new Date(a.date) - new Date(b.date));\n\n      const average = studentGrades?.length > 0\n        ? studentGrades?.reduce((sum, g) => sum + g?.grade, 0) / studentGrades?.length\n        : 0;\n\n      return {\n        name: student?.name,\n        average: parseFloat(average?.toFixed(1)),\n        trend: studentGrades?.length >= 2 \n          ? studentGrades?.[studentGrades?.length - 1]?.grade - studentGrades?.[0]?.grade\n          : 0,\n        totalAssignments: filteredAssignments?.length,\n        completedAssignments: studentGrades?.length\n      };\n    })?.sort((a, b) => b?.average - a?.average);\n\n    return {\n      classAverages,\n      gradeDistribution: gradeRanges,\n      studentTrends,\n      totalAssignments: filteredAssignments?.length,\n      overallClassAverage: classAverages?.length > 0 \n        ? classAverages?.reduce((sum, item) => sum + item?.average, 0) / classAverages?.length\n        : 0\n    };\n  }, [students, assignments, selectedPeriod, selectedCategory]);\n\n  const renderOverviewCharts = () => (\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n      {/* Class Averages by Assignment */}\n      <div className=\"bg-card border border-border rounded-lg p-6\">\n        <h3 className=\"font-heading font-heading-semibold text-lg text-card-foreground mb-4\">\n          Moyennes par √©valuation\n        </h3>\n        <div className=\"h-64\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <BarChart data={analyticsData?.classAverages}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--color-border)\" />\n              <XAxis \n                dataKey=\"name\" \n                stroke=\"var(--color-text-secondary)\"\n                fontSize={12}\n                angle={-45}\n                textAnchor=\"end\"\n                height={80}\n              />\n              <YAxis \n                stroke=\"var(--color-text-secondary)\"\n                fontSize={12}\n                domain={[0, 100]}\n              />\n              <Tooltip \n                contentStyle={{\n                  backgroundColor: 'var(--color-popover)',\n                  border: '1px solid var(--color-border)',\n                  borderRadius: '8px'\n                }}\n              />\n              <Bar \n                dataKey=\"average\" \n                fill=\"var(--color-primary)\"\n                radius={[4, 4, 0, 0]}\n              />\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Grade Distribution */}\n      <div className=\"bg-card border border-border rounded-lg p-6\">\n        <h3 className=\"font-heading font-heading-semibold text-lg text-card-foreground mb-4\">\n          Distribution des notes\n        </h3>\n        <div className=\"h-64\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <PieChart>\n              <Pie\n                data={analyticsData?.gradeDistribution}\n                cx=\"50%\"\n                cy=\"50%\"\n                outerRadius={80}\n                dataKey=\"count\"\n                label={({ range, count }) => count > 0 ? `${range}: ${count}` : ''}\n              >\n                {analyticsData?.gradeDistribution?.map((entry, index) => (\n                  <Cell key={`cell-${index}`} fill={entry?.color} />\n                ))}\n              </Pie>\n              <Tooltip />\n            </PieChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderTrendsChart = () => (\n    <div className=\"bg-card border border-border rounded-lg p-6\">\n      <h3 className=\"font-heading font-heading-semibold text-lg text-card-foreground mb-4\">\n        √âvolution des moyennes de classe\n      </h3>\n      <div className=\"h-80\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <LineChart data={analyticsData?.classAverages}>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--color-border)\" />\n            <XAxis \n              dataKey=\"name\" \n              stroke=\"var(--color-text-secondary)\"\n              fontSize={12}\n            />\n            <YAxis \n              stroke=\"var(--color-text-secondary)\"\n              fontSize={12}\n              domain={[0, 100]}\n            />\n            <Tooltip \n              contentStyle={{\n                backgroundColor: 'var(--color-popover)',\n                border: '1px solid var(--color-border)',\n                borderRadius: '8px'\n              }}\n            />\n            <Line \n              type=\"monotone\" \n              dataKey=\"average\" \n              stroke=\"var(--color-primary)\"\n              strokeWidth={3}\n              dot={{ fill: 'var(--color-primary)', strokeWidth: 2, r: 6 }}\n            />\n          </LineChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n\n  const renderStudentRanking = () => (\n    <div className=\"bg-card border border-border rounded-lg p-6\">\n      <h3 className=\"font-heading font-heading-semibold text-lg text-card-foreground mb-4\">\n        Classement des √©l√®ves\n      </h3>\n      <div className=\"space-y-3 max-h-80 overflow-y-auto\">\n        {analyticsData?.studentTrends?.map((student, index) => (\n          <div key={student?.name} className=\"flex items-center justify-between p-3 bg-muted rounded-lg\">\n            <div className=\"flex items-center space-x-3\">\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center font-heading font-heading-semibold text-sm ${\n                index === 0 ? 'bg-success text-white' :\n                index === 1 ? 'bg-primary text-white' :\n                index === 2 ? 'bg-warning text-white': 'bg-muted-foreground text-white'\n              }`}>\n                {index + 1}\n              </div>\n              <div>\n                <h4 className=\"font-body font-body-semibold text-sm text-card-foreground\">\n                  {student?.name}\n                </h4>\n                <p className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                  {student?.completedAssignments}/{student?.totalAssignments} √©valuations\n                </p>\n              </div>\n            </div>\n            <div className=\"text-right\">\n              <div className=\"font-heading font-heading-semibold text-lg text-primary\">\n                {student?.average}%\n              </div>\n              <div className={`flex items-center space-x-1 font-caption font-caption-normal text-xs ${\n                student?.trend > 0 ? 'text-success' : student?.trend < 0 ? 'text-error' : 'text-muted-foreground'\n              }`}>\n                <Icon \n                  name={student?.trend > 0 ? 'TrendingUp' : student?.trend < 0 ? 'TrendingDown' : 'Minus'} \n                  size={12} \n                />\n                <span>{Math.abs(student?.trend)?.toFixed(1)}%</span>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header with Controls */}\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0\">\n        <div>\n          <h2 className=\"font-heading font-heading-semibold text-xl text-text-primary\">\n            Analyses des notes\n          </h2>\n          <p className=\"font-body font-body-normal text-sm text-text-secondary mt-1\">\n            Moyenne g√©n√©rale: {analyticsData?.overallClassAverage?.toFixed(1)}% ‚Ä¢ {analyticsData?.totalAssignments} √©valuations\n          </p>\n        </div>\n\n        <div className=\"flex flex-wrap items-center gap-3\">\n          <Select\n            options={viewTypeOptions}\n            value={viewType}\n            onChange={setViewType}\n            className=\"w-40\"\n          />\n          <Select\n            options={periodOptions}\n            value={selectedPeriod}\n            onChange={setSelectedPeriod}\n            className=\"w-40\"\n          />\n          <Select\n            options={categoryOptions}\n            value={selectedCategory}\n            onChange={setSelectedCategory}\n            className=\"w-40\"\n          />\n        </div>\n      </div>\n      {/* Analytics Content */}\n      {viewType === 'overview' && (\n        <div className=\"space-y-6\">\n          {renderOverviewCharts()}\n          {renderStudentRanking()}\n        </div>\n      )}\n      {viewType === 'trends' && (\n        <div className=\"space-y-6\">\n          {renderTrendsChart()}\n          {renderStudentRanking()}\n        </div>\n      )}\n      {viewType === 'distribution' && (\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          <div className=\"lg:col-span-2\">\n            {renderOverviewCharts()}\n          </div>\n          <div>\n            {renderStudentRanking()}\n          </div>\n        </div>\n      )}\n      {/* Summary Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-card border border-border rounded-lg p-4 text-center\">\n          <div className=\"font-heading font-heading-semibold text-2xl text-success\">\n            {analyticsData?.gradeDistribution?.find(g => g?.range?.includes('A'))?.count || 0}\n          </div>\n          <div className=\"font-body font-body-normal text-sm text-muted-foreground\">\n            Notes A (90-100%)\n          </div>\n        </div>\n        <div className=\"bg-card border border-border rounded-lg p-4 text-center\">\n          <div className=\"font-heading font-heading-semibold text-2xl text-primary\">\n            {analyticsData?.overallClassAverage?.toFixed(1)}%\n          </div>\n          <div className=\"font-body font-body-normal text-sm text-muted-foreground\">\n            Moyenne g√©n√©rale\n          </div>\n        </div>\n        <div className=\"bg-card border border-border rounded-lg p-4 text-center\">\n          <div className=\"font-heading font-heading-semibold text-2xl text-warning\">\n            {analyticsData?.studentTrends?.filter(s => s?.completedAssignments < s?.totalAssignments)?.length}\n          </div>\n          <div className=\"font-body font-body-normal text-sm text-muted-foreground\">\n            √âvaluations manquantes\n          </div>\n        </div>\n        <div className=\"bg-card border border-border rounded-lg p-4 text-center\">\n          <div className=\"font-heading font-heading-semibold text-2xl text-accent\">\n            {analyticsData?.totalAssignments}\n          </div>\n          <div className=\"font-body font-body-normal text-sm text-muted-foreground\">\n            Total √©valuations\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GradeAnalytics;","import React, { useState, useEffect } from 'react';\nimport Icon from '../../../components/AppIcon';\nimport Button from '../../../components/ui/Button';\nimport Input from '../../../components/ui/Input';\nimport Select from '../../../components/ui/Select';\n\nconst BulkGradeEntry = ({ isOpen, onClose, students, assignment, onBulkSave }) => {\n  const [gradeEntries, setGradeEntries] = useState([]);\n  const [bulkAction, setBulkAction] = useState('');\n  const [bulkValue, setBulkValue] = useState('');\n  const [errors, setErrors] = useState({});\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const bulkActionOptions = [\n    { value: '', label: 'S√©lectionner une action' },\n    { value: 'set_all', label: 'D√©finir la m√™me note pour tous' },\n    { value: 'add_points', label: 'Ajouter des points √† tous' },\n    { value: 'multiply', label: 'Multiplier toutes les notes' },\n    { value: 'curve', label: 'Appliquer une courbe' }\n  ];\n\n  useEffect(() => {\n    if (isOpen && students && assignment) {\n      const initialEntries = students?.map(student => ({\n        studentId: student?.id,\n        studentName: student?.name,\n        currentScore: assignment?.currentGrade?.score || '',\n        newScore: assignment?.currentGrade?.score || '',\n        maxScore: assignment?.maxScore,\n        comments: assignment?.currentGrade?.comments || '',\n        hasChanges: false\n      }));\n      setGradeEntries(initialEntries);\n      setErrors({});\n    }\n  }, [isOpen, students, assignment]);\n\n  const updateGradeEntry = (studentId, field, value) => {\n    setGradeEntries(prev => prev?.map(entry => {\n      if (entry?.studentId === studentId) {\n        const updated = { ...entry, [field]: value };\n        updated.hasChanges = updated?.newScore !== updated?.currentScore || updated?.comments !== (assignment?.currentGrade?.comments || '');\n        return updated;\n      }\n      return entry;\n    }));\n\n    // Clear error for this student\n    if (errors?.[studentId]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors?.[studentId];\n        return newErrors;\n      });\n    }\n  };\n\n  const applyBulkAction = () => {\n    if (!bulkAction || !bulkValue) return;\n\n    setGradeEntries(prev => prev?.map(entry => {\n      let newScore = parseFloat(entry?.newScore) || 0;\n      const maxScore = parseFloat(entry?.maxScore);\n\n      switch (bulkAction) {\n        case 'set_all':\n          newScore = parseFloat(bulkValue);\n          break;\n        case 'add_points':\n          newScore = (parseFloat(entry?.newScore) || 0) + parseFloat(bulkValue);\n          break;\n        case 'multiply':\n          newScore = (parseFloat(entry?.newScore) || 0) * parseFloat(bulkValue);\n          break;\n        case 'curve':\n          // Simple curve: add percentage of max score\n          const curvePercent = parseFloat(bulkValue) / 100;\n          newScore = (parseFloat(entry?.newScore) || 0) + (maxScore * curvePercent);\n          break;\n        default:\n          return entry;\n      }\n\n      // Ensure score doesn't exceed max score\n      newScore = Math.min(Math.max(0, newScore), maxScore);\n\n      return {\n        ...entry,\n        newScore: newScore?.toString(),\n        hasChanges: true\n      };\n    }));\n\n    setBulkAction('');\n    setBulkValue('');\n  };\n\n  const validateEntries = () => {\n    const newErrors = {};\n\n    gradeEntries?.forEach(entry => {\n      if (entry?.hasChanges) {\n        const score = parseFloat(entry?.newScore);\n        const maxScore = parseFloat(entry?.maxScore);\n\n        if (isNaN(score)) {\n          newErrors[entry.studentId] = 'Score invalide';\n        } else if (score < 0) {\n          newErrors[entry.studentId] = 'Le score ne peut pas √™tre n√©gatif';\n        } else if (score > maxScore) {\n          newErrors[entry.studentId] = `Le score ne peut pas d√©passer ${maxScore}`;\n        }\n      }\n    });\n\n    setErrors(newErrors);\n    return Object.keys(newErrors)?.length === 0;\n  };\n\n  const handleSave = async () => {\n    if (!validateEntries()) return;\n\n    setIsProcessing(true);\n\n    const changedEntries = gradeEntries?.filter(entry => entry?.hasChanges);\n    \n    if (changedEntries?.length === 0) {\n      setIsProcessing(false);\n      onClose();\n      return;\n    }\n\n    const bulkGrades = changedEntries?.map(entry => ({\n      studentId: entry?.studentId,\n      assignmentId: assignment?.id,\n      grade: {\n        score: entry?.newScore,\n        maxScore: entry?.maxScore,\n        percentage: ((parseFloat(entry?.newScore) / parseFloat(entry?.maxScore)) * 100)?.toFixed(1),\n        letterGrade: calculateLetterGrade(entry?.newScore, entry?.maxScore),\n        comments: entry?.comments,\n        gradeType: assignment?.gradeType || 'numerical'\n      },\n      timestamp: new Date()?.toISOString()\n    }));\n\n    try {\n      await onBulkSave(bulkGrades);\n      onClose();\n    } catch (error) {\n      console.error('Error saving bulk grades:', error);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const calculateLetterGrade = (score, maxScore) => {\n    const percentage = (parseFloat(score) / parseFloat(maxScore)) * 100;\n    if (percentage >= 97) return 'A+';\n    if (percentage >= 93) return 'A';\n    if (percentage >= 90) return 'B+';\n    if (percentage >= 87) return 'B';\n    if (percentage >= 83) return 'C+';\n    if (percentage >= 80) return 'C';\n    if (percentage >= 70) return 'D';\n    return 'F';\n  };\n\n  const getScoreColor = (score, maxScore) => {\n    const percentage = (parseFloat(score) / parseFloat(maxScore)) * 100;\n    if (percentage >= 90) return 'text-success';\n    if (percentage >= 80) return 'text-primary';\n    if (percentage >= 70) return 'text-warning';\n    return 'text-error';\n  };\n\n  const changedCount = gradeEntries?.filter(entry => entry?.hasChanges)?.length;\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-surface rounded-lg shadow-modal w-full max-w-4xl mx-4 max-h-[90vh] flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-border\">\n          <div>\n            <h3 className=\"font-heading font-heading-semibold text-lg text-text-primary\">\n              Saisie group√©e des notes\n            </h3>\n            <p className=\"font-body font-body-normal text-sm text-text-secondary mt-1\">\n              {assignment?.title} ‚Ä¢ {students?.length} √©l√®ves\n            </p>\n          </div>\n          <Button variant=\"ghost\" size=\"icon\" onClick={onClose}>\n            <Icon name=\"X\" size={20} />\n          </Button>\n        </div>\n\n        {/* Bulk Actions */}\n        <div className=\"p-6 border-b border-border\">\n          <div className=\"flex items-end space-x-4\">\n            <div className=\"flex-1\">\n              <Select\n                label=\"Action group√©e\"\n                options={bulkActionOptions}\n                value={bulkAction}\n                onChange={setBulkAction}\n              />\n            </div>\n            <div className=\"flex-1\">\n              <Input\n                label=\"Valeur\"\n                type=\"number\"\n                placeholder=\"Entrer la valeur\"\n                value={bulkValue}\n                onChange={(e) => setBulkValue(e?.target?.value)}\n                disabled={!bulkAction}\n                step=\"0.1\"\n              />\n            </div>\n            <Button\n              variant=\"outline\"\n              onClick={applyBulkAction}\n              disabled={!bulkAction || !bulkValue}\n            >\n              <Icon name=\"Zap\" size={16} className=\"mr-2\" />\n              Appliquer\n            </Button>\n          </div>\n        </div>\n\n        {/* Grade Entries */}\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          <div className=\"space-y-4\">\n            {gradeEntries?.map((entry) => (\n              <div\n                key={entry?.studentId}\n                className={`p-4 border rounded-lg transition-state ${\n                  entry?.hasChanges \n                    ? 'border-primary bg-primary/5' :'border-border bg-card'\n                } ${errors?.[entry?.studentId] ? 'border-error' : ''}`}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"w-10 h-10 bg-primary rounded-full flex items-center justify-center\">\n                      <span className=\"font-heading font-heading-semibold text-sm text-primary-foreground\">\n                        {entry?.studentName?.split(' ')?.map(n => n?.[0])?.join('')?.substring(0, 2)}\n                      </span>\n                    </div>\n                    <div>\n                      <h4 className=\"font-body font-body-semibold text-sm text-card-foreground\">\n                        {entry?.studentName}\n                      </h4>\n                      {entry?.currentScore && (\n                        <p className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                          Note actuelle: {entry?.currentScore}/{entry?.maxScore}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <Input\n                        type=\"number\"\n                        placeholder=\"0\"\n                        value={entry?.newScore}\n                        onChange={(e) => updateGradeEntry(entry?.studentId, 'newScore', e?.target?.value)}\n                        className=\"w-20\"\n                        min=\"0\"\n                        max={entry?.maxScore}\n                        step=\"0.1\"\n                      />\n                      <span className=\"font-body font-body-normal text-sm text-muted-foreground\">\n                        / {entry?.maxScore}\n                      </span>\n                    </div>\n\n                    {entry?.newScore && (\n                      <div className=\"text-right\">\n                        <div className={`font-heading font-heading-semibold text-sm ${getScoreColor(entry?.newScore, entry?.maxScore)}`}>\n                          {((parseFloat(entry?.newScore) / parseFloat(entry?.maxScore)) * 100)?.toFixed(1)}%\n                        </div>\n                        <div className={`font-caption font-caption-normal text-xs ${getScoreColor(entry?.newScore, entry?.maxScore)}`}>\n                          {calculateLetterGrade(entry?.newScore, entry?.maxScore)}\n                        </div>\n                      </div>\n                    )}\n\n                    {entry?.hasChanges && (\n                      <Icon name=\"AlertCircle\" size={16} className=\"text-primary\" />\n                    )}\n                  </div>\n                </div>\n\n                {errors?.[entry?.studentId] && (\n                  <p className=\"font-body font-body-normal text-sm text-error mt-2\">\n                    {errors?.[entry?.studentId]}\n                  </p>\n                )}\n\n                {/* Comments */}\n                <div className=\"mt-3\">\n                  <textarea\n                    className=\"w-full px-3 py-2 border border-border rounded-md bg-input text-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none text-sm\"\n                    rows=\"2\"\n                    placeholder=\"Commentaires (optionnel)...\"\n                    value={entry?.comments}\n                    onChange={(e) => updateGradeEntry(entry?.studentId, 'comments', e?.target?.value)}\n                  />\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex items-center justify-between p-6 border-t border-border\">\n          <div className=\"font-body font-body-normal text-sm text-text-secondary\">\n            {changedCount} modification{changedCount !== 1 ? 's' : ''} en attente\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            <Button variant=\"outline\" onClick={onClose} disabled={isProcessing}>\n              Annuler\n            </Button>\n            <Button \n              variant=\"default\" \n              onClick={handleSave} \n              disabled={changedCount === 0 || isProcessing}\n              loading={isProcessing}\n            >\n              <Icon name=\"Save\" size={16} className=\"mr-2\" />\n              Enregistrer {changedCount > 0 ? `(${changedCount})` : ''}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BulkGradeEntry;","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Icon from '../../components/AppIcon';\nimport Button from '../../components/ui/Button';\nimport Select from '../../components/ui/Select';\nimport Input from '../../components/ui/Input';\nimport Header from '../../components/ui/Header';\nimport Sidebar from '../../components/ui/Sidebar';\nimport NotificationCenter from '../../components/ui/NotificationCenter';\nimport AccessibilityControls from '../../components/ui/AccessibilityControls';\n\n// Import components\nimport GradeEntryModal from './components/GradeEntryModal';\nimport StudentGradeCard from './components/StudentGradeCard';\nimport AssignmentManager from './components/AssignmentManager';\nimport GradeAnalytics from './components/GradeAnalytics';\nimport BulkGradeEntry from './components/BulkGradeEntry';\n\nconst GradeManagementSystem = () => {\n  const navigate = useNavigate();\n  const [currentUser] = useState({\n    role: 'secretary',\n    name: 'Marie Dubois',\n    id: 'secretary_001'\n  });\n\n  // UI State\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\n  const [activeTab, setActiveTab] = useState('grades');\n  const [selectedClass, setSelectedClass] = useState('6A');\n  const [selectedSubject, setSelectedSubject] = useState('mathematics');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [viewMode, setViewMode] = useState('cards');\n\n  // Modal States\n  const [isGradeModalOpen, setIsGradeModalOpen] = useState(false);\n  const [isBulkEntryOpen, setIsBulkEntryOpen] = useState(false);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [selectedAssignment, setSelectedAssignment] = useState(null);\n\n  // Data States\n  const [students, setStudents] = useState([]);\n  const [assignments, setAssignments] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // Mock Data\n  const mockStudents = [\n    {\n      id: 'student_001',\n      name: 'Lucas Martin',\n      class: '6A',\n      avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face',\n      status: 'present'\n    },\n    {\n      id: 'student_002',\n      name: 'Emma Dubois',\n      class: '6A',\n      avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face',\n      status: 'present'\n    },\n    {\n      id: 'student_003',\n      name: 'Noah Leroy',\n      class: '6A',\n      avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face',\n      status: 'absent'\n    },\n    {\n      id: 'student_004',\n      name: 'L√©a Bernard',\n      class: '6A',\n      avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face',\n      status: 'present'\n    },\n    {\n      id: 'student_005',\n      name: 'Hugo Moreau',\n      class: '6A',\n      avatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face',\n      status: 'present'\n    },\n    {\n      id: 'student_006',\n      name: 'Chlo√© Petit',\n      class: '6A',\n      avatar: 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face',\n      status: 'present'\n    }\n  ];\n\n  const mockAssignments = [\n    {\n      id: 'assignment_001',\n      title: 'Contr√¥le Alg√®bre',\n      description: '√âvaluation sur les √©quations du premier degr√©',\n      category: 'test',\n      maxScore: 20,\n      weight: 25,\n      dueDate: '2024-12-15T10:00:00Z',\n      gradeType: 'numerical',\n      createdAt: '2024-12-01T08:00:00Z',\n      currentGrade: {\n        score: '16',\n        percentage: '80.0',\n        letterGrade: 'B',\n        comments: 'Bon travail, quelques erreurs de calcul'\n      }\n    },\n    {\n      id: 'assignment_002',\n      title: 'Devoir G√©om√©trie',\n      description: 'Exercices sur les triangles et leurs propri√©t√©s',\n      category: 'homework',\n      maxScore: 15,\n      weight: 15,\n      dueDate: '2024-12-18T23:59:00Z',\n      gradeType: 'numerical',\n      createdAt: '2024-12-05T14:00:00Z',\n      currentGrade: {\n        score: '13',\n        percentage: '86.7',\n        letterGrade: 'B',\n        comments: 'Tr√®s bien, construction pr√©cise'\n      }\n    },\n    {\n      id: 'assignment_003',\n      title: 'Projet Statistiques',\n      description: 'Analyse de donn√©es et cr√©ation de graphiques',\n      category: 'project',\n      maxScore: 25,\n      weight: 30,\n      dueDate: '2024-12-20T17:00:00Z',\n      gradeType: 'numerical',\n      createdAt: '2024-11-25T09:00:00Z'\n    },\n    {\n      id: 'assignment_004',\n      title: 'Participation Orale',\n      description: '√âvaluation de la participation en classe',\n      category: 'participation',\n      maxScore: 10,\n      weight: 10,\n      dueDate: '2024-12-22T16:00:00Z',\n      gradeType: 'competency',\n      createdAt: '2024-12-01T08:00:00Z',\n      currentGrade: {\n        score: '8',\n        percentage: '80.0',\n        letterGrade: 'meets',\n        comments: 'Participation active et pertinente'\n      }\n    }\n  ];\n\n  const classOptions = [\n    { value: '6A', label: '6√®me A (28 √©l√®ves)' },\n    { value: '6B', label: '6√®me B (26 √©l√®ves)' },\n    { value: '5A', label: '5√®me A (30 √©l√®ves)' },\n    { value: '5B', label: '5√®me B (27 √©l√®ves)' },\n    { value: '4A', label: '4√®me A (25 √©l√®ves)' },\n    { value: '4B', label: '4√®me B (29 √©l√®ves)' }\n  ];\n\n  const subjectOptions = [\n    { value: 'mathematics', label: 'Math√©matiques' },\n    { value: 'french', label: 'Fran√ßais' },\n    { value: 'english', label: 'Anglais' },\n    { value: 'history', label: 'Histoire-G√©ographie' },\n    { value: 'science', label: 'Sciences' },\n    { value: 'physics', label: 'Physique-Chimie' }\n  ];\n\n  const tabOptions = [\n    { value: 'grades', label: 'Notes des √©l√®ves', icon: 'BookOpen' },\n    { value: 'assignments', label: 'Gestion des √©valuations', icon: 'FileText' },\n    { value: 'analytics', label: 'Analyses', icon: 'BarChart3' }\n  ];\n\n  // Initialize data\n  useEffect(() => {\n    setLoading(true);\n    // Simulate API call\n    setTimeout(() => {\n      setStudents(mockStudents);\n      setAssignments(mockAssignments);\n      setLoading(false);\n    }, 1000);\n  }, [selectedClass, selectedSubject]);\n\n  // Filter students based on search\n  const filteredStudents = students?.filter(student =>\n    student?.name?.toLowerCase()?.includes(searchTerm?.toLowerCase()) ||\n    student?.id?.toLowerCase()?.includes(searchTerm?.toLowerCase())\n  );\n\n  // Event Handlers\n  const handleGradeEdit = (student, assignment) => {\n    setSelectedStudent(student);\n    setSelectedAssignment(assignment);\n    setIsGradeModalOpen(true);\n  };\n\n  const handleGradeSave = (gradeData) => {\n    // Update assignment with new grade\n    setAssignments(prev => prev?.map(assignment => {\n      if (assignment?.id === gradeData?.assignmentId) {\n        return {\n          ...assignment,\n          currentGrade: gradeData?.grade\n        };\n      }\n      return assignment;\n    }));\n\n    // Show success notification\n    console.log('Grade saved:', gradeData);\n  };\n\n  const handleBulkGradeSave = async (bulkGrades) => {\n    // Process bulk grade updates\n    bulkGrades?.forEach(gradeData => {\n      setAssignments(prev => prev?.map(assignment => {\n        if (assignment?.id === gradeData?.assignmentId) {\n          return {\n            ...assignment,\n            currentGrade: gradeData?.grade\n          };\n        }\n        return assignment;\n      }));\n    });\n\n    console.log('Bulk grades saved:', bulkGrades);\n  };\n\n  const handleViewDetails = (student) => {\n    navigate('/student-profile-management', { \n      state: { studentId: student?.id, activeTab: 'grades' } \n    });\n  };\n\n  const handleAssignmentCreate = (assignmentData) => {\n    setAssignments(prev => [...prev, assignmentData]);\n  };\n\n  const handleAssignmentUpdate = (assignmentData) => {\n    setAssignments(prev => prev?.map(assignment => \n      assignment?.id === assignmentData?.id ? assignmentData : assignment\n    ));\n  };\n\n  const handleAssignmentDelete = (assignmentId) => {\n    if (window.confirm('√ätes-vous s√ªr de vouloir supprimer cette √©valuation ?')) {\n      setAssignments(prev => prev?.filter(assignment => assignment?.id !== assignmentId));\n    }\n  };\n\n  const openBulkEntry = (assignment) => {\n    setSelectedAssignment(assignment);\n    setIsBulkEntryOpen(true);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-background\">\n        <Header \n          userRole={currentUser?.role}\n          userName={currentUser?.name}\n          isCollapsed={isSidebarCollapsed}\n          onToggleSidebar={() => setIsSidebarCollapsed(!isSidebarCollapsed)}\n        />\n        <Sidebar \n          userRole={currentUser?.role}\n          isCollapsed={isSidebarCollapsed}\n          onToggle={() => setIsSidebarCollapsed(!isSidebarCollapsed)}\n        />\n        <main className={`pt-16 transition-all duration-state ${\n          isSidebarCollapsed ? 'lg:pl-16' : 'lg:pl-64'\n        }`}>\n          <div className=\"flex items-center justify-center h-96\">\n            <div className=\"text-center\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n              <p className=\"font-body font-body-normal text-text-secondary\">\n                Chargement des donn√©es...\n              </p>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header \n        userRole={currentUser?.role}\n        userName={currentUser?.name}\n        isCollapsed={isSidebarCollapsed}\n        onToggleSidebar={() => setIsSidebarCollapsed(!isSidebarCollapsed)}\n      />\n      <Sidebar \n        userRole={currentUser?.role}\n        isCollapsed={isSidebarCollapsed}\n        onToggle={() => setIsSidebarCollapsed(!isSidebarCollapsed)}\n      />\n      <main className={`pt-16 transition-all duration-state ${\n        isSidebarCollapsed ? 'lg:pl-16' : 'lg:pl-64'\n      }`}>\n        <div className=\"p-6 space-y-6\">\n          {/* Page Header */}\n          <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0\">\n            <div>\n              <h1 className=\"font-heading font-heading-bold text-2xl text-text-primary\">\n                Syst√®me de gestion des notes\n              </h1>\n              <p className=\"font-body font-body-normal text-text-secondary mt-1\">\n                G√©rez les √©valuations et suivez les performances acad√©miques\n              </p>\n            </div>\n\n            <div className=\"flex items-center space-x-3\">\n              <NotificationCenter userRole={currentUser?.role} />\n              <AccessibilityControls />\n            </div>\n          </div>\n\n          {/* Controls */}\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0\">\n              <div className=\"flex flex-wrap items-center gap-4\">\n                <Select\n                  label=\"Classe\"\n                  options={classOptions}\n                  value={selectedClass}\n                  onChange={setSelectedClass}\n                  className=\"w-48\"\n                />\n                <Select\n                  label=\"Mati√®re\"\n                  options={subjectOptions}\n                  value={selectedSubject}\n                  onChange={setSelectedSubject}\n                  className=\"w-48\"\n                />\n                <Input\n                  placeholder=\"Rechercher un √©l√®ve...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e?.target?.value)}\n                  className=\"w-64\"\n                />\n              </div>\n\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"flex items-center bg-muted rounded-lg p-1\">\n                  {tabOptions?.map((tab) => (\n                    <button\n                      key={tab?.value}\n                      onClick={() => setActiveTab(tab?.value)}\n                      className={`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-body font-body-normal transition-micro ${\n                        activeTab === tab?.value\n                          ? 'bg-primary text-primary-foreground'\n                          : 'text-text-primary hover:bg-muted-foreground/10'\n                      }`}\n                    >\n                      <Icon name={tab?.icon} size={16} />\n                      <span className=\"hidden sm:inline\">{tab?.label}</span>\n                    </button>\n                  ))}\n                </div>\n\n                {activeTab === 'grades' && (\n                  <div className=\"flex items-center space-x-2\">\n                    <Button\n                      variant={viewMode === 'cards' ? 'default' : 'outline'}\n                      size=\"sm\"\n                      onClick={() => setViewMode('cards')}\n                    >\n                      <Icon name=\"Grid3X3\" size={16} />\n                    </Button>\n                    <Button\n                      variant={viewMode === 'table' ? 'default' : 'outline'}\n                      size=\"sm\"\n                      onClick={() => setViewMode('table')}\n                    >\n                      <Icon name=\"List\" size={16} />\n                    </Button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Content */}\n          {activeTab === 'grades' && (\n            <div className=\"space-y-6\">\n              {/* Quick Actions */}\n              <div className=\"flex flex-wrap items-center gap-3\">\n                <Button variant=\"default\" onClick={() => openBulkEntry(assignments?.[0])}>\n                  <Icon name=\"Edit3\" size={16} className=\"mr-2\" />\n                  Saisie group√©e\n                </Button>\n                <Button variant=\"outline\">\n                  <Icon name=\"Download\" size={16} className=\"mr-2\" />\n                  Exporter les notes\n                </Button>\n                <Button variant=\"outline\">\n                  <Icon name=\"Mail\" size={16} className=\"mr-2\" />\n                  Notifier les parents\n                </Button>\n              </div>\n\n              {/* Student Grades */}\n              {viewMode === 'cards' ? (\n                <div className=\"grid gap-6\">\n                  {filteredStudents?.map((student) => (\n                    <StudentGradeCard\n                      key={student?.id}\n                      student={student}\n                      assignments={assignments}\n                      onGradeEdit={handleGradeEdit}\n                      onViewDetails={handleViewDetails}\n                    />\n                  ))}\n                </div>\n              ) : (\n                <div className=\"bg-card border border-border rounded-lg overflow-hidden\">\n                  <div className=\"overflow-x-auto\">\n                    <table className=\"w-full\">\n                      <thead className=\"bg-muted\">\n                        <tr>\n                          <th className=\"px-6 py-3 text-left font-heading font-heading-semibold text-sm text-text-primary\">\n                            √âl√®ve\n                          </th>\n                          {assignments?.map((assignment) => (\n                            <th key={assignment?.id} className=\"px-4 py-3 text-center font-heading font-heading-semibold text-sm text-text-primary min-w-24\">\n                              {assignment?.title}\n                            </th>\n                          ))}\n                          <th className=\"px-6 py-3 text-center font-heading font-heading-semibold text-sm text-text-primary\">\n                            Moyenne\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"divide-y divide-border\">\n                        {filteredStudents?.map((student) => (\n                          <tr key={student?.id} className=\"hover:bg-muted/50\">\n                            <td className=\"px-6 py-4\">\n                              <div className=\"flex items-center space-x-3\">\n                                <div className=\"w-8 h-8 bg-primary rounded-full flex items-center justify-center\">\n                                  <span className=\"font-heading font-heading-semibold text-xs text-primary-foreground\">\n                                    {student?.name?.split(' ')?.map(n => n?.[0])?.join('')?.substring(0, 2)}\n                                  </span>\n                                </div>\n                                <span className=\"font-body font-body-semibold text-sm text-card-foreground\">\n                                  {student?.name}\n                                </span>\n                              </div>\n                            </td>\n                            {assignments?.map((assignment) => (\n                              <td key={assignment?.id} className=\"px-4 py-4 text-center\">\n                                <button\n                                  onClick={() => handleGradeEdit(student, assignment)}\n                                  className=\"hover:bg-muted rounded px-2 py-1 transition-micro\"\n                                >\n                                  {assignment?.currentGrade ? (\n                                    <div>\n                                      <div className=\"font-heading font-heading-semibold text-sm text-primary\">\n                                        {assignment?.currentGrade?.score}/{assignment?.maxScore}\n                                      </div>\n                                      <div className=\"font-caption font-caption-normal text-xs text-muted-foreground\">\n                                        {assignment?.currentGrade?.percentage}%\n                                      </div>\n                                    </div>\n                                  ) : (\n                                    <div className=\"text-muted-foreground\">\n                                      <Icon name=\"Plus\" size={16} />\n                                    </div>\n                                  )}\n                                </button>\n                              </td>\n                            ))}\n                            <td className=\"px-6 py-4 text-center\">\n                              <div className=\"font-heading font-heading-semibold text-sm text-primary\">\n                                85.5%\n                              </div>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'assignments' && (\n            <AssignmentManager\n              assignments={assignments}\n              onAssignmentCreate={handleAssignmentCreate}\n              onAssignmentUpdate={handleAssignmentUpdate}\n              onAssignmentDelete={handleAssignmentDelete}\n            />\n          )}\n\n          {activeTab === 'analytics' && (\n            <GradeAnalytics\n              students={filteredStudents}\n              assignments={assignments}\n            />\n          )}\n        </div>\n      </main>\n      {/* Modals */}\n      <GradeEntryModal\n        isOpen={isGradeModalOpen}\n        onClose={() => setIsGradeModalOpen(false)}\n        student={selectedStudent}\n        assignment={selectedAssignment}\n        onSave={handleGradeSave}\n      />\n      <BulkGradeEntry\n        isOpen={isBulkEntryOpen}\n        onClose={() => setIsBulkEntryOpen(false)}\n        students={filteredStudents}\n        assignment={selectedAssignment}\n        onBulkSave={handleBulkGradeSave}\n      />\n    </div>\n  );\n};\n\nexport default GradeManagementSystem;"],"names":["AccessibilityControls","className","isOpen","setIsOpen","useState","settings","setSettings","useEffect","savedSettings","parsed","applySettings","updateSetting","key","value","newSettings","settingsToApply","root","_a","_b","_c","_d","resetSettings","defaultSettings","accessibilityOptions","jsxs","Button","jsx","Icon","Fragment","option","e","opt","NotificationCenter","userRole","notifications","setNotifications","unreadCount","setUnreadCount","handleNotificationClick","notificationId","prev","notification","markAllAsRead","n","getNotificationIcon","type","getNotificationColor","GradeEntryModal","onClose","student","assignment","onSave","gradeData","setGradeData","errors","setErrors","gradeTypeOptions","letterGradeOptions","competencyOptions","validateGrade","newErrors","calculateLetterGrade","score","maxScore","percentage","handleSave","finalGrade","Select","Input","StudentGradeCard","assignments","onGradeEdit","onViewDetails","isExpanded","setIsExpanded","calculateOverallAverage","gradedAssignments","a","totalWeightedScore","sum","weight","totalWeight","getGradeColor","getGradeBadgeColor","overallAverage","completedAssignments","totalAssignments","Image","_e","_f","_g","_h","AssignmentManager","onAssignmentCreate","onAssignmentUpdate","onAssignmentDelete","isCreateModalOpen","setIsCreateModalOpen","editingAssignment","setEditingAssignment","formData","setFormData","categoryOptions","resetForm","openCreateModal","openEditModal","validateForm","handleSubmit","assignmentData","getCategoryIcon","category","getCategoryColor","c","GradeAnalytics","students","selectedPeriod","setSelectedPeriod","selectedCategory","setSelectedCategory","viewType","setViewType","periodOptions","viewTypeOptions","analyticsData","useMemo","filteredAssignments","assignmentDate","now","classAverages","grades","grade","average","gradeRanges","range","studentTrends","studentGrades","b","g","item","renderOverviewCharts","ResponsiveContainer","BarChart","CartesianGrid","XAxis","YAxis","Tooltip","Bar","PieChart","Pie","count","entry","index","Cell","renderTrendsChart","LineChart","Line","renderStudentRanking","s","BulkGradeEntry","onBulkSave","gradeEntries","setGradeEntries","bulkAction","setBulkAction","bulkValue","setBulkValue","isProcessing","setIsProcessing","bulkActionOptions","initialEntries","updateGradeEntry","studentId","field","updated","applyBulkAction","newScore","curvePercent","validateEntries","changedEntries","bulkGrades","error","getScoreColor","changedCount","GradeManagementSystem","navigate","useNavigate","currentUser","isSidebarCollapsed","setIsSidebarCollapsed","activeTab","setActiveTab","selectedClass","setSelectedClass","selectedSubject","setSelectedSubject","searchTerm","setSearchTerm","viewMode","setViewMode","isGradeModalOpen","setIsGradeModalOpen","isBulkEntryOpen","setIsBulkEntryOpen","selectedStudent","setSelectedStudent","selectedAssignment","setSelectedAssignment","setStudents","setAssignments","loading","setLoading","mockStudents","mockAssignments","classOptions","subjectOptions","tabOptions","filteredStudents","handleGradeEdit","handleGradeSave","handleBulkGradeSave","handleViewDetails","handleAssignmentCreate","handleAssignmentUpdate","handleAssignmentDelete","assignmentId","openBulkEntry","Header","Sidebar","tab"],"mappings":"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"}